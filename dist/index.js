/*
  Weather
  homepage: <https://github.com/vladmandic/weather>
  author: <https://github.com/vladmandic>'
*/

var rp=Object.create;var ia=Object.defineProperty;var ap=Object.getOwnPropertyDescriptor;var lp=Object.getOwnPropertyNames;var cp=Object.getPrototypeOf,hp=Object.prototype.hasOwnProperty;var up=(e,t,i)=>t in e?ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var th=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var dp=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of lp(t))!hp.call(e,s)&&s!==i&&ia(e,s,{get:()=>t[s],enumerable:!(n=ap(t,s))||n.enumerable});return e};var na=(e,t,i)=>(i=e!=null?rp(cp(e)):{},dp(t||!e||!e.__esModule?ia(i,"default",{value:e,enumerable:!0}):i,e));var ms=(e,t,i)=>(up(e,typeof t!="symbol"?t+"":t,i),i);var eh=th((sa,oa)=>{(function(e,t){typeof sa=="object"&&typeof oa!="undefined"?oa.exports=t():typeof define=="function"&&define.amd?define(t):(e=e||self,e.PullToRefresh=t())})(sa,function(){"use strict";var e={pullStartY:null,pullMoveY:null,handlers:[],styleEl:null,events:null,dist:0,state:"pending",timeout:null,distResisted:0,supportsPassive:!1,supportsPointerEvents:typeof window!="undefined"&&!!window.PointerEvent};try{window.addEventListener("test",null,{get passive(){e.supportsPassive=!0}})}catch(d){}function t(d){if(!d.ptrElement){var p=document.createElement("div");d.mainElement!==document.body?d.mainElement.parentNode.insertBefore(p,d.mainElement):document.body.insertBefore(p,document.body.firstChild),p.classList.add(d.classPrefix+"ptr"),p.innerHTML=d.getMarkup().replace(/__PREFIX__/g,d.classPrefix),d.ptrElement=p,typeof d.onInit=="function"&&d.onInit(d),e.styleEl||(e.styleEl=document.createElement("style"),e.styleEl.setAttribute("id","pull-to-refresh-js-style"),document.head.appendChild(e.styleEl)),e.styleEl.textContent=d.getStyles().replace(/__PREFIX__/g,d.classPrefix).replace(/\s+/g," ")}return d}function i(d){!d.ptrElement||(d.ptrElement.classList.remove(d.classPrefix+"refresh"),d.ptrElement.style[d.cssProp]="0px",setTimeout(function(){d.ptrElement&&d.ptrElement.parentNode&&(d.ptrElement.parentNode.removeChild(d.ptrElement),d.ptrElement=null),e.state="pending"},d.refreshTimeout))}function n(d){var p=d.ptrElement.querySelector("."+d.classPrefix+"icon"),g=d.ptrElement.querySelector("."+d.classPrefix+"text");p&&(e.state==="refreshing"?p.innerHTML=d.iconRefreshing:p.innerHTML=d.iconArrow),g&&(e.state==="releasing"&&(g.innerHTML=d.instructionsReleaseToRefresh),(e.state==="pulling"||e.state==="pending")&&(g.innerHTML=d.instructionsPullToRefresh),e.state==="refreshing"&&(g.innerHTML=d.instructionsRefreshing))}var s={setupDOM:t,onReset:i,update:n},o,r=function(p){return e.pointerEventsEnabled&&e.supportsPointerEvents?p.screenY:p.touches[0].screenY},a=function(){var d;function p(b){var x=e.handlers.filter(function(E){return E.contains(b.target)})[0];e.enable=!!x,x&&e.state==="pending"&&(d=s.setupDOM(x),x.shouldPullToRefresh()&&(e.pullStartY=r(b)),clearTimeout(e.timeout),s.update(x))}function g(b){if(!!(d&&d.ptrElement&&e.enable)){if(e.pullStartY?e.pullMoveY=r(b):d.shouldPullToRefresh()&&(e.pullStartY=r(b)),e.state==="refreshing"){b.cancelable&&d.shouldPullToRefresh()&&e.pullStartY<e.pullMoveY&&b.preventDefault();return}e.state==="pending"&&(d.ptrElement.classList.add(d.classPrefix+"pull"),e.state="pulling",s.update(d)),e.pullStartY&&e.pullMoveY&&(e.dist=e.pullMoveY-e.pullStartY),e.distExtra=e.dist-d.distIgnore,e.distExtra>0&&(b.cancelable&&b.preventDefault(),d.ptrElement.style[d.cssProp]=e.distResisted+"px",e.distResisted=d.resistanceFunction(e.distExtra/d.distThreshold)*Math.min(d.distMax,e.distExtra),e.state==="pulling"&&e.distResisted>d.distThreshold&&(d.ptrElement.classList.add(d.classPrefix+"release"),e.state="releasing",s.update(d)),e.state==="releasing"&&e.distResisted<d.distThreshold&&(d.ptrElement.classList.remove(d.classPrefix+"release"),e.state="pulling",s.update(d)))}}function y(){if(!!(d&&d.ptrElement&&e.enable)){if(clearTimeout(o),o=setTimeout(function(){d&&d.ptrElement&&e.state==="pending"&&s.onReset(d)},500),e.state==="releasing"&&e.distResisted>d.distThreshold)e.state="refreshing",d.ptrElement.style[d.cssProp]=d.distReload+"px",d.ptrElement.classList.add(d.classPrefix+"refresh"),e.timeout=setTimeout(function(){var b=d.onRefresh(function(){return s.onReset(d)});b&&typeof b.then=="function"&&b.then(function(){return s.onReset(d)}),!b&&!d.onRefresh.length&&s.onReset(d)},d.refreshTimeout);else{if(e.state==="refreshing")return;d.ptrElement.style[d.cssProp]="0px",e.state="pending"}s.update(d),d.ptrElement.classList.remove(d.classPrefix+"release"),d.ptrElement.classList.remove(d.classPrefix+"pull"),e.pullStartY=e.pullMoveY=null,e.dist=e.distResisted=0}}function v(){d&&d.mainElement.classList.toggle(d.classPrefix+"top",d.shouldPullToRefresh())}var w=e.supportsPassive?{passive:e.passive||!1}:void 0;return e.pointerEventsEnabled&&e.supportsPointerEvents?(window.addEventListener("pointerup",y),window.addEventListener("pointerdown",p),window.addEventListener("pointermove",g,w)):(window.addEventListener("touchend",y),window.addEventListener("touchstart",p),window.addEventListener("touchmove",g,w)),window.addEventListener("scroll",v),{onTouchEnd:y,onTouchStart:p,onTouchMove:g,onScroll:v,destroy:function(){e.pointerEventsEnabled&&e.supportsPointerEvents?(window.removeEventListener("pointerdown",p),window.removeEventListener("pointerup",y),window.removeEventListener("pointermove",g,w)):(window.removeEventListener("touchstart",p),window.removeEventListener("touchend",y),window.removeEventListener("touchmove",g,w)),window.removeEventListener("scroll",v)}}},l=`
<div class="__PREFIX__box">
  <div class="__PREFIX__content">
    <div class="__PREFIX__icon"></div>
    <div class="__PREFIX__text"></div>
  </div>
</div>
`,c=`
.__PREFIX__ptr {
  box-shadow: inset 0 -3px 5px rgba(0, 0, 0, 0.12);
  pointer-events: none;
  font-size: 0.85em;
  font-weight: bold;
  top: 0;
  height: 0;
  transition: height 0.3s, min-height 0.3s;
  text-align: center;
  width: 100%;
  overflow: hidden;
  display: flex;
  align-items: flex-end;
  align-content: stretch;
}

.__PREFIX__box {
  padding: 10px;
  flex-basis: 100%;
}

.__PREFIX__pull {
  transition: none;
}

.__PREFIX__text {
  margin-top: .33em;
  color: rgba(0, 0, 0, 0.3);
}

.__PREFIX__icon {
  color: rgba(0, 0, 0, 0.3);
  transition: transform .3s;
}

/*
When at the top of the page, disable vertical overscroll so passive touch
listeners can take over.
*/
.__PREFIX__top {
  touch-action: pan-x pan-down pinch-zoom;
}

.__PREFIX__release .__PREFIX__icon {
  transform: rotate(180deg);
}
`,h={distThreshold:60,distMax:80,distReload:50,distIgnore:0,mainElement:"body",triggerElement:"body",ptrElement:".ptr",classPrefix:"ptr--",cssProp:"min-height",iconArrow:"&#8675;",iconRefreshing:"&hellip;",instructionsPullToRefresh:"Pull down to refresh",instructionsReleaseToRefresh:"Release to refresh",instructionsRefreshing:"Refreshing",refreshTimeout:500,getMarkup:function(){return l},getStyles:function(){return c},onInit:function(){},onRefresh:function(){return location.reload()},resistanceFunction:function(d){return Math.min(1,d/2.5)},shouldPullToRefresh:function(){return!window.scrollY}},u=["mainElement","ptrElement","triggerElement"],f=function(d){var p={};return Object.keys(h).forEach(function(g){p[g]=d[g]||h[g]}),p.refreshTimeout=typeof d.refreshTimeout=="number"?d.refreshTimeout:h.refreshTimeout,u.forEach(function(g){typeof p[g]=="string"&&(p[g]=document.querySelector(p[g]))}),e.events||(e.events=a()),p.contains=function(g){return p.triggerElement.contains(g)},p.destroy=function(){clearTimeout(e.timeout);var g=e.handlers.indexOf(p);e.handlers.splice(g,1)},p},m={setPassiveMode:function(p){e.passive=p},setPointerEventsMode:function(p){e.pointerEventsEnabled=p},destroyAll:function(){e.events&&(e.events.destroy(),e.events=null),e.handlers.forEach(function(p){p.destroy()})},init:function(p){p===void 0&&(p={});var g=f(p);return e.handlers.push(g),g},_:{setupHandler:f,setupEvents:a,setupDOM:s.setupDOM,onReset:s.onReset,update:s.update}};return m})});var ja=th((ru,Ua)=>{(function(){"use strict";var e=Math.PI,t=Math.sin,i=Math.cos,n=Math.tan,s=Math.asin,o=Math.atan2,r=Math.acos,a=e/180,l=1e3*60*60*24,c=2440588,h=2451545;function u(D){return D.valueOf()/l-.5+c}function f(D){return new Date((D+.5-c)*l)}function m(D){return u(D)-h}var d=a*23.4397;function p(D,R){return o(t(D)*i(d)-n(R)*t(d),i(D))}function g(D,R){return s(t(R)*i(d)+i(R)*t(d)*t(D))}function y(D,R,F){return o(t(D),i(D)*t(R)-n(F)*i(R))}function v(D,R,F){return s(t(R)*t(F)+i(R)*i(F)*i(D))}function w(D,R){return a*(280.16+360.9856235*D)-R}function b(D){return D<0&&(D=0),2967e-7/Math.tan(D+.00312536/(D+.08901179))}function x(D){return a*(357.5291+.98560028*D)}function E(D){var R=a*(1.9148*t(D)+.02*t(2*D)+3e-4*t(3*D)),F=a*102.9372;return D+R+F+e}function S(D){var R=x(D),F=E(R);return{dec:g(F,0),ra:p(F,0)}}var M={};M.getPosition=function(D,R,F){var ot=a*-F,Q=a*R,bt=m(D),at=S(bt),xt=w(bt,ot)-at.ra;return{azimuth:y(xt,Q,at.dec),altitude:v(xt,Q,at.dec)}};var k=M.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];M.addTime=function(D,R,F){k.push([D,R,F])};var j=9e-4;function X(D,R){return Math.round(D-j-R/(2*e))}function Z(D,R,F){return j+(D+R)/(2*e)+F}function ht(D,R,F){return h+D+.0053*t(R)-.0069*t(2*F)}function At(D,R,F){return r((t(D)-t(R)*t(F))/(i(R)*i(F)))}function z(D){return-2.076*Math.sqrt(D)/60}function kt(D,R,F,ot,Q,bt,at){var xt=At(D,F,ot),qt=Z(xt,R,Q);return ht(qt,bt,at)}M.getTimes=function(D,R,F,ot){ot=ot||0;var Q=a*-F,bt=a*R,at=z(ot),xt=m(D),qt=X(xt,Q),we=Z(0,Q,qt),Ie=x(we),Je=E(Ie),Hi=g(Je,0),Re=ht(we,Ie,Je),Qe,mn,Fe,Te,ti,pn,ue={solarNoon:f(Re),nadir:f(Re-.5)};for(Qe=0,mn=k.length;Qe<mn;Qe+=1)Fe=k[Qe],Te=(Fe[0]+at)*a,ti=kt(Te,Q,bt,Hi,qt,Ie,Je),pn=Re-(ti-Re),ue[Fe[1]]=f(pn),ue[Fe[2]]=f(ti);return ue};function _t(D){var R=a*(218.316+13.176396*D),F=a*(134.963+13.064993*D),ot=a*(93.272+13.22935*D),Q=R+a*6.289*t(F),bt=a*5.128*t(ot),at=385001-20905*i(F);return{ra:p(Q,bt),dec:g(Q,bt),dist:at}}M.getMoonPosition=function(D,R,F){var ot=a*-F,Q=a*R,bt=m(D),at=_t(bt),xt=w(bt,ot)-at.ra,qt=v(xt,Q,at.dec),we=o(t(xt),n(Q)*i(at.dec)-t(at.dec)*i(xt));return qt=qt+b(qt),{azimuth:y(xt,Q,at.dec),altitude:qt,distance:at.dist,parallacticAngle:we}},M.getMoonIllumination=function(D){var R=m(D||new Date),F=S(R),ot=_t(R),Q=149598e3,bt=r(t(F.dec)*t(ot.dec)+i(F.dec)*i(ot.dec)*i(F.ra-ot.ra)),at=o(Q*t(bt),ot.dist-Q*i(bt)),xt=o(i(F.dec)*t(F.ra-ot.ra),t(F.dec)*i(ot.dec)-i(F.dec)*t(ot.dec)*i(F.ra-ot.ra));return{fraction:(1+i(at))/2,phase:.5+.5*at*(xt<0?-1:1)/Math.PI,angle:xt}};function he(D,R){return new Date(D.valueOf()+R*l/24)}M.getMoonTimes=function(D,R,F,ot){var Q=new Date(D);ot?Q.setUTCHours(0,0,0,0):Q.setHours(0,0,0,0);for(var bt=.133*a,at=M.getMoonPosition(Q,R,F).altitude-bt,xt,qt,we,Ie,Je,Hi,Re,Qe,mn,Fe,Te,ti,pn,ue=1;ue<=24&&(xt=M.getMoonPosition(he(Q,ue),R,F).altitude-bt,qt=M.getMoonPosition(he(Q,ue+1),R,F).altitude-bt,Je=(at+qt)/2-xt,Hi=(qt-at)/2,Re=-Hi/(2*Je),Qe=(Je*Re+Hi)*Re+xt,mn=Hi*Hi-4*Je*xt,Fe=0,mn>=0&&(pn=Math.sqrt(mn)/(Math.abs(Je)*2),Te=Re-pn,ti=Re+pn,Math.abs(Te)<=1&&Fe++,Math.abs(ti)<=1&&Fe++,Te<-1&&(Te=ti)),Fe===1?at<0?we=ue+Te:Ie=ue+Te:Fe===2&&(we=ue+(Qe<0?ti:Te),Ie=ue+(Qe<0?Te:ti)),!(we&&Ie));ue+=2)at=qt;var Fo={};return we&&(Fo.rise=he(Q,we)),Ie&&(Fo.set=he(Q,Ie)),!we&&!Ie&&(Fo[Qe>0?"alwaysUp":"alwaysDown"]=!0),Fo},typeof ru=="object"&&typeof Ua!="undefined"?Ua.exports=M:typeof define=="function"&&define.amd?define(M):window.SunCalc=M})()});var op=na(eh());var O=(...e)=>{let t=new Date,i=`${t.getHours().toString().padStart(2,"0")}:${t.getMinutes().toString().padStart(2,"0")}:${t.getSeconds().toString().padStart(2,"0")}.${t.getMilliseconds().toString().padStart(3,"0")}`;console.log(i,...e)};var Gt=class{static async init(){let t=await fetch("../secrets.json");if(!t||!t.ok)return;let i=await t.json();Gt.tomorrow=i.tomorrow,Gt.google=i.google,Gt.darksky=i.darksky,Gt.aqicn=i.aqicn;let n=new URLSearchParams(window.location.search);O("params",{search:n.toString()}),n.has("tomorrow")&&(Gt.tomorrow=n.get("tomorrow")),n.has("google")&&(Gt.google=n.get("google")),n.has("darksky")&&(Gt.darksky=n.get("darksky")),n.has("aqicn")&&(Gt.aqicn=n.get("aqicn")),O("keys",{tomorrow:Gt.tomorrow,google:Gt.google,darksky:Gt.darksky,aqicn:Gt.aqicn})}},Zt=Gt;ms(Zt,"tomorrow",""),ms(Zt,"google",""),ms(Zt,"darksky",""),ms(Zt,"aqicn","");var ei=class extends Error{},zo=class extends ei{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}},Bo=class extends ei{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}},No=class extends ei{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}},ii=class extends ei{},gn=class extends ei{constructor(t){super(`Invalid unit ${t}`)}},Nt=class extends ei{},Me=class extends ei{constructor(){super("Zone is an abstract class")}};var P="numeric",Se="short",ie="long",_n={year:P,month:P,day:P},ps={year:P,month:Se,day:P},ra={year:P,month:Se,day:P,weekday:Se},gs={year:P,month:ie,day:P},_s={year:P,month:ie,day:P,weekday:ie},ys={hour:P,minute:P},vs={hour:P,minute:P,second:P},bs={hour:P,minute:P,second:P,timeZoneName:Se},xs={hour:P,minute:P,second:P,timeZoneName:ie},ws={hour:P,minute:P,hourCycle:"h23"},Ts={hour:P,minute:P,second:P,hourCycle:"h23"},Ms={hour:P,minute:P,second:P,hourCycle:"h23",timeZoneName:Se},Ss={hour:P,minute:P,second:P,hourCycle:"h23",timeZoneName:ie},Es={year:P,month:P,day:P,hour:P,minute:P},Ls={year:P,month:P,day:P,hour:P,minute:P,second:P},Ps={year:P,month:Se,day:P,hour:P,minute:P},ks={year:P,month:Se,day:P,hour:P,minute:P,second:P},aa={year:P,month:Se,day:P,weekday:Se,hour:P,minute:P},Os={year:P,month:ie,day:P,hour:P,minute:P,timeZoneName:Se},Cs={year:P,month:ie,day:P,hour:P,minute:P,second:P,timeZoneName:Se},Ds={year:P,month:ie,day:P,weekday:ie,hour:P,minute:P,timeZoneName:ie},As={year:P,month:ie,day:P,weekday:ie,hour:P,minute:P,second:P,timeZoneName:ie};function V(e){return typeof e=="undefined"}function ze(e){return typeof e=="number"}function Is(e){return typeof e=="number"&&e%1===0}function ih(e){return typeof e=="string"}function nh(e){return Object.prototype.toString.call(e)==="[object Date]"}function Ho(){try{return typeof Intl!="undefined"&&!!Intl.RelativeTimeFormat}catch(e){return!1}}function sh(e){return Array.isArray(e)?e:[e]}function ca(e,t,i){if(e.length!==0)return e.reduce((n,s)=>{let o=[t(s),s];return n&&i(n[0],o[0])===n[0]?n:o},null)[1]}function oh(e,t){return t.reduce((i,n)=>(i[n]=e[n],i),{})}function yi(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Be(e,t,i){return Is(e)&&e>=t&&e<=i}function fp(e,t){return e-t*Math.floor(e/t)}function wt(e,t=2){let i=e<0,n;return i?n="-"+(""+-e).padStart(t,"0"):n=(""+e).padStart(t,"0"),n}function ni(e){if(!(V(e)||e===null||e===""))return parseInt(e,10)}function vi(e){if(!(V(e)||e===null||e===""))return parseFloat(e)}function Rs(e){if(!(V(e)||e===null||e==="")){let t=parseFloat("0."+e)*1e3;return Math.floor(t)}}function yn(e,t,i=!1){let n=10**t;return(i?Math.trunc:Math.round)(e*n)/n}function Wi(e){return e%4===0&&(e%100!==0||e%400===0)}function Zi(e){return Wi(e)?366:365}function vn(e,t){let i=fp(t-1,12)+1,n=e+(t-i)/12;return i===2?Wi(n)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function Fs(e){let t=Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond);return e.year<100&&e.year>=0&&(t=new Date(t),t.setUTCFullYear(t.getUTCFullYear()-1900)),+t}function bn(e){let t=(e+Math.floor(e/4)-Math.floor(e/100)+Math.floor(e/400))%7,i=e-1,n=(i+Math.floor(i/4)-Math.floor(i/100)+Math.floor(i/400))%7;return t===4||n===3?53:52}function zs(e){return e>99?e:e>60?1900+e:2e3+e}function Wo(e,t,i,n=null){let s=new Date(e),o={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};n&&(o.timeZone=n);let r={timeZoneName:t,...o},a=new Intl.DateTimeFormat(i,r).formatToParts(s).find(l=>l.type.toLowerCase()==="timezonename");return a?a.value:null}function Vi(e,t){let i=parseInt(e,10);Number.isNaN(i)&&(i=0);let n=parseInt(t,10)||0,s=i<0||Object.is(i,-0)?-n:n;return i*60+s}function ha(e){let t=Number(e);if(typeof e=="boolean"||e===""||Number.isNaN(t))throw new Nt(`Invalid unit value ${e}`);return t}function xn(e,t){let i={};for(let n in e)if(yi(e,n)){let s=e[n];if(s==null)continue;i[t(n)]=ha(s)}return i}function bi(e,t){let i=Math.trunc(Math.abs(e/60)),n=Math.trunc(Math.abs(e%60)),s=e>=0?"+":"-";switch(t){case"short":return`${s}${wt(i,2)}:${wt(n,2)}`;case"narrow":return`${s}${i}${n>0?`:${n}`:""}`;case"techie":return`${s}${wt(i,2)}${wt(n,2)}`;default:throw new RangeError(`Value format ${t} is out of range for property format`)}}function Bs(e){return oh(e,["hour","minute","second","millisecond"])}var ua=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;var mp=["January","February","March","April","May","June","July","August","September","October","November","December"],da=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],pp=["J","F","M","A","M","J","J","A","S","O","N","D"];function fa(e){switch(e){case"narrow":return[...pp];case"short":return[...da];case"long":return[...mp];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}var ma=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],pa=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],gp=["M","T","W","T","F","S","S"];function ga(e){switch(e){case"narrow":return[...gp];case"short":return[...pa];case"long":return[...ma];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}var _a=["AM","PM"],_p=["Before Christ","Anno Domini"],yp=["BC","AD"],vp=["B","A"];function ya(e){switch(e){case"narrow":return[...vp];case"short":return[...yp];case"long":return[..._p];default:return null}}function rh(e){return _a[e.hour<12?0:1]}function ah(e,t){return ga(t)[e.weekday-1]}function lh(e,t){return fa(t)[e.month-1]}function ch(e,t){return ya(t)[e.year<0?0:1]}function hh(e,t,i="always",n=!1){let s={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},o=["hours","minutes","seconds"].indexOf(e)===-1;if(i==="auto"&&o){let u=e==="days";switch(t){case 1:return u?"tomorrow":`next ${s[e][0]}`;case-1:return u?"yesterday":`last ${s[e][0]}`;case 0:return u?"today":`this ${s[e][0]}`;default:}}let r=Object.is(t,-0)||t<0,a=Math.abs(t),l=a===1,c=s[e],h=n?l?c[1]:c[2]||c[1]:l?s[e][0]:e;return r?`${a} ${h} ago`:`in ${a} ${h}`}function uh(e,t){let i="";for(let n of e)n.literal?i+=n.val:i+=t(n.val);return i}var bp={D:_n,DD:ps,DDD:gs,DDDD:_s,t:ys,tt:vs,ttt:bs,tttt:xs,T:ws,TT:Ts,TTT:Ms,TTTT:Ss,f:Es,ff:Ps,fff:Os,ffff:Ds,F:Ls,FF:ks,FFF:Cs,FFFF:As},Ct=class{static create(t,i={}){return new Ct(t,i)}static parseFormat(t){let i=null,n="",s=!1,o=[];for(let r=0;r<t.length;r++){let a=t.charAt(r);a==="'"?(n.length>0&&o.push({literal:s,val:n}),i=null,n="",s=!s):s||a===i?n+=a:(n.length>0&&o.push({literal:!1,val:n}),n=a,i=a)}return n.length>0&&o.push({literal:s,val:n}),o}static macroTokenToFormatOpts(t){return bp[t]}constructor(t,i){this.opts=i,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(t,{...this.opts,...i}).format()}formatDateTime(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i}).format()}formatDateTimeParts(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i}).formatToParts()}resolvedOptions(t,i={}){return this.loc.dtFormatter(t,{...this.opts,...i}).resolvedOptions()}num(t,i=0){if(this.opts.forceSimple)return wt(t,i);let n={...this.opts};return i>0&&(n.padTo=i),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,i){let n=this.loc.listingMode()==="en",s=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",o=(m,d)=>this.loc.extract(t,m,d),r=m=>t.isOffsetFixed&&t.offset===0&&m.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,m.format):"",a=()=>n?rh(t):o({hour:"numeric",hourCycle:"h12"},"dayperiod"),l=(m,d)=>n?lh(t,m):o(d?{month:m}:{month:m,day:"numeric"},"month"),c=(m,d)=>n?ah(t,m):o(d?{weekday:m}:{weekday:m,month:"long",day:"numeric"},"weekday"),h=m=>{let d=Ct.macroTokenToFormatOpts(m);return d?this.formatWithSystemDefault(t,d):m},u=m=>n?ch(t,m):o({era:m},"era"),f=m=>{switch(m){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12===0?12:t.hour%12);case"hh":return this.num(t.hour%12===0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return r({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return r({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return r({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?o({day:"numeric"},"day"):this.num(t.day);case"dd":return s?o({day:"2-digit"},"day"):this.num(t.day,2);case"c":return this.num(t.weekday);case"ccc":return c("short",!0);case"cccc":return c("long",!0);case"ccccc":return c("narrow",!0);case"E":return this.num(t.weekday);case"EEE":return c("short",!1);case"EEEE":return c("long",!1);case"EEEEE":return c("narrow",!1);case"L":return s?o({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?o({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return l("short",!0);case"LLLL":return l("long",!0);case"LLLLL":return l("narrow",!0);case"M":return s?o({month:"numeric"},"month"):this.num(t.month);case"MM":return s?o({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return l("short",!1);case"MMMM":return l("long",!1);case"MMMMM":return l("narrow",!1);case"y":return s?o({year:"numeric"},"year"):this.num(t.year);case"yy":return s?o({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?o({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?o({year:"numeric"},"year"):this.num(t.year,6);case"G":return u("short");case"GG":return u("long");case"GGGGG":return u("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return h(m)}};return uh(Ct.parseFormat(i),f)}formatDurationFromString(t,i){let n=l=>{switch(l[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=l=>c=>{let h=n(c);return h?this.num(l.get(h),c.length):c},o=Ct.parseFormat(i),r=o.reduce((l,{literal:c,val:h})=>c?l:l.concat(h),[]),a=t.shiftTo(...r.map(n).filter(l=>l));return uh(o,s(a))}};var Ht=class{constructor(t,i){this.reason=t,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}};var Xt=class{get type(){throw new Me}get name(){throw new Me}get ianaName(){return this.name}get isUniversal(){throw new Me}offsetName(t,i){throw new Me}formatOffset(t,i){throw new Me}offset(t){throw new Me}equals(t){throw new Me}get isValid(){throw new Me}};var ba=null,Ne=class extends Xt{static get instance(){return ba===null&&(ba=new Ne),ba}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return Wo(t,i,n)}formatOffset(t,i){return bi(this.offset(t),i)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return t.type==="system"}get isValid(){return!0}};var Vo={};function xp(e){return Vo[e]||(Vo[e]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Vo[e]}var wp={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function Tp(e,t){let i=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,s,o,r,a,l,c,h]=n;return[r,s,o,a,l,c,h]}function Mp(e,t){let i=e.formatToParts(t),n=[];for(let s=0;s<i.length;s++){let{type:o,value:r}=i[s],a=wp[o];o==="era"?n[a]=r:V(a)||(n[a]=parseInt(r,10))}return n}var Zo={},zt=class extends Xt{static create(t){return Zo[t]||(Zo[t]=new zt(t)),Zo[t]}static resetCache(){Zo={},Vo={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(i){return!1}}constructor(t){super(),this.zoneName=t,this.valid=zt.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:i,locale:n}){return Wo(t,i,n,this.name)}formatOffset(t,i){return bi(this.offset(t),i)}offset(t){let i=new Date(t);if(isNaN(i))return NaN;let n=xp(this.name),[s,o,r,a,l,c,h]=n.formatToParts?Mp(n,i):Tp(n,i);a==="BC"&&(s=-Math.abs(s)+1);let f=Fs({year:s,month:o,day:r,hour:l===24?0:l,minute:c,second:h,millisecond:0}),m=+i,d=m%1e3;return m-=d>=0?d:1e3+d,(f-m)/(60*1e3)}equals(t){return t.type==="iana"&&t.name===this.name}get isValid(){return this.valid}};var xa=null,Tt=class extends Xt{static get utcInstance(){return xa===null&&(xa=new Tt(0)),xa}static instance(t){return t===0?Tt.utcInstance:new Tt(t)}static parseSpecifier(t){if(t){let i=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new Tt(Vi(i[1],i[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${bi(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${bi(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,i){return bi(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return t.type==="fixed"&&t.fixed===this.fixed}get isValid(){return!0}};var wn=class extends Xt{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}};function Ee(e,t){let i;if(V(e)||e===null)return t;if(e instanceof Xt)return e;if(ih(e)){let n=e.toLowerCase();return n==="default"?t:n==="local"||n==="system"?Ne.instance:n==="utc"||n==="gmt"?Tt.utcInstance:Tt.parseSpecifier(n)||zt.create(e)}else return ze(e)?Tt.instance(e):typeof e=="object"&&e.offset&&typeof e.offset=="number"?e:new wn(e)}var dh=()=>Date.now(),fh="system",mh=null,ph=null,gh=null,_h,lt=class{static get now(){return dh}static set now(t){dh=t}static set defaultZone(t){fh=t}static get defaultZone(){return Ee(fh,Ne.instance)}static get defaultLocale(){return mh}static set defaultLocale(t){mh=t}static get defaultNumberingSystem(){return ph}static set defaultNumberingSystem(t){ph=t}static get defaultOutputCalendar(){return gh}static set defaultOutputCalendar(t){gh=t}static get throwOnInvalid(){return _h}static set throwOnInvalid(t){_h=t}static resetCaches(){tt.resetCache(),zt.resetCache()}};var yh={};function Sp(e,t={}){let i=JSON.stringify([e,t]),n=yh[i];return n||(n=new Intl.ListFormat(e,t),yh[i]=n),n}var wa={};function Ta(e,t={}){let i=JSON.stringify([e,t]),n=wa[i];return n||(n=new Intl.DateTimeFormat(e,t),wa[i]=n),n}var Ma={};function Ep(e,t={}){let i=JSON.stringify([e,t]),n=Ma[i];return n||(n=new Intl.NumberFormat(e,t),Ma[i]=n),n}var Sa={};function Lp(e,t={}){let{base:i,...n}=t,s=JSON.stringify([e,n]),o=Sa[s];return o||(o=new Intl.RelativeTimeFormat(e,t),Sa[s]=o),o}var Ns=null;function Pp(){return Ns||(Ns=new Intl.DateTimeFormat().resolvedOptions().locale,Ns)}function kp(e){let t=e.indexOf("-u-");if(t===-1)return[e];{let i,n=e.substring(0,t);try{i=Ta(e).resolvedOptions()}catch(r){i=Ta(n).resolvedOptions()}let{numberingSystem:s,calendar:o}=i;return[n,s,o]}}function Op(e,t,i){return(i||t)&&(e+="-u",i&&(e+=`-ca-${i}`),t&&(e+=`-nu-${t}`)),e}function Cp(e){let t=[];for(let i=1;i<=12;i++){let n=C.utc(2016,i,1);t.push(e(n))}return t}function Dp(e){let t=[];for(let i=1;i<=7;i++){let n=C.utc(2016,11,13+i);t.push(e(n))}return t}function $o(e,t,i,n,s){let o=e.listingMode(i);return o==="error"?null:o==="en"?n(t):s(t)}function Ap(e){return e.numberingSystem&&e.numberingSystem!=="latn"?!1:e.numberingSystem==="latn"||!e.locale||e.locale.startsWith("en")||new Intl.DateTimeFormat(e.intl).resolvedOptions().numberingSystem==="latn"}var Ea=class{constructor(t,i,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;let{padTo:s,floor:o,...r}=n;if(!i||Object.keys(r).length>0){let a={useGrouping:!1,...n};n.padTo>0&&(a.minimumIntegerDigits=n.padTo),this.inf=Ep(t,a)}}format(t){if(this.inf){let i=this.floor?Math.floor(t):t;return this.inf.format(i)}else{let i=this.floor?Math.floor(t):yn(t,3);return wt(i,this.padTo)}}},La=class{constructor(t,i,n){this.opts=n;let s;if(t.zone.isUniversal){let r=-1*(t.offset/60),a=r>=0?`Etc/GMT+${r}`:`Etc/GMT${r}`;t.offset!==0&&zt.create(a).valid?(s=a,this.dt=t):(s="UTC",n.timeZoneName?this.dt=t:this.dt=t.offset===0?t:C.fromMillis(t.ts+t.offset*60*1e3))}else t.zone.type==="system"?this.dt=t:(this.dt=t,s=t.zone.name);let o={...this.opts};s&&(o.timeZone=s),this.dtf=Ta(i,o)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}},Pa=class{constructor(t,i,n){this.opts={style:"long",...n},!i&&Ho()&&(this.rtf=Lp(t,n))}format(t,i){return this.rtf?this.rtf.format(t,i):hh(i,t,this.opts.numeric,this.opts.style!=="long")}formatToParts(t,i){return this.rtf?this.rtf.formatToParts(t,i):[]}},tt=class{static fromOpts(t){return tt.create(t.locale,t.numberingSystem,t.outputCalendar,t.defaultToEN)}static create(t,i,n,s=!1){let o=t||lt.defaultLocale,r=o||(s?"en-US":Pp()),a=i||lt.defaultNumberingSystem,l=n||lt.defaultOutputCalendar;return new tt(r,a,l,o)}static resetCache(){Ns=null,wa={},Ma={},Sa={}}static fromObject({locale:t,numberingSystem:i,outputCalendar:n}={}){return tt.create(t,i,n)}constructor(t,i,n,s){let[o,r,a]=kp(t);this.locale=o,this.numberingSystem=i||r||null,this.outputCalendar=n||a||null,this.intl=Op(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=s,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ap(this)),this.fastNumbersCached}listingMode(){let t=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return t&&i?"en":"intl"}clone(t){return!t||Object.getOwnPropertyNames(t).length===0?this:tt.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,t.defaultToEN||!1)}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,i=!1,n=!0){return $o(this,t,n,fa,()=>{let s=i?{month:t,day:"numeric"}:{month:t},o=i?"format":"standalone";return this.monthsCache[o][t]||(this.monthsCache[o][t]=Cp(r=>this.extract(r,s,"month"))),this.monthsCache[o][t]})}weekdays(t,i=!1,n=!0){return $o(this,t,n,ga,()=>{let s=i?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},o=i?"format":"standalone";return this.weekdaysCache[o][t]||(this.weekdaysCache[o][t]=Dp(r=>this.extract(r,s,"weekday"))),this.weekdaysCache[o][t]})}meridiems(t=!0){return $o(this,void 0,t,()=>_a,()=>{if(!this.meridiemCache){let i={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[C.utc(2016,11,13,9),C.utc(2016,11,13,19)].map(n=>this.extract(n,i,"dayperiod"))}return this.meridiemCache})}eras(t,i=!0){return $o(this,t,i,ya,()=>{let n={era:t};return this.eraCache[t]||(this.eraCache[t]=[C.utc(-40,1,1),C.utc(2017,1,1)].map(s=>this.extract(s,n,"era"))),this.eraCache[t]})}extract(t,i,n){let s=this.dtFormatter(t,i),o=s.formatToParts(),r=o.find(a=>a.type.toLowerCase()===n);return r?r.value:null}numberFormatter(t={}){return new Ea(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,i={}){return new La(t,this.intl,i)}relFormatter(t={}){return new Pa(this.intl,this.isEnglish(),t)}listFormatter(t={}){return Sp(this.intl,t)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}};function Mn(...e){let t=e.reduce((i,n)=>i+n.source,"");return RegExp(`^${t}$`)}function Sn(...e){return t=>e.reduce(([i,n,s],o)=>{let[r,a,l]=o(t,s);return[{...i,...r},a||n,l]},[{},null,1]).slice(0,2)}function En(e,...t){if(e==null)return[null,null];for(let[i,n]of t){let s=i.exec(e);if(s)return n(s)}return[null,null]}function bh(...e){return(t,i)=>{let n={},s;for(s=0;s<e.length;s++)n[e[s]]=ni(t[i+s]);return[n,null,i+s]}}var xh=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Ip=`(?:${xh.source}?(?:\\[(${ua.source})\\])?)?`,ka=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,wh=RegExp(`${ka.source}${Ip}`),Oa=RegExp(`(?:T${wh.source})?`),Rp=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Fp=/(\d{4})-?W(\d\d)(?:-?(\d))?/,zp=/(\d{4})-?(\d{3})/,Bp=bh("weekYear","weekNumber","weekDay"),Np=bh("year","ordinal"),Hp=/(\d{4})-(\d\d)-(\d\d)/,Th=RegExp(`${ka.source} ?(?:${xh.source}|(${ua.source}))?`),Wp=RegExp(`(?: ${Th.source})?`);function Tn(e,t,i){let n=e[t];return V(n)?i:ni(n)}function Zp(e,t){return[{year:Tn(e,t),month:Tn(e,t+1,1),day:Tn(e,t+2,1)},null,t+3]}function Ln(e,t){return[{hours:Tn(e,t,0),minutes:Tn(e,t+1,0),seconds:Tn(e,t+2,0),milliseconds:Rs(e[t+3])},null,t+4]}function Hs(e,t){let i=!e[t]&&!e[t+1],n=Vi(e[t+1],e[t+2]),s=i?null:Tt.instance(n);return[{},s,t+3]}function Ws(e,t){let i=e[t]?zt.create(e[t]):null;return[{},i,t+1]}var Vp=RegExp(`^T?${ka.source}$`),$p=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Up(e){let[t,i,n,s,o,r,a,l,c]=e,h=t[0]==="-",u=l&&l[0]==="-",f=(m,d=!1)=>m!==void 0&&(d||m&&h)?-m:m;return[{years:f(vi(i)),months:f(vi(n)),weeks:f(vi(s)),days:f(vi(o)),hours:f(vi(r)),minutes:f(vi(a)),seconds:f(vi(l),l==="-0"),milliseconds:f(Rs(c),u)}]}var jp={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Ca(e,t,i,n,s,o,r){let a={year:t.length===2?zs(ni(t)):ni(t),month:da.indexOf(i)+1,day:ni(n),hour:ni(s),minute:ni(o)};return r&&(a.second=ni(r)),e&&(a.weekday=e.length>3?ma.indexOf(e)+1:pa.indexOf(e)+1),a}var Yp=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function qp(e){let[,t,i,n,s,o,r,a,l,c,h,u]=e,f=Ca(t,s,n,i,o,r,a),m;return l?m=jp[l]:c?m=0:m=Vi(h,u),[f,new Tt(m)]}function Gp(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}var Xp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Kp=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Jp=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function vh(e){let[,t,i,n,s,o,r,a]=e;return[Ca(t,s,n,i,o,r,a),Tt.utcInstance]}function Qp(e){let[,t,i,n,s,o,r,a]=e;return[Ca(t,a,i,n,s,o,r),Tt.utcInstance]}var tg=Mn(Rp,Oa),eg=Mn(Fp,Oa),ig=Mn(zp,Oa),ng=Mn(wh),Mh=Sn(Zp,Ln,Hs,Ws),sg=Sn(Bp,Ln,Hs,Ws),og=Sn(Np,Ln,Hs,Ws),rg=Sn(Ln,Hs,Ws);function Sh(e){return En(e,[tg,Mh],[eg,sg],[ig,og],[ng,rg])}function Eh(e){return En(Gp(e),[Yp,qp])}function Lh(e){return En(e,[Xp,vh],[Kp,vh],[Jp,Qp])}function Ph(e){return En(e,[$p,Up])}var ag=Sn(Ln);function kh(e){return En(e,[Vp,ag])}var lg=Mn(Hp,Wp),cg=Mn(Th),hg=Sn(Ln,Hs,Ws);function Oh(e){return En(e,[lg,Mh],[cg,hg])}var ug="Invalid Duration",Ch={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},dg={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...Ch},de=146097/400,Pn=146097/4800,fg={years:{quarters:4,months:12,weeks:de/7,days:de,hours:de*24,minutes:de*24*60,seconds:de*24*60*60,milliseconds:de*24*60*60*1e3},quarters:{months:3,weeks:de/28,days:de/4,hours:de*24/4,minutes:de*24*60/4,seconds:de*24*60*60/4,milliseconds:de*24*60*60*1e3/4},months:{weeks:Pn/7,days:Pn,hours:Pn*24,minutes:Pn*24*60,seconds:Pn*24*60*60,milliseconds:Pn*24*60*60*1e3},...Ch},Ui=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],mg=Ui.slice(0).reverse();function $i(e,t,i=!1){let n={values:i?t.values:{...e.values,...t.values||{}},loc:e.loc.clone(t.loc),conversionAccuracy:t.conversionAccuracy||e.conversionAccuracy,matrix:t.matrix||e.matrix};return new $(n)}function pg(e){return e<0?Math.floor(e):Math.ceil(e)}function Dh(e,t,i,n,s){let o=e[s][i],r=t[i]/o,a=Math.sign(r)===Math.sign(n[s]),l=!a&&n[s]!==0&&Math.abs(r)<=1?pg(r):Math.trunc(r);n[s]+=l,t[i]-=l*o}function gg(e,t){mg.reduce((i,n)=>V(t[n])?i:(i&&Dh(e,t,i,t,n),n),null)}var $=class{constructor(t){let i=t.conversionAccuracy==="longterm"||!1,n=i?fg:dg;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||tt.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,i){return $.fromObject({milliseconds:t},i)}static fromObject(t,i={}){if(t==null||typeof t!="object")throw new Nt(`Duration.fromObject: argument expected to be an object, got ${t===null?"null":typeof t}`);return new $({values:xn(t,$.normalizeUnit),loc:tt.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(t){if(ze(t))return $.fromMillis(t);if($.isDuration(t))return t;if(typeof t=="object")return $.fromObject(t);throw new Nt(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,i){let[n]=Ph(t);return n?$.fromObject(n,i):$.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,i){let[n]=kh(t);return n?$.fromObject(n,i):$.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,i=null){if(!t)throw new Nt("need to specify a reason the Duration is invalid");let n=t instanceof Ht?t:new Ht(t,i);if(lt.throwOnInvalid)throw new No(n);return new $({invalid:n})}static normalizeUnit(t){let i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t&&t.toLowerCase()];if(!i)throw new gn(t);return i}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,i={}){let n={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?Ct.create(this.loc,n).formatDurationFromString(this,t):ug}toHuman(t={}){let i=Ui.map(n=>{let s=this.values[n];return V(s)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:n.slice(0,-1)}).format(s)}).filter(n=>n);return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return this.years!==0&&(t+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(t+=this.months+this.quarters*3+"M"),this.weeks!==0&&(t+=this.weeks+"W"),this.days!==0&&(t+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(t+="T"),this.hours!==0&&(t+=this.hours+"H"),this.minutes!==0&&(t+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(t+=yn(this.seconds+this.milliseconds/1e3,3)+"S"),t==="P"&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;let i=this.toMillis();if(i<0||i>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t};let n=this.shiftTo("hours","minutes","seconds","milliseconds"),s=t.format==="basic"?"hhmm":"hh:mm";(!t.suppressSeconds||n.seconds!==0||n.milliseconds!==0)&&(s+=t.format==="basic"?"ss":":ss",(!t.suppressMilliseconds||n.milliseconds!==0)&&(s+=".SSS"));let o=n.toFormat(s);return t.includePrefix&&(o="T"+o),o}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;let i=$.fromDurationLike(t),n={};for(let s of Ui)(yi(i.values,s)||yi(this.values,s))&&(n[s]=i.get(s)+this.get(s));return $i(this,{values:n},!0)}minus(t){if(!this.isValid)return this;let i=$.fromDurationLike(t);return this.plus(i.negate())}mapUnits(t){if(!this.isValid)return this;let i={};for(let n of Object.keys(this.values))i[n]=ha(t(this.values[n],n));return $i(this,{values:i},!0)}get(t){return this[$.normalizeUnit(t)]}set(t){if(!this.isValid)return this;let i={...this.values,...xn(t,$.normalizeUnit)};return $i(this,{values:i})}reconfigure({locale:t,numberingSystem:i,conversionAccuracy:n,matrix:s}={}){let r={loc:this.loc.clone({locale:t,numberingSystem:i}),matrix:s,conversionAccuracy:n};return $i(this,r)}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;let t=this.toObject();return gg(this.matrix,t),$i(this,{values:t},!0)}shiftTo(...t){if(!this.isValid)return this;if(t.length===0)return this;t=t.map(r=>$.normalizeUnit(r));let i={},n={},s=this.toObject(),o;for(let r of Ui)if(t.indexOf(r)>=0){o=r;let a=0;for(let c in n)a+=this.matrix[c][r]*n[c],n[c]=0;ze(s[r])&&(a+=s[r]);let l=Math.trunc(a);i[r]=l,n[r]=(a*1e3-l*1e3)/1e3;for(let c in s)Ui.indexOf(c)>Ui.indexOf(r)&&Dh(this.matrix,s,c,i,r)}else ze(s[r])&&(n[r]=s[r]);for(let r in n)n[r]!==0&&(i[o]+=r===o?n[r]:n[r]/this.matrix[o][r]);return $i(this,{values:i},!0).normalize()}negate(){if(!this.isValid)return this;let t={};for(let i of Object.keys(this.values))t[i]=this.values[i]===0?0:-this.values[i];return $i(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid||!this.loc.equals(t.loc))return!1;function i(n,s){return n===void 0||n===0?s===void 0||s===0:n===s}for(let n of Ui)if(!i(this.values[n],t.values[n]))return!1;return!0}};var Zs="Invalid Interval";function _g(e,t){return!e||!e.isValid?ut.invalid("missing or invalid start"):!t||!t.isValid?ut.invalid("missing or invalid end"):t<e?ut.invalid("end before start",`The end of an interval must be after its start, but you had start=${e.toISO()} and end=${t.toISO()}`):null}var ut=class{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,i=null){if(!t)throw new Nt("need to specify a reason the Interval is invalid");let n=t instanceof Ht?t:new Ht(t,i);if(lt.throwOnInvalid)throw new Bo(n);return new ut({invalid:n})}static fromDateTimes(t,i){let n=kn(t),s=kn(i),o=_g(n,s);return o==null?new ut({start:n,end:s}):o}static after(t,i){let n=$.fromDurationLike(i),s=kn(t);return ut.fromDateTimes(s,s.plus(n))}static before(t,i){let n=$.fromDurationLike(i),s=kn(t);return ut.fromDateTimes(s.minus(n),s)}static fromISO(t,i){let[n,s]=(t||"").split("/",2);if(n&&s){let o,r;try{o=C.fromISO(n,i),r=o.isValid}catch(c){r=!1}let a,l;try{a=C.fromISO(s,i),l=a.isValid}catch(c){l=!1}if(r&&l)return ut.fromDateTimes(o,a);if(r){let c=$.fromISO(s,i);if(c.isValid)return ut.after(o,c)}else if(l){let c=$.fromISO(n,i);if(c.isValid)return ut.before(a,c)}}return ut.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds"){if(!this.isValid)return NaN;let i=this.start.startOf(t),n=this.end.startOf(t);return Math.floor(n.diff(i,t).get(t))+1}hasSame(t){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,t):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return this.isValid?this.s>t:!1}isBefore(t){return this.isValid?this.e<=t:!1}contains(t){return this.isValid?this.s<=t&&this.e>t:!1}set({start:t,end:i}={}){return this.isValid?ut.fromDateTimes(t||this.s,i||this.e):this}splitAt(...t){if(!this.isValid)return[];let i=t.map(kn).filter(r=>this.contains(r)).sort(),n=[],{s}=this,o=0;for(;s<this.e;){let r=i[o]||this.e,a=+r>+this.e?this.e:r;n.push(ut.fromDateTimes(s,a)),s=a,o+=1}return n}splitBy(t){let i=$.fromDurationLike(t);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:n}=this,s=1,o,r=[];for(;n<this.e;){let a=this.start.plus(i.mapUnits(l=>l*s));o=+a>+this.e?this.e:a,r.push(ut.fromDateTimes(n,o)),n=o,s+=1}return r}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return this.isValid?+this.e==+t.s:!1}abutsEnd(t){return this.isValid?+t.e==+this.s:!1}engulfs(t){return this.isValid?this.s<=t.s&&this.e>=t.e:!1}equals(t){return!this.isValid||!t.isValid?!1:this.s.equals(t.s)&&this.e.equals(t.e)}intersection(t){if(!this.isValid)return this;let i=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return i>=n?null:ut.fromDateTimes(i,n)}union(t){if(!this.isValid)return this;let i=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return ut.fromDateTimes(i,n)}static merge(t){let[i,n]=t.sort((s,o)=>s.s-o.s).reduce(([s,o],r)=>o?o.overlaps(r)||o.abutsStart(r)?[s,o.union(r)]:[s.concat([o]),r]:[s,r],[[],null]);return n&&i.push(n),i}static xor(t){let i=null,n=0,s=[],o=t.map(l=>[{time:l.s,type:"s"},{time:l.e,type:"e"}]),r=Array.prototype.concat(...o),a=r.sort((l,c)=>l.time-c.time);for(let l of a)n+=l.type==="s"?1:-1,n===1?i=l.time:(i&&+i!=+l.time&&s.push(ut.fromDateTimes(i,l.time)),i=null);return ut.merge(s)}difference(...t){return ut.xor([this].concat(t)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Zs}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:Zs}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Zs}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:Zs}toFormat(t,{separator:i=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(t)}${i}${this.e.toFormat(t)}`:Zs}toDuration(t,i){return this.isValid?this.e.diff(this.s,t,i):$.invalid(this.invalidReason)}mapEndpoints(t){return ut.fromDateTimes(t(this.s),t(this.e))}};var si=class{static hasDST(t=lt.defaultZone){let i=C.now().setZone(t).set({month:12});return!t.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(t){return zt.isValidZone(t)}static normalizeZone(t){return Ee(t,lt.defaultZone)}static months(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||tt.create(i,n,o)).months(t)}static monthsFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null,outputCalendar:o="gregory"}={}){return(s||tt.create(i,n,o)).months(t,!0)}static weekdays(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null}={}){return(s||tt.create(i,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:i=null,numberingSystem:n=null,locObj:s=null}={}){return(s||tt.create(i,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return tt.create(t).meridiems()}static eras(t="short",{locale:i=null}={}){return tt.create(i,null,"gregory").eras(t)}static features(){return{relative:Ho()}}};function Ah(e,t){let i=s=>s.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),n=i(t)-i(e);return Math.floor($.fromMillis(n).as("days"))}function yg(e,t,i){let n=[["years",(a,l)=>l.year-a.year],["quarters",(a,l)=>l.quarter-a.quarter+(l.year-a.year)*4],["months",(a,l)=>l.month-a.month+(l.year-a.year)*12],["weeks",(a,l)=>{let c=Ah(a,l);return(c-c%7)/7}],["days",Ah]],s={},o,r;for(let[a,l]of n)if(i.indexOf(a)>=0){o=a;let c=l(e,t);r=e.plus({[a]:c}),r>t?(e=e.plus({[a]:c-1}),c-=1):e=r,s[a]=c}return[e,s,r,o]}function Ih(e,t,i,n){let[s,o,r,a]=yg(e,t,i),l=t-s,c=i.filter(u=>["hours","minutes","seconds","milliseconds"].indexOf(u)>=0);c.length===0&&(r<t&&(r=s.plus({[a]:1})),r!==s&&(o[a]=(o[a]||0)+l/(r-s)));let h=$.fromObject(o,n);return c.length>0?$.fromMillis(l,n).shiftTo(...c).plus(h):h}var Da={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},Rh={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},vg=Da.hanidec.replace(/[\[|\]]/g,"").split("");function Fh(e){let t=parseInt(e,10);if(isNaN(t)){t="";for(let i=0;i<e.length;i++){let n=e.charCodeAt(i);if(e[i].search(Da.hanidec)!==-1)t+=vg.indexOf(e[i]);else for(let s in Rh){let[o,r]=Rh[s];n>=o&&n<=r&&(t+=n-o)}}return parseInt(t,10)}else return t}function fe({numberingSystem:e},t=""){return new RegExp(`${Da[e||"latn"]}${t}`)}var bg="missing Intl.DateTimeFormat.formatToParts support";function nt(e,t=i=>i){return{regex:e,deser:([i])=>t(Fh(i))}}var xg=String.fromCharCode(160),Nh=`[ ${xg}]`,Hh=new RegExp(Nh,"g");function wg(e){return e.replace(/\./g,"\\.?").replace(Hh,Nh)}function zh(e){return e.replace(/\./g,"").replace(Hh," ").toLowerCase()}function Le(e,t){return e===null?null:{regex:RegExp(e.map(wg).join("|")),deser:([i])=>e.findIndex(n=>zh(i)===zh(n))+t}}function Bh(e,t){return{regex:e,deser:([,i,n])=>Vi(i,n),groups:t}}function Aa(e){return{regex:e,deser:([t])=>t}}function Tg(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Mg(e,t){let i=fe(t),n=fe(t,"{2}"),s=fe(t,"{3}"),o=fe(t,"{4}"),r=fe(t,"{6}"),a=fe(t,"{1,2}"),l=fe(t,"{1,3}"),c=fe(t,"{1,6}"),h=fe(t,"{1,9}"),u=fe(t,"{2,4}"),f=fe(t,"{4,6}"),m=g=>({regex:RegExp(Tg(g.val)),deser:([y])=>y,literal:!0}),p=(g=>{if(e.literal)return m(g);switch(g.val){case"G":return Le(t.eras("short",!1),0);case"GG":return Le(t.eras("long",!1),0);case"y":return nt(c);case"yy":return nt(u,zs);case"yyyy":return nt(o);case"yyyyy":return nt(f);case"yyyyyy":return nt(r);case"M":return nt(a);case"MM":return nt(n);case"MMM":return Le(t.months("short",!0,!1),1);case"MMMM":return Le(t.months("long",!0,!1),1);case"L":return nt(a);case"LL":return nt(n);case"LLL":return Le(t.months("short",!1,!1),1);case"LLLL":return Le(t.months("long",!1,!1),1);case"d":return nt(a);case"dd":return nt(n);case"o":return nt(l);case"ooo":return nt(s);case"HH":return nt(n);case"H":return nt(a);case"hh":return nt(n);case"h":return nt(a);case"mm":return nt(n);case"m":return nt(a);case"q":return nt(a);case"qq":return nt(n);case"s":return nt(a);case"ss":return nt(n);case"S":return nt(l);case"SSS":return nt(s);case"u":return Aa(h);case"uu":return Aa(a);case"uuu":return nt(i);case"a":return Le(t.meridiems(),0);case"kkkk":return nt(o);case"kk":return nt(u,zs);case"W":return nt(a);case"WW":return nt(n);case"E":case"c":return nt(i);case"EEE":return Le(t.weekdays("short",!1,!1),1);case"EEEE":return Le(t.weekdays("long",!1,!1),1);case"ccc":return Le(t.weekdays("short",!0,!1),1);case"cccc":return Le(t.weekdays("long",!0,!1),1);case"Z":case"ZZ":return Bh(new RegExp(`([+-]${a.source})(?::(${n.source}))?`),2);case"ZZZ":return Bh(new RegExp(`([+-]${a.source})(${n.source})?`),2);case"z":return Aa(/[a-z_+-/]{1,256}?/i);default:return m(g)}})(e)||{invalidReason:bg};return p.token=e,p}var Sg={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Eg(e,t,i){let{type:n,value:s}=e;if(n==="literal")return{literal:!0,val:s};let o=i[n],r=Sg[n];if(typeof r=="object"&&(r=r[o]),r)return{literal:!1,val:r}}function Lg(e){return[`^${e.map(i=>i.regex).reduce((i,n)=>`${i}(${n.source})`,"")}$`,e]}function Pg(e,t,i){let n=e.match(t);if(n){let s={},o=1;for(let r in i)if(yi(i,r)){let a=i[r],l=a.groups?a.groups+1:1;!a.literal&&a.token&&(s[a.token.val[0]]=a.deser(n.slice(o,o+l))),o+=l}return[n,s]}else return[n,{}]}function kg(e){let t=o=>{switch(o){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}},i=null,n;return V(e.z)||(i=zt.create(e.z)),V(e.Z)||(i||(i=new Tt(e.Z)),n=e.Z),V(e.q)||(e.M=(e.q-1)*3+1),V(e.h)||(e.h<12&&e.a===1?e.h+=12:e.h===12&&e.a===0&&(e.h=0)),e.G===0&&e.y&&(e.y=-e.y),V(e.u)||(e.S=Rs(e.u)),[Object.keys(e).reduce((o,r)=>{let a=t(r);return a&&(o[a]=e[r]),o},{}),i,n]}var Ia=null;function Og(){return Ia||(Ia=C.fromMillis(1555555555555)),Ia}function Cg(e,t){if(e.literal)return e;let i=Ct.macroTokenToFormatOpts(e.val),n=za(i,t);return n==null||n.includes(void 0)?e:n}function Ra(e,t){return Array.prototype.concat(...e.map(i=>Cg(i,t)))}function Fa(e,t,i){let n=Ra(Ct.parseFormat(i),e),s=n.map(r=>Mg(r,e)),o=s.find(r=>r.invalidReason);if(o)return{input:t,tokens:n,invalidReason:o.invalidReason};{let[r,a]=Lg(s),l=RegExp(r,"i"),[c,h]=Pg(t,l,a),[u,f,m]=h?kg(h):[null,null,void 0];if(yi(h,"a")&&yi(h,"H"))throw new ii("Can't include meridiem when specifying 24-hour format");return{input:t,tokens:n,regex:l,rawMatches:c,matches:h,result:u,zone:f,specificOffset:m}}}function Wh(e,t,i){let{result:n,zone:s,specificOffset:o,invalidReason:r}=Fa(e,t,i);return[n,s,o,r]}function za(e,t){return e?Ct.create(t,e).formatDateTimeParts(Og()).map(s=>Eg(s,t,e)):null}var Zh=[0,31,59,90,120,151,181,212,243,273,304,334],Vh=[0,31,60,91,121,152,182,213,244,274,305,335];function me(e,t){return new Ht("unit out of range",`you specified ${t} (of type ${typeof t}) as a ${e}, which is invalid`)}function $h(e,t,i){let n=new Date(Date.UTC(e,t-1,i));e<100&&e>=0&&n.setUTCFullYear(n.getUTCFullYear()-1900);let s=n.getUTCDay();return s===0?7:s}function Uh(e,t,i){return i+(Wi(e)?Vh:Zh)[t-1]}function jh(e,t){let i=Wi(e)?Vh:Zh,n=i.findIndex(o=>o<t),s=t-i[n];return{month:n+1,day:s}}function Uo(e){let{year:t,month:i,day:n}=e,s=Uh(t,i,n),o=$h(t,i,n),r=Math.floor((s-o+10)/7),a;return r<1?(a=t-1,r=bn(a)):r>bn(t)?(a=t+1,r=1):a=t,{weekYear:a,weekNumber:r,weekday:o,...Bs(e)}}function Ba(e){let{weekYear:t,weekNumber:i,weekday:n}=e,s=$h(t,1,4),o=Zi(t),r=i*7+n-s-3,a;r<1?(a=t-1,r+=Zi(a)):r>o?(a=t+1,r-=Zi(t)):a=t;let{month:l,day:c}=jh(a,r);return{year:a,month:l,day:c,...Bs(e)}}function jo(e){let{year:t,month:i,day:n}=e,s=Uh(t,i,n);return{year:t,ordinal:s,...Bs(e)}}function Na(e){let{year:t,ordinal:i}=e,{month:n,day:s}=jh(t,i);return{year:t,month:n,day:s,...Bs(e)}}function Yh(e){let t=Is(e.weekYear),i=Be(e.weekNumber,1,bn(e.weekYear)),n=Be(e.weekday,1,7);return t?i?n?!1:me("weekday",e.weekday):me("week",e.week):me("weekYear",e.weekYear)}function qh(e){let t=Is(e.year),i=Be(e.ordinal,1,Zi(e.year));return t?i?!1:me("ordinal",e.ordinal):me("year",e.year)}function Ha(e){let t=Is(e.year),i=Be(e.month,1,12),n=Be(e.day,1,vn(e.year,e.month));return t?i?n?!1:me("day",e.day):me("month",e.month):me("year",e.year)}function Wa(e){let{hour:t,minute:i,second:n,millisecond:s}=e,o=Be(t,0,23)||t===24&&i===0&&n===0&&s===0,r=Be(i,0,59),a=Be(n,0,59),l=Be(s,0,999);return o?r?a?l?!1:me("millisecond",s):me("second",n):me("minute",i):me("hour",t)}var Za="Invalid DateTime",Gh=864e13;function Yo(e){return new Ht("unsupported zone",`the zone "${e.name}" is not supported`)}function Va(e){return e.weekData===null&&(e.weekData=Uo(e.c)),e.weekData}function Vs(e,t){let i={ts:e.ts,zone:e.zone,c:e.c,o:e.o,loc:e.loc,invalid:e.invalid};return new C({...i,...t,old:i})}function nu(e,t,i){let n=e-t*60*1e3,s=i.offset(n);if(t===s)return[n,t];n-=(s-t)*60*1e3;let o=i.offset(n);return s===o?[n,s]:[e-Math.min(s,o)*60*1e3,Math.max(s,o)]}function Xh(e,t){e+=t*60*1e3;let i=new Date(e);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function Go(e,t,i){return nu(Fs(e),t,i)}function Kh(e,t){let i=e.o,n=e.c.year+Math.trunc(t.years),s=e.c.month+Math.trunc(t.months)+Math.trunc(t.quarters)*3,o={...e.c,year:n,month:s,day:Math.min(e.c.day,vn(n,s))+Math.trunc(t.days)+Math.trunc(t.weeks)*7},r=$.fromObject({years:t.years-Math.trunc(t.years),quarters:t.quarters-Math.trunc(t.quarters),months:t.months-Math.trunc(t.months),weeks:t.weeks-Math.trunc(t.weeks),days:t.days-Math.trunc(t.days),hours:t.hours,minutes:t.minutes,seconds:t.seconds,milliseconds:t.milliseconds}).as("milliseconds"),a=Fs(o),[l,c]=nu(a,i,e.zone);return r!==0&&(l+=r,c=e.zone.offset(l)),{ts:l,o:c}}function $s(e,t,i,n,s,o){let{setZone:r,zone:a}=i;if(e&&Object.keys(e).length!==0){let l=t||a,c=C.fromObject(e,{...i,zone:l,specificOffset:o});return r?c:c.setZone(a)}else return C.invalid(new Ht("unparsable",`the input "${s}" can't be parsed as ${n}`))}function qo(e,t,i=!0){return e.isValid?Ct.create(tt.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(e,t):null}function $a(e,t){let i=e.c.year>9999||e.c.year<0,n="";return i&&e.c.year>=0&&(n+="+"),n+=wt(e.c.year,i?6:4),t?(n+="-",n+=wt(e.c.month),n+="-",n+=wt(e.c.day)):(n+=wt(e.c.month),n+=wt(e.c.day)),n}function Jh(e,t,i,n,s,o){let r=wt(e.c.hour);return t?(r+=":",r+=wt(e.c.minute),(e.c.second!==0||!i)&&(r+=":")):r+=wt(e.c.minute),(e.c.second!==0||!i)&&(r+=wt(e.c.second),(e.c.millisecond!==0||!n)&&(r+=".",r+=wt(e.c.millisecond,3))),s&&(e.isOffsetFixed&&e.offset===0&&!o?r+="Z":e.o<0?(r+="-",r+=wt(Math.trunc(-e.o/60)),r+=":",r+=wt(Math.trunc(-e.o%60))):(r+="+",r+=wt(Math.trunc(e.o/60)),r+=":",r+=wt(Math.trunc(e.o%60)))),o&&(r+="["+e.zone.ianaName+"]"),r}var su={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Dg={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Ag={ordinal:1,hour:0,minute:0,second:0,millisecond:0},ou=["year","month","day","hour","minute","second","millisecond"],Ig=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],Rg=["year","ordinal","hour","minute","second","millisecond"];function Qh(e){let t={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[e.toLowerCase()];if(!t)throw new gn(e);return t}function tu(e,t){let i=Ee(t.zone,lt.defaultZone),n=tt.fromObject(t),s=lt.now(),o,r;if(V(e.year))o=s;else{for(let c of ou)V(e[c])&&(e[c]=su[c]);let a=Ha(e)||Wa(e);if(a)return C.invalid(a);let l=i.offset(s);[o,r]=Go(e,l,i)}return new C({ts:o,zone:i,loc:n,o:r})}function eu(e,t,i){let n=V(i.round)?!0:i.round,s=(r,a)=>(r=yn(r,n||i.calendary?0:2,!0),t.loc.clone(i).relFormatter(i).format(r,a)),o=r=>i.calendary?t.hasSame(e,r)?0:t.startOf(r).diff(e.startOf(r),r).get(r):t.diff(e,r).get(r);if(i.unit)return s(o(i.unit),i.unit);for(let r of i.units){let a=o(r);if(Math.abs(a)>=1)return s(a,r)}return s(e>t?-0:0,i.units[i.units.length-1])}function iu(e){let t={},i;return e.length>0&&typeof e[e.length-1]=="object"?(t=e[e.length-1],i=Array.from(e).slice(0,e.length-1)):i=Array.from(e),[t,i]}var C=class{constructor(t){let i=t.zone||lt.defaultZone,n=t.invalid||(Number.isNaN(t.ts)?new Ht("invalid input"):null)||(i.isValid?null:Yo(i));this.ts=V(t.ts)?lt.now():t.ts;let s=null,o=null;if(!n)if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(i))[s,o]=[t.old.c,t.old.o];else{let a=i.offset(this.ts);s=Xh(this.ts,a),n=Number.isNaN(s.year)?new Ht("invalid input"):null,s=n?null:s,o=n?null:a}this._zone=i,this.loc=t.loc||tt.create(),this.invalid=n,this.weekData=null,this.c=s,this.o=o,this.isLuxonDateTime=!0}static now(){return new C({})}static local(){let[t,i]=iu(arguments),[n,s,o,r,a,l,c]=i;return tu({year:n,month:s,day:o,hour:r,minute:a,second:l,millisecond:c},t)}static utc(){let[t,i]=iu(arguments),[n,s,o,r,a,l,c]=i;return t.zone=Tt.utcInstance,tu({year:n,month:s,day:o,hour:r,minute:a,second:l,millisecond:c},t)}static fromJSDate(t,i={}){let n=nh(t)?t.valueOf():NaN;if(Number.isNaN(n))return C.invalid("invalid input");let s=Ee(i.zone,lt.defaultZone);return s.isValid?new C({ts:n,zone:s,loc:tt.fromObject(i)}):C.invalid(Yo(s))}static fromMillis(t,i={}){if(ze(t))return t<-Gh||t>Gh?C.invalid("Timestamp out of range"):new C({ts:t,zone:Ee(i.zone,lt.defaultZone),loc:tt.fromObject(i)});throw new Nt(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,i={}){if(ze(t))return new C({ts:t*1e3,zone:Ee(i.zone,lt.defaultZone),loc:tt.fromObject(i)});throw new Nt("fromSeconds requires a numerical input")}static fromObject(t,i={}){t=t||{};let n=Ee(i.zone,lt.defaultZone);if(!n.isValid)return C.invalid(Yo(n));let s=lt.now(),o=V(i.specificOffset)?n.offset(s):i.specificOffset,r=xn(t,Qh),a=!V(r.ordinal),l=!V(r.year),c=!V(r.month)||!V(r.day),h=l||c,u=r.weekYear||r.weekNumber,f=tt.fromObject(i);if((h||a)&&u)throw new ii("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(c&&a)throw new ii("Can't mix ordinal dates with month/day");let m=u||r.weekday&&!h,d,p,g=Xh(s,o);m?(d=Ig,p=Dg,g=Uo(g)):a?(d=Rg,p=Ag,g=jo(g)):(d=ou,p=su);let y=!1;for(let M of d){let k=r[M];V(k)?y?r[M]=p[M]:r[M]=g[M]:y=!0}let v=m?Yh(r):a?qh(r):Ha(r),w=v||Wa(r);if(w)return C.invalid(w);let b=m?Ba(r):a?Na(r):r,[x,E]=Go(b,o,n),S=new C({ts:x,zone:n,o:E,loc:f});return r.weekday&&h&&t.weekday!==S.weekday?C.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${S.toISO()}`):S}static fromISO(t,i={}){let[n,s]=Sh(t);return $s(n,s,i,"ISO 8601",t)}static fromRFC2822(t,i={}){let[n,s]=Eh(t);return $s(n,s,i,"RFC 2822",t)}static fromHTTP(t,i={}){let[n,s]=Lh(t);return $s(n,s,i,"HTTP",i)}static fromFormat(t,i,n={}){if(V(t)||V(i))throw new Nt("fromFormat requires an input string and a format");let{locale:s=null,numberingSystem:o=null}=n,r=tt.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0}),[a,l,c,h]=Wh(r,t,i);return h?C.invalid(h):$s(a,l,n,`format ${i}`,t,c)}static fromString(t,i,n={}){return C.fromFormat(t,i,n)}static fromSQL(t,i={}){let[n,s]=Oh(t);return $s(n,s,i,"SQL",t)}static invalid(t,i=null){if(!t)throw new Nt("need to specify a reason the DateTime is invalid");let n=t instanceof Ht?t:new Ht(t,i);if(lt.throwOnInvalid)throw new zo(n);return new C({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,i={}){let n=za(t,tt.fromObject(i));return n?n.map(s=>s?s.val:null).join(""):null}static expandFormat(t,i={}){return Ra(Ct.parseFormat(t),tt.fromObject(i)).map(s=>s.val).join("")}get(t){return this[t]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Va(this).weekYear:NaN}get weekNumber(){return this.isValid?Va(this).weekNumber:NaN}get weekday(){return this.isValid?Va(this).weekday:NaN}get ordinal(){return this.isValid?jo(this.c).ordinal:NaN}get monthShort(){return this.isValid?si.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?si.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?si.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?si.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Wi(this.year)}get daysInMonth(){return vn(this.year,this.month)}get daysInYear(){return this.isValid?Zi(this.year):NaN}get weeksInWeekYear(){return this.isValid?bn(this.weekYear):NaN}resolvedLocaleOptions(t={}){let{locale:i,numberingSystem:n,calendar:s}=Ct.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:i,numberingSystem:n,outputCalendar:s}}toUTC(t=0,i={}){return this.setZone(Tt.instance(t),i)}toLocal(){return this.setZone(lt.defaultZone)}setZone(t,{keepLocalTime:i=!1,keepCalendarTime:n=!1}={}){if(t=Ee(t,lt.defaultZone),t.equals(this.zone))return this;if(t.isValid){let s=this.ts;if(i||n){let o=t.offset(this.ts),r=this.toObject();[s]=Go(r,o,t)}return Vs(this,{ts:s,zone:t})}else return C.invalid(Yo(t))}reconfigure({locale:t,numberingSystem:i,outputCalendar:n}={}){let s=this.loc.clone({locale:t,numberingSystem:i,outputCalendar:n});return Vs(this,{loc:s})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;let i=xn(t,Qh),n=!V(i.weekYear)||!V(i.weekNumber)||!V(i.weekday),s=!V(i.ordinal),o=!V(i.year),r=!V(i.month)||!V(i.day),a=o||r,l=i.weekYear||i.weekNumber;if((a||s)&&l)throw new ii("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(r&&s)throw new ii("Can't mix ordinal dates with month/day");let c;n?c=Ba({...Uo(this.c),...i}):V(i.ordinal)?(c={...this.toObject(),...i},V(i.day)&&(c.day=Math.min(vn(c.year,c.month),c.day))):c=Na({...jo(this.c),...i});let[h,u]=Go(c,this.o,this.zone);return Vs(this,{ts:h,o:u})}plus(t){if(!this.isValid)return this;let i=$.fromDurationLike(t);return Vs(this,Kh(this,i))}minus(t){if(!this.isValid)return this;let i=$.fromDurationLike(t).negate();return Vs(this,Kh(this,i))}startOf(t){if(!this.isValid)return this;let i={},n=$.normalizeUnit(t);switch(n){case"years":i.month=1;case"quarters":case"months":i.day=1;case"weeks":case"days":i.hour=0;case"hours":i.minute=0;case"minutes":i.second=0;case"seconds":i.millisecond=0;break;case"milliseconds":break}if(n==="weeks"&&(i.weekday=1),n==="quarters"){let s=Math.ceil(this.month/3);i.month=(s-1)*3+1}return this.set(i)}endOf(t){return this.isValid?this.plus({[t]:1}).startOf(t).minus(1):this}toFormat(t,i={}){return this.isValid?Ct.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,t):Za}toLocaleString(t=_n,i={}){return this.isValid?Ct.create(this.loc.clone(i),t).formatDateTime(this):Za}toLocaleParts(t={}){return this.isValid?Ct.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:i=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:o=!1}={}){if(!this.isValid)return null;let r=t==="extended",a=$a(this,r);return a+="T",a+=Jh(this,r,i,n,s,o),a}toISODate({format:t="extended"}={}){return this.isValid?$a(this,t==="extended"):null}toISOWeekDate(){return qo(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:i=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:o=!1,format:r="extended"}={}){return this.isValid?(s?"T":"")+Jh(this,r==="extended",i,t,n,o):null}toRFC2822(){return qo(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return qo(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?$a(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:i=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(i||t)&&(n&&(s+=" "),i?s+="z":t&&(s+="ZZ")),qo(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():Za}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};let i={...this.c};return t.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,i="milliseconds",n={}){if(!this.isValid||!t.isValid)return $.invalid("created by diffing an invalid DateTime");let s={locale:this.locale,numberingSystem:this.numberingSystem,...n},o=sh(i).map($.normalizeUnit),r=t.valueOf()>this.valueOf(),a=r?this:t,l=r?t:this,c=Ih(a,l,o,s);return r?c.negate():c}diffNow(t="milliseconds",i={}){return this.diff(C.now(),t,i)}until(t){return this.isValid?ut.fromDateTimes(this,t):this}hasSame(t,i){if(!this.isValid)return!1;let n=t.valueOf(),s=this.setZone(t.zone,{keepLocalTime:!0});return s.startOf(i)<=n&&n<=s.endOf(i)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;let i=t.base||C.fromObject({},{zone:this.zone}),n=t.padding?this<i?-t.padding:t.padding:0,s=["years","months","days","hours","minutes","seconds"],o=t.unit;return Array.isArray(t.unit)&&(s=t.unit,o=void 0),eu(i,this.plus(n),{...t,numeric:"always",units:s,unit:o})}toRelativeCalendar(t={}){return this.isValid?eu(t.base||C.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(C.isDateTime))throw new Nt("min requires all arguments be DateTimes");return ca(t,i=>i.valueOf(),Math.min)}static max(...t){if(!t.every(C.isDateTime))throw new Nt("max requires all arguments be DateTimes");return ca(t,i=>i.valueOf(),Math.max)}static fromFormatExplain(t,i,n={}){let{locale:s=null,numberingSystem:o=null}=n,r=tt.fromOpts({locale:s,numberingSystem:o,defaultToEN:!0});return Fa(r,t,i)}static fromStringExplain(t,i,n={}){return C.fromFormatExplain(t,i,n)}static get DATE_SHORT(){return _n}static get DATE_MED(){return ps}static get DATE_MED_WITH_WEEKDAY(){return ra}static get DATE_FULL(){return gs}static get DATE_HUGE(){return _s}static get TIME_SIMPLE(){return ys}static get TIME_WITH_SECONDS(){return vs}static get TIME_WITH_SHORT_OFFSET(){return bs}static get TIME_WITH_LONG_OFFSET(){return xs}static get TIME_24_SIMPLE(){return ws}static get TIME_24_WITH_SECONDS(){return Ts}static get TIME_24_WITH_SHORT_OFFSET(){return Ms}static get TIME_24_WITH_LONG_OFFSET(){return Ss}static get DATETIME_SHORT(){return Es}static get DATETIME_SHORT_WITH_SECONDS(){return Ls}static get DATETIME_MED(){return Ps}static get DATETIME_MED_WITH_SECONDS(){return ks}static get DATETIME_MED_WITH_WEEKDAY(){return aa}static get DATETIME_FULL(){return Os}static get DATETIME_FULL_WITH_SECONDS(){return Cs}static get DATETIME_HUGE(){return Ds}static get DATETIME_HUGE_WITH_SECONDS(){return As}};function kn(e){if(C.isDateTime(e))return e;if(e&&e.valueOf&&ze(e.valueOf()))return C.fromJSDate(e);if(e&&typeof e=="object")return C.fromObject(e);throw new Nt(`Unknown datetime argument: ${e}, of type ${typeof e}`)}var He=na(ja());var ne=e=>Number.isNaN(e.getTime())?"":C.fromJSDate(e).toFormat("HH:mm");function au(e,t){let i=document.getElementsByTagName("component-astronomy");for(let n=0;n<i.length;n++)i[n].setAttribute("loc",`${e},${t}`)}var Ya=class extends HTMLElement{static get observedAttributes(){return["loc"]}connectedCallback(){this.innerHTML=""}attributeChangedCallback(t,i,n){if(t!=="loc")return;let s=new Date,[o,r]=n.split(","),a=He.getTimes(s,o,r),l=He.getMoonTimes(s,o,r),c=He.getMoonIllumination(s),h=He.getPosition(s,o,r),u=He.getMoonPosition(s,o,r),f={sunTimes:a,moonTimes:l,moonIllumination:c,sunPos:h,moonPos:u},m=JSON.stringify(f,null,2).replace(/{|}|"|,/g,"").replace("  "," ");O("updateAstronomy",f);let d=`<span style="display:inline-block;transform:rotate(${c.phase<=.5?0:180}deg);"> \u2191 </span>`,p="../assets/phases/moon-100.webp";c.phase<=.88&&(p="../assets/phases/moon-87.webp"),c.phase<=.76&&(p="../assets/phases/moon-62.webp"),c.phase<=.54&&(p="../assets/phases/moon-50.webp"),c.phase<=.44&&(p="../assets/phases/moon-37.webp"),c.phase<=.32&&(p="../assets/phases/moon-25.webp"),c.phase<=.2&&(p="../assets/phases/moon-12.webp"),c.phase<=.08&&(p="../assets/phases/moon-0.webp"),this.innerHTML=`
      <table class="component-astronomy">
        <tr>
          <td>
            <img src="../assets/phases/sun.webp" width="100px" height="100px" alt="sunrise" title="${m}"></img>
          </td>
          <td>
            predawn<br>dawn<br>sunrise<br>noon<br>azimuth
          <td>
          <td>
            ${ne(a.nauticalDawn)}<br>${ne(a.dawn)}<br>${ne(a.sunrise)} - ${ne(a.sunriseEnd)}<br>${ne(a.solarNoon)}<br>
            ${Math.round(180*h.azimuth/Math.PI)}\xB0<br>
          </td>
          <td>
            <img src="../assets/phases/moon.webp" width="100px" height="100px" alt="sunset" style="margin-left: 0" title="${m}"></img>
          </td>
          <td style="padding-right: 10px">
            golden<br>sunset<br>dusk<br>night<br>altitude
          <td>
          <td>
            ${ne(a.goldenHour)}<br>${ne(a.sunsetStart)} - ${ne(a.sunset)}<br>${ne(a.dusk)} - ${ne(a.nauticalDusk)}<br>${ne(a.night)}<br>
            ${Math.round(180*h.altitude/Math.PI)}\xB0
          </td>
          <td>
            <img src="${p}" width="50px" height="50px" alt="moonrise" style="margin-left: 30px" title="${m}"></img>
          </td>
          <td>
            rise<br>set<br>phase<br>azimuth<br>altitude
          <td>
          <td>
            ${l.rise?ne(l.rise):""}<br>${l.set?ne(l.set):""}<br>${Math.round(100*(1-2*Math.abs(.5-c.phase)))}% ${d}<br>
            ${Math.round(180*u.azimuth/Math.PI)}\xB0<br>${Math.round(180*u.altitude/Math.PI)}\xB0
          </td>
        </tr>
      </table>
    `}};customElements.define("component-astronomy",Ya);var Pe={white:e=>`<font color="white">${e}</font>`,green:e=>`<font color="lightgreen">${e}</font>`,coral:e=>`<font color="lightcoral">${e}</font>`,blue:e=>`<font color="lightblue">${e}</font>`,yellow:e=>`<font color="lightyellow">${e}</font>`,grey:e=>`<font color="lightgray">${e}</font>`,dark:e=>`<font color="gray">${e}</font>`,hex:(e,t)=>`<font color="#${t}">${e}</font>`,ok:(e,t)=>t?`<font color="lightgreen">${e}</font>`:`<font color="lightcoral">${e}</font>`};async function lu(e){if(O("updateLegend",{currently:e.currently}),!e||!e.currently)return;let t=document.getElementById("weather-legend");if(!t)return;let i="",n=e.currently.precipProbability<.02?"none":`<b>${Math.round(100*e.currently.precipProbability)}% for ${Math.round(100*e.currently.precipIntensity)/100} in</b>`,s=e.currently.nearestStormDistance?`<b>${e.currently.nearestStormDistance} mi <span style="display:inline-block;transform:rotate(${e.currently.nearestStormBearing}deg);"> \u2191 </span></b>`:"none";i+=Pe.hex(`temperature <b>${Math.round(e.daily.data[0].temperatureLow)}\xB0 - ${Math.round(e.daily.data[0].temperatureHigh)}\xB0</b><br>`,"ff9696"),i+=Pe.hex(`feels like <b>${Math.round(e.currently.apparentTemperature)}\xB0</b><br>`,"cca100"),i+=Pe.hex(`humidity <b>${Math.round(100*e.currently.humidity)}%</b><br>`,"ffe100"),i+=Pe.hex(`cloud cover <b>${Math.round(100*e.currently.cloudCover)}%</b><br>`,"cccccc"),i+=Pe.hex(`rain ${n}<br>`,"52ff97"),i+=Pe.hex(`wind <b>${Math.round(e.currently.windSpeed)} to ${Math.round(e.currently.windGust)} mph <span style="display:inline-block;transform:rotate(${e.currently.windBearing}deg);"> \u2191 </span></b><br>`,"00bbff"),i+=Pe.hex(`uv index <span style="background-color: rgba(${15*e.currently.uvIndex}, ${15*(15-e.currently.uvIndex)}, ${0}, 1)"><b>&nbsp${e.currently.uvIndex}&nbsp</b></span><br>`,"ebebeb"),i+=Pe.hex(`visibility <b>${e.currently.visibility} mi</b><br>`,"ebebeb"),i+=Pe.hex(`dew point <b>${Math.round(e.currently.dewPoint)}\xB0</b><br>`,"ebebeb"),i+=Pe.hex(`nearest storm ${s}<br>`,"ebebeb"),t.innerHTML=i}var qa=class extends HTMLElement{connectedCallback(){this.innerHTML=`
      <div style="width: fit-content">
        <div id="weather-legend" style="margin: 8px; html-align: center; line-height: 1.6rem"></div>
      </div>
    `}};customElements.define("component-legend",qa);var Fg="../assets/weather";async function cu(e){var c,h,u,f;O("updateToday",{currently:e.currently});let t=document.getElementById("component-today");if(!t)return;if(!e||!e.currently){t.style.display="none";return}t.style.display="block",t.setAttribute("time",Date.now().toString());let i=document.getElementById("component-today-icon");i.src=`${Fg}/${e.currently.icon}.webp`,i.alt=e.currently.icon;let n="";for(let m of Object.entries(e.currently))m[0].toLowerCase().endsWith("time")&&(m[1]=C.fromSeconds(m[1]).toFormat("HH:mm")),n+=`${m[0]}: ${m[1]}
`;i.title=n,t.querySelector(".temp-current").textContent=`${Math.round(10*e.currently.temperature)/10}\xB0`,t.querySelector(".temp-feel").innerHTML=`feels like <b>${Math.round(e.currently.apparentTemperature)}</b>\xB0`,t.querySelector(".temp-minmax").innerHTML=`range <b>${Math.round(e.daily.data[0].temperatureLow)}\xB0 - ${Math.round(e.daily.data[0].temperatureHigh)}\xB0</b>`,(c=e.currently)!=null&&c.summary&&(t.querySelector(".desc-current").textContent=e.currently.summary.replace(".","").toLowerCase()),(h=e.minutely)!=null&&h.summary&&(t.querySelector(".desc-minute").textContent=e.minutely.summary.replace(".","").toLowerCase()),(u=e.hourly)!=null&&u.summary&&(t.querySelector(".desc-hour").textContent=e.hourly.summary.replace(".","").toLowerCase()),(f=e.daily)!=null&&f.summary&&(t.querySelector(".desc-daily").textContent=e.daily.summary.replace(".","").toLowerCase());let s=document.getElementById("component-today-column2");if(!s)return;let o="",r=e.currently.precipProbability<.02?"none":`<b>${Math.round(100*e.currently.precipProbability)}% for ${Math.round(100*e.currently.precipIntensity)/100} in</b>`;o+=`humidity <b>${Math.round(100*e.currently.humidity)}%</b><br>`,o+=`dew point <b>${Math.round(e.currently.dewPoint)}\xB0</b><br>`,o+=`cloud cover <b>${Math.round(100*e.currently.cloudCover)}%</b><br>`,o+=`pressure <b>${e.currently.pressure} mb</b><br>`,o+=`precipation <b>${r}</b><br>`,s.innerHTML=o;let a=document.getElementById("component-today-column3");if(!a)return;o="";let l=e.currently.nearestStormDistance?`<b>${e.currently.nearestStormDistance} mi &nbsp<span style="display:inline-block;transform:rotate(${e.currently.nearestStormBearing}deg);"> \u2191 </span></b>`:"none";o+=`uv index <span style="background-color: rgba(${15*e.currently.uvIndex}, ${15*(15-e.currently.uvIndex)}, ${0}, 1)"><b>&nbsp${e.currently.uvIndex}&nbsp</b></span><br>`,o+=`visibility <b>${e.currently.visibility} mi</b><br>`,o+=`wind <b>${Math.round(e.currently.windSpeed)} to ${Math.round(e.currently.windGust)} mph &nbsp&nbsp<span style="display:inline-block;transform:rotate(${e.currently.windBearing}deg);"> \u2191 </span></b><br>`,o+=`nearest storm ${l}<br>`,o+=`last update ${C.fromSeconds(e.currently.time).toFormat("HH:mm")}<br>`,a.innerHTML=o}var Ga=class extends HTMLElement{connectedCallback(){let t="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this.innerHTML=`
      <div id="component-today" class="component-today">
        <div class="current" id="day-0" style="display: flex; justify-content: center">
          <div class="component-today-icon" style="margin-right: 25px">
            <img id="component-today-icon" width="200" height="200" src="${t}"></img>
          </div>
          <div id="component-today-column1" style="margin-right: 25px">
            <div class="temp-current" style="text-align: center; font-size: 3.4rem"></div>
            <div class="temp-feel" style="line-height: 2rem"></div>
            <div class="temp-minmax"></div>
          </div>
          <div id="component-today-column2" style="margin: 12px 25px 0 25px; line-height: 1.4rem">
          </div>
          <div id="component-today-column3" style="margin: 12px 25px 0 25px; line-height: 1.4rem">
          </div>
        </div>
        <div class="component-today-notes">
          <div class="desc-current"></div> 
          <div class="desc-minute"></div>
          <div class="desc-hour"></div>
          <div class="desc-daily"></div>
        </div>
      </div>
    `}};customElements.define("component-today",Ga);var zg="../assets/weather";async function hu(e){O("updateForecast",{daily:e.daily});let t=document.getElementById("component-forecast");if(!t)return;if(!e||!e.currently||!e.daily){t.style.display="none";return}t.style.display="flex",t.querySelectorAll(".component-forecast-day").forEach((n,s)=>{let o=e.daily.data[s+1],r=document.getElementById(`icon-${s+1}`);r.src=`${zg}/${o.icon}.webp`,r.alt=o.icon;let a="";for(let c of Object.entries(o))c[0].toLowerCase().endsWith("time")&&(c[1]=C.fromSeconds(c[1]).toFormat("HH:mm")),a+=`${c[0]}: ${c[1]}
`;r.title=a,n.querySelector(".component-forecast-date").textContent=C.fromSeconds(o.time).setZone(e.timezone).toFormat("ccc").toLowerCase(),n.querySelector(".component-forecast-temp-high").textContent=` ${Math.round(o.temperatureHigh)}\xB0 `,n.querySelector(".component-forecast-temp-low").textContent=` ${Math.round(o.temperatureLow)}\xB0 `;let l="";o.precipProbability>.05&&Math.round(100*o.precipIntensityMax)>0&&(l+=`
          <span style="color: rgb(${100}, ${100+Math.trunc(155*o.precipProbability)}, ${100})">
          ${o.precipType} ${Math.round(100*o.precipProbability)}% 
          </span>
        `),Math.round(100*o.precipIntensity)>0&&(l+=`
          <span style="color: black; background-color: rgb(${100}, ${100+Math.trunc(1500*o.precipIntensity)}, ${100})">
          <b>&nbsp${Math.min(Math.round(100*o.precipIntensity),10)}&nbsp</b></span>
        `),Math.round(100*o.precipIntensityMax)>0&&(l+=`
          <br>
          at ${C.fromSeconds(o.precipIntensityMaxTime).toFormat("HH:mm")} 
          <span style="color: black; background-color: rgb(${100}, ${100+Math.trunc(1500*o.precipIntensityMax)}, ${100})">
          <b>&nbsp${Math.min(Math.round(100*o.precipIntensityMax),10)}&nbsp</b></span>
        `),n.querySelector(".daily-rain").innerHTML=l}),t.style.visibility="visible"}var Xa=class extends HTMLElement{connectedCallback(){let t="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";this.innerHTML=`
      <div id="component-forecast" class="component-forecast" style="visibility: hidden">
        <div class="component-forecast-day"><div class="component-forecast-date" id="day-1"></div>
          <div class="icon"><img id="icon-1" width="120" height="120" src="${t}"></img></div>
          <div class="day-details"><span class="component-forecast-temp-low"></span> - <span class="component-forecast-temp-high"></span><br><span class="daily-rain"</span></div>
        </div>
        <div class="component-forecast-day"><div class="component-forecast-date" id="day-2"></div>
          <div class="icon"><img id="icon-2" width="120" height="120" src="${t}"></img></div>
          <div class="day-details"><span class="component-forecast-temp-low"></span> - <span class="component-forecast-temp-high"></span><br><span class="daily-rain"</span></div>
        </div>
        <div class="component-forecast-day"><div class="component-forecast-date" id="day-3"></div>
          <div class="icon"><img id="icon-3" width="120" height="120" src="${t}"></img></div>
          <div class="day-details"><span class="component-forecast-temp-low"></span> - <span class="component-forecast-temp-high"></span><br><span class="daily-rain"</span></div>
        </div>
        <div class="component-forecast-day"><div class="component-forecast-date" id="day-4"></div>
          <div class="icon"><img id="icon-4" width="120" height="120" src="${t}"></img></div>
          <div class="day-details"><span class="component-forecast-temp-low"></span> - <span class="component-forecast-temp-high"></span><br><span class="daily-rain"</span></div>
        </div>
        <div class="component-forecast-day"><div class="component-forecast-date" id="day-5"></div>
          <div class="icon"><img id="icon-5" width="120" height="120" src="${t}"></img></div>
          <div class="day-details"><span class="component-forecast-temp-low"></span> - <span class="component-forecast-temp-high"></span><br><span class="daily-rain"</span></div>
        </div>
        <div class="component-forecast-day"><div class="component-forecast-date" id="day-6"></div>
          <div class="icon"><img id="icon-6" width="120" height="120" src="${t}"></img></div>
          <div class="day-details"><span class="component-forecast-temp-low"></span> - <span class="component-forecast-temp-high"></span><br><span class="daily-rain"</span></div>
        </div>
        <div class="component-forecast-day"><div class="component-forecast-date" id="day-7"></div>
          <div class="icon"><img id="icon-7" width="120" height="120" src="${t}"></img></div>
          <div class="day-details"><span class="component-forecast-temp-low"></span> - <span class="component-forecast-temp-high"></span><br><span class="daily-rain"</span></div>
        </div>
      </div>
    `}};customElements.define("component-forecast",Xa);function Ze(){}var Su=function(){let e=0;return function(){return e++}}();function K(e){return e===null||typeof e=="undefined"}function dt(e){if(Array.isArray&&Array.isArray(e))return!0;let t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Y(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}var Ot=e=>(typeof e=="number"||e instanceof Number)&&isFinite(+e);function oe(e,t){return Ot(e)?e:t}function H(e,t){return typeof e=="undefined"?t:e}var Eu=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:e/t,nl=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function ft(e,t,i){if(e&&typeof e.call=="function")return e.apply(i,t)}function st(e,t,i,n){let s,o,r;if(dt(e))if(o=e.length,n)for(s=o-1;s>=0;s--)t.call(i,e[s],s);else for(s=0;s<o;s++)t.call(i,e[s],s);else if(Y(e))for(r=Object.keys(e),o=r.length,s=0;s<o;s++)t.call(i,e[r[s]],r[s])}function Gs(e,t){let i,n,s,o;if(!e||!t||e.length!==t.length)return!1;for(i=0,n=e.length;i<n;++i)if(s=e[i],o=t[i],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function er(e){if(dt(e))return e.map(er);if(Y(e)){let t=Object.create(null),i=Object.keys(e),n=i.length,s=0;for(;s<n;++s)t[i[s]]=er(e[i[s]]);return t}return e}function Lu(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function Bg(e,t,i,n){if(!Lu(e))return;let s=t[e],o=i[e];Y(s)&&Y(o)?Dn(s,o,n):t[e]=er(o)}function Dn(e,t,i){let n=dt(t)?t:[t],s=n.length;if(!Y(e))return e;i=i||{};let o=i.merger||Bg;for(let r=0;r<s;++r){if(t=n[r],!Y(t))continue;let a=Object.keys(t);for(let l=0,c=a.length;l<c;++l)o(a[l],e,t,i)}return e}function Fn(e,t){return Dn(e,t,{merger:Ng})}function Ng(e,t,i){if(!Lu(e))return;let n=t[e],s=i[e];Y(n)&&Y(s)?Fn(n,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=er(s))}var uu={"":e=>e,x:e=>e.x,y:e=>e.y};function ai(e,t){return(uu[t]||(uu[t]=Hg(t)))(e)}function Hg(e){let t=Wg(e);return i=>{for(let n of t){if(n==="")break;i=i&&i[n]}return i}}function Wg(e){let t=e.split("."),i=[],n="";for(let s of t)n+=s,n.endsWith("\\")?n=n.slice(0,-1)+".":(i.push(n),n="");return i}function or(e){return e.charAt(0).toUpperCase()+e.slice(1)}var se=e=>typeof e!="undefined",ri=e=>typeof e=="function",sl=(e,t)=>{if(e.size!==t.size)return!1;for(let i of e)if(!t.has(i))return!1;return!0};function Pu(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}var gt=Math.PI,rt=2*gt,Zg=rt+gt,ir=Number.POSITIVE_INFINITY,Vg=gt/180,Mt=gt/2,Us=gt/4,du=gt*2/3,re=Math.log10,ke=Math.sign;function ol(e){let t=Math.round(e);e=zn(e,t,e/1e3)?t:e;let i=Math.pow(10,Math.floor(re(e))),n=e/i;return(n<=1?1:n<=2?2:n<=5?5:10)*i}function ku(e){let t=[],i=Math.sqrt(e),n;for(n=1;n<i;n++)e%n===0&&(t.push(n),t.push(e/n));return i===(i|0)&&t.push(i),t.sort((s,o)=>s-o).pop(),t}function qi(e){return!isNaN(parseFloat(e))&&isFinite(e)}function zn(e,t,i){return Math.abs(e-t)<i}function Ou(e,t){let i=Math.round(e);return i-t<=e&&i+t>=e}function rl(e,t,i){let n,s,o;for(n=0,s=e.length;n<s;n++)o=e[n][i],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ge(e){return e*(gt/180)}function rr(e){return e*(180/gt)}function al(e){if(!Ot(e))return;let t=1,i=0;for(;Math.round(e*t)/t!==e;)t*=10,i++;return i}function ll(e,t){let i=t.x-e.x,n=t.y-e.y,s=Math.sqrt(i*i+n*n),o=Math.atan2(n,i);return o<-.5*gt&&(o+=rt),{angle:o,distance:s}}function nr(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function $g(e,t){return(e-t+Zg)%rt-gt}function Kt(e){return(e%rt+rt)%rt}function Bn(e,t,i,n){let s=Kt(e),o=Kt(t),r=Kt(i),a=Kt(o-s),l=Kt(r-s),c=Kt(s-o),h=Kt(s-r);return s===o||s===r||n&&o===r||a>l&&c<h}function Bt(e,t,i){return Math.max(t,Math.min(i,e))}function Cu(e){return Bt(e,-32768,32767)}function Ve(e,t,i,n=1e-6){return e>=Math.min(t,i)-n&&e<=Math.max(t,i)+n}function ar(e,t,i){i=i||(r=>e[r]<t);let n=e.length-1,s=0,o;for(;n-s>1;)o=s+n>>1,i(o)?s=o:n=o;return{lo:s,hi:n}}var We=(e,t,i,n)=>ar(e,i,n?s=>e[s][t]<=i:s=>e[s][t]<i),Du=(e,t,i)=>ar(e,i,n=>e[n][t]>=i);function Au(e,t,i){let n=0,s=e.length;for(;n<s&&e[n]<t;)n++;for(;s>n&&e[s-1]>i;)s--;return n>0||s<e.length?e.slice(n,s):e}var Iu=["push","pop","shift","splice","unshift"];function Ru(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Iu.forEach(i=>{let n="_onData"+or(i),s=e[i];Object.defineProperty(e,i,{configurable:!0,enumerable:!1,value(...o){let r=s.apply(this,o);return e._chartjs.listeners.forEach(a=>{typeof a[n]=="function"&&a[n](...o)}),r}})})}function cl(e,t){let i=e._chartjs;if(!i)return;let n=i.listeners,s=n.indexOf(t);s!==-1&&n.splice(s,1),!(n.length>0)&&(Iu.forEach(o=>{delete e[o]}),delete e._chartjs)}function hl(e){let t=new Set,i,n;for(i=0,n=e.length;i<n;++i)t.add(e[i]);return t.size===n?e:Array.from(t)}var ul=function(){return typeof window=="undefined"?function(e){return e()}:window.requestAnimationFrame}();function dl(e,t,i){let n=i||(r=>Array.prototype.slice.call(r)),s=!1,o=[];return function(...r){o=n(r),s||(s=!0,ul.call(window,()=>{s=!1,e.apply(t,o)}))}}function Fu(e,t){let i;return function(...n){return t?(clearTimeout(i),i=setTimeout(e,t,n)):e.apply(this,n),t}}var lr=e=>e==="start"?"left":e==="end"?"right":"center",Vt=(e,t,i)=>e==="start"?t:e==="end"?i:(t+i)/2,zu=(e,t,i,n)=>e===(n?"left":"right")?i:e==="center"?(t+i)/2:t;function fl(e,t,i){let n=t.length,s=0,o=n;if(e._sorted){let{iScale:r,_parsed:a}=e,l=r.axis,{min:c,max:h,minDefined:u,maxDefined:f}=r.getUserBounds();u&&(s=Bt(Math.min(We(a,r.axis,c).lo,i?n:We(t,l,r.getPixelForValue(c)).lo),0,n-1)),f?o=Bt(Math.max(We(a,r.axis,h,!0).hi+1,i?0:We(t,l,r.getPixelForValue(h),!0).hi+1),s,n)-s:o=n-s}return{start:s,count:o}}function ml(e){let{xScale:t,yScale:i,_scaleRanges:n}=e,s={xmin:t.min,xmax:t.max,ymin:i.min,ymax:i.max};if(!n)return e._scaleRanges=s,!0;let o=n.xmin!==t.min||n.xmax!==t.max||n.ymin!==i.min||n.ymax!==i.max;return Object.assign(n,s),o}var Xo=e=>e===0||e===1,fu=(e,t,i)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*rt/i)),mu=(e,t,i)=>Math.pow(2,-10*e)*Math.sin((e-t)*rt/i)+1,Cn={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Mt)+1,easeOutSine:e=>Math.sin(e*Mt),easeInOutSine:e=>-.5*(Math.cos(gt*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>Xo(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>Xo(e)?e:fu(e,.075,.3),easeOutElastic:e=>Xo(e)?e:mu(e,.075,.3),easeInOutElastic(e){return Xo(e)?e:e<.5?.5*fu(e*2,.1125,.45):.5+.5*mu(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Cn.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Cn.easeInBounce(e*2)*.5:Cn.easeOutBounce(e*2-1)*.5+.5};function Xs(e){return e+.5|0}var wi=(e,t,i)=>Math.max(Math.min(e,i),t);function js(e){return wi(Xs(e*2.55),0,255)}function Ti(e){return wi(Xs(e*255),0,255)}function oi(e){return wi(Xs(e/2.55)/100,0,1)}function pu(e){return wi(Xs(e*100),0,100)}var pe={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},el=[..."0123456789ABCDEF"],Ug=e=>el[e&15],jg=e=>el[(e&240)>>4]+el[e&15],Ko=e=>(e&240)>>4===(e&15),Yg=e=>Ko(e.r)&&Ko(e.g)&&Ko(e.b)&&Ko(e.a);function qg(e){var t=e.length,i;return e[0]==="#"&&(t===4||t===5?i={r:255&pe[e[1]]*17,g:255&pe[e[2]]*17,b:255&pe[e[3]]*17,a:t===5?pe[e[4]]*17:255}:(t===7||t===9)&&(i={r:pe[e[1]]<<4|pe[e[2]],g:pe[e[3]]<<4|pe[e[4]],b:pe[e[5]]<<4|pe[e[6]],a:t===9?pe[e[7]]<<4|pe[e[8]]:255})),i}var Gg=(e,t)=>e<255?t(e):"";function Xg(e){var t=Yg(e)?Ug:jg;return e?"#"+t(e.r)+t(e.g)+t(e.b)+Gg(e.a,t):void 0}var Kg=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Bu(e,t,i){let n=t*Math.min(i,1-i),s=(o,r=(o+e/30)%12)=>i-n*Math.max(Math.min(r-3,9-r,1),-1);return[s(0),s(8),s(4)]}function Jg(e,t,i){let n=(s,o=(s+e/60)%6)=>i-i*t*Math.max(Math.min(o,4-o,1),0);return[n(5),n(3),n(1)]}function Qg(e,t,i){let n=Bu(e,1,.5),s;for(t+i>1&&(s=1/(t+i),t*=s,i*=s),s=0;s<3;s++)n[s]*=1-t-i,n[s]+=t;return n}function t_(e,t,i,n,s){return e===s?(t-i)/n+(t<i?6:0):t===s?(i-e)/n+2:(e-t)/n+4}function pl(e){let i=e.r/255,n=e.g/255,s=e.b/255,o=Math.max(i,n,s),r=Math.min(i,n,s),a=(o+r)/2,l,c,h;return o!==r&&(h=o-r,c=a>.5?h/(2-o-r):h/(o+r),l=t_(i,n,s,h,o),l=l*60+.5),[l|0,c||0,a]}function gl(e,t,i,n){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,i,n)).map(Ti)}function _l(e,t,i){return gl(Bu,e,t,i)}function e_(e,t,i){return gl(Qg,e,t,i)}function i_(e,t,i){return gl(Jg,e,t,i)}function Nu(e){return(e%360+360)%360}function n_(e){let t=Kg.exec(e),i=255,n;if(!t)return;t[5]!==n&&(i=t[6]?js(+t[5]):Ti(+t[5]));let s=Nu(+t[2]),o=+t[3]/100,r=+t[4]/100;return t[1]==="hwb"?n=e_(s,o,r):t[1]==="hsv"?n=i_(s,o,r):n=_l(s,o,r),{r:n[0],g:n[1],b:n[2],a:i}}function s_(e,t){var i=pl(e);i[0]=Nu(i[0]+t),i=_l(i),e.r=i[0],e.g=i[1],e.b=i[2]}function o_(e){if(!e)return;let t=pl(e),i=t[0],n=pu(t[1]),s=pu(t[2]);return e.a<255?`hsla(${i}, ${n}%, ${s}%, ${oi(e.a)})`:`hsl(${i}, ${n}%, ${s}%)`}var gu={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},_u={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function r_(){let e={},t=Object.keys(_u),i=Object.keys(gu),n,s,o,r,a;for(n=0;n<t.length;n++){for(r=a=t[n],s=0;s<i.length;s++)o=i[s],a=a.replace(o,gu[o]);o=parseInt(_u[r],16),e[a]=[o>>16&255,o>>8&255,o&255]}return e}var Jo;function a_(e){Jo||(Jo=r_(),Jo.transparent=[0,0,0,0]);let t=Jo[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}var l_=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function c_(e){let t=l_.exec(e),i=255,n,s,o;if(!!t){if(t[7]!==n){let r=+t[7];i=t[8]?js(r):wi(r*255,0,255)}return n=+t[1],s=+t[3],o=+t[5],n=255&(t[2]?js(n):wi(n,0,255)),s=255&(t[4]?js(s):wi(s,0,255)),o=255&(t[6]?js(o):wi(o,0,255)),{r:n,g:s,b:o,a:i}}}function h_(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${oi(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}var Ka=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,On=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function u_(e,t,i){let n=On(oi(e.r)),s=On(oi(e.g)),o=On(oi(e.b));return{r:Ti(Ka(n+i*(On(oi(t.r))-n))),g:Ti(Ka(s+i*(On(oi(t.g))-s))),b:Ti(Ka(o+i*(On(oi(t.b))-o))),a:e.a+i*(t.a-e.a)}}function Qo(e,t,i){if(e){let n=pl(e);n[t]=Math.max(0,Math.min(n[t]+n[t]*i,t===0?360:1)),n=_l(n),e.r=n[0],e.g=n[1],e.b=n[2]}}function Hu(e,t){return e&&Object.assign(t||{},e)}function yu(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Ti(e[3]))):(t=Hu(e,{r:0,g:0,b:0,a:1}),t.a=Ti(t.a)),t}function d_(e){return e.charAt(0)==="r"?c_(e):n_(e)}var An=class{constructor(t){if(t instanceof An)return t;let i=typeof t,n;i==="object"?n=yu(t):i==="string"&&(n=qg(t)||a_(t)||d_(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=Hu(this._rgb);return t&&(t.a=oi(t.a)),t}set rgb(t){this._rgb=yu(t)}rgbString(){return this._valid?h_(this._rgb):void 0}hexString(){return this._valid?Xg(this._rgb):void 0}hslString(){return this._valid?o_(this._rgb):void 0}mix(t,i){if(t){let n=this.rgb,s=t.rgb,o,r=i===o?.5:i,a=2*r-1,l=n.a-s.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,n.r=255&c*n.r+o*s.r+.5,n.g=255&c*n.g+o*s.g+.5,n.b=255&c*n.b+o*s.b+.5,n.a=r*n.a+(1-r)*s.a,this.rgb=n}return this}interpolate(t,i){return t&&(this._rgb=u_(this._rgb,t._rgb,i)),this}clone(){return new An(this.rgb)}alpha(t){return this._rgb.a=Ti(t),this}clearer(t){let i=this._rgb;return i.a*=1-t,this}greyscale(){let t=this._rgb,i=Xs(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=i,this}opaquer(t){let i=this._rgb;return i.a*=1+t,this}negate(){let t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qo(this._rgb,2,t),this}darken(t){return Qo(this._rgb,2,-t),this}saturate(t){return Qo(this._rgb,1,t),this}desaturate(t){return Qo(this._rgb,1,-t),this}rotate(t){return s_(this._rgb,t),this}};function Wu(e){return new An(e)}function Zu(e){if(e&&typeof e=="object"){let t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function yl(e){return Zu(e)?e:Wu(e)}function Ja(e){return Zu(e)?e:Wu(e).saturate(.5).darken(.1).hexString()}var Mi=Object.create(null),cr=Object.create(null);function Ys(e,t){if(!t)return e;let i=t.split(".");for(let n=0,s=i.length;n<s;++n){let o=i[n];e=e[o]||(e[o]=Object.create(null))}return e}function Qa(e,t,i){return typeof t=="string"?Dn(Ys(e,t),i):Dn(Ys(e,""),t)}var il=class{constructor(t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,n)=>Ja(n.backgroundColor),this.hoverBorderColor=(i,n)=>Ja(n.borderColor),this.hoverColor=(i,n)=>Ja(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t)}set(t,i){return Qa(this,t,i)}get(t){return Ys(this,t)}describe(t,i){return Qa(cr,t,i)}override(t,i){return Qa(Mi,t,i)}route(t,i,n,s){let o=Ys(this,t),r=Ys(this,n),a="_"+i;Object.defineProperties(o,{[a]:{value:o[i],writable:!0},[i]:{enumerable:!0,get(){let l=this[a],c=r[s];return Y(l)?Object.assign({},c,l):H(l,c)},set(l){this[a]=l}}})}},q=new il({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function f_(e){return!e||K(e.size)||K(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function qs(e,t,i,n,s){let o=t[s];return o||(o=t[s]=e.measureText(s).width,i.push(s)),o>n&&(n=o),n}function Vu(e,t,i,n){n=n||{};let s=n.data=n.data||{},o=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(s=n.data={},o=n.garbageCollect=[],n.font=t),e.save(),e.font=t;let r=0,a=i.length,l,c,h,u,f;for(l=0;l<a;l++)if(u=i[l],u!=null&&dt(u)!==!0)r=qs(e,s,o,r,u);else if(dt(u))for(c=0,h=u.length;c<h;c++)f=u[c],f!=null&&!dt(f)&&(r=qs(e,s,o,r,f));e.restore();let m=o.length/2;if(m>i.length){for(l=0;l<m;l++)delete s[o[l]];o.splice(0,m)}return r}function Si(e,t,i){let n=e.currentDevicePixelRatio,s=i!==0?Math.max(i/2,.5):0;return Math.round((t-s)*n)/n+s}function vl(e,t){t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function hr(e,t,i,n){bl(e,t,i,n,null)}function bl(e,t,i,n,s){let o,r,a,l,c,h,u=t.pointStyle,f=t.rotation,m=t.radius,d=(f||0)*Vg;if(u&&typeof u=="object"&&(o=u.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){e.save(),e.translate(i,n),e.rotate(d),e.drawImage(u,-u.width/2,-u.height/2,u.width,u.height),e.restore();return}if(!(isNaN(m)||m<=0)){switch(e.beginPath(),u){default:s?e.ellipse(i,n,s/2,m,0,0,rt):e.arc(i,n,m,0,rt),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(d)*m,n-Math.cos(d)*m),d+=du,e.lineTo(i+Math.sin(d)*m,n-Math.cos(d)*m),d+=du,e.lineTo(i+Math.sin(d)*m,n-Math.cos(d)*m),e.closePath();break;case"rectRounded":c=m*.516,l=m-c,r=Math.cos(d+Us)*l,a=Math.sin(d+Us)*l,e.arc(i-r,n-a,c,d-gt,d-Mt),e.arc(i+a,n-r,c,d-Mt,d),e.arc(i+r,n+a,c,d,d+Mt),e.arc(i-a,n+r,c,d+Mt,d+gt),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,h=s?s/2:l,e.rect(i-h,n-l,2*h,2*l);break}d+=Us;case"rectRot":r=Math.cos(d)*m,a=Math.sin(d)*m,e.moveTo(i-r,n-a),e.lineTo(i+a,n-r),e.lineTo(i+r,n+a),e.lineTo(i-a,n+r),e.closePath();break;case"crossRot":d+=Us;case"cross":r=Math.cos(d)*m,a=Math.sin(d)*m,e.moveTo(i-r,n-a),e.lineTo(i+r,n+a),e.moveTo(i+a,n-r),e.lineTo(i-a,n+r);break;case"star":r=Math.cos(d)*m,a=Math.sin(d)*m,e.moveTo(i-r,n-a),e.lineTo(i+r,n+a),e.moveTo(i+a,n-r),e.lineTo(i-a,n+r),d+=Us,r=Math.cos(d)*m,a=Math.sin(d)*m,e.moveTo(i-r,n-a),e.lineTo(i+r,n+a),e.moveTo(i+a,n-r),e.lineTo(i-a,n+r);break;case"line":r=s?s/2:Math.cos(d)*m,a=Math.sin(d)*m,e.moveTo(i-r,n-a),e.lineTo(i+r,n+a);break;case"dash":e.moveTo(i,n),e.lineTo(i+Math.cos(d)*m,n+Math.sin(d)*m);break}e.fill(),t.borderWidth>0&&e.stroke()}}function In(e,t,i){return i=i||.5,!t||e&&e.x>t.left-i&&e.x<t.right+i&&e.y>t.top-i&&e.y<t.bottom+i}function Ks(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Js(e){e.restore()}function $u(e,t,i,n,s){if(!t)return e.lineTo(i.x,i.y);if(s==="middle"){let o=(t.x+i.x)/2;e.lineTo(o,t.y),e.lineTo(o,i.y)}else s==="after"!=!!n?e.lineTo(t.x,i.y):e.lineTo(i.x,t.y);e.lineTo(i.x,i.y)}function Uu(e,t,i,n){if(!t)return e.lineTo(i.x,i.y);e.bezierCurveTo(n?t.cp1x:t.cp2x,n?t.cp1y:t.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function Ei(e,t,i,n,s,o={}){let r=dt(t)?t:[t],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(e.save(),e.font=s.string,m_(e,o),l=0;l<r.length;++l)c=r[l],a&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),K(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(c,i,n,o.maxWidth)),e.fillText(c,i,n,o.maxWidth),p_(e,i,n,c,o),n+=s.lineHeight;e.restore()}function m_(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),K(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function p_(e,t,i,n,s){if(s.strikethrough||s.underline){let o=e.measureText(n),r=t-o.actualBoundingBoxLeft,a=t+o.actualBoundingBoxRight,l=i-o.actualBoundingBoxAscent,c=i+o.actualBoundingBoxDescent,h=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(r,h),e.lineTo(a,h),e.stroke()}}function Nn(e,t){let{x:i,y:n,w:s,h:o,radius:r}=t;e.arc(i+r.topLeft,n+r.topLeft,r.topLeft,-Mt,gt,!0),e.lineTo(i,n+o-r.bottomLeft),e.arc(i+r.bottomLeft,n+o-r.bottomLeft,r.bottomLeft,gt,Mt,!0),e.lineTo(i+s-r.bottomRight,n+o),e.arc(i+s-r.bottomRight,n+o-r.bottomRight,r.bottomRight,Mt,0,!0),e.lineTo(i+s,n+r.topRight),e.arc(i+s-r.topRight,n+r.topRight,r.topRight,0,-Mt,!0),e.lineTo(i+r.topLeft,n)}var g_=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),__=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function y_(e,t){let i=(""+e).match(g_);if(!i||i[1]==="normal")return t*1.2;switch(e=+i[2],i[3]){case"px":return e;case"%":e/=100;break}return t*e}var v_=e=>+e||0;function ur(e,t){let i={},n=Y(t),s=n?Object.keys(t):t,o=Y(e)?n?r=>H(e[r],e[t[r]]):r=>e[r]:()=>e;for(let r of s)i[r]=v_(o(r));return i}function xl(e){return ur(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Li(e){return ur(e,["topLeft","topRight","bottomLeft","bottomRight"])}function $t(e){let t=xl(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function It(e,t){e=e||{},t=t||q.font;let i=H(e.size,t.size);typeof i=="string"&&(i=parseInt(i,10));let n=H(e.style,t.style);n&&!(""+n).match(__)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");let s={family:H(e.family,t.family),lineHeight:y_(H(e.lineHeight,t.lineHeight),i),size:i,style:n,weight:H(e.weight,t.weight),string:""};return s.string=f_(s),s}function Hn(e,t,i,n){let s=!0,o,r,a;for(o=0,r=e.length;o<r;++o)if(a=e[o],a!==void 0&&(t!==void 0&&typeof a=="function"&&(a=a(t),s=!1),i!==void 0&&dt(a)&&(a=a[i%a.length],s=!1),a!==void 0))return n&&!s&&(n.cacheable=!1),a}function ju(e,t,i){let{min:n,max:s}=e,o=nl(t,(s-n)/2),r=(a,l)=>i&&a===0?0:a+l;return{min:r(n,-Math.abs(o)),max:r(s,o)}}function li(e,t){return Object.assign(Object.create(e),t)}function dr(e,t=[""],i=e,n,s=()=>e[0]){se(n)||(n=Gu("_fallback",e));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:i,_fallback:n,_getTarget:s,override:r=>dr([r,...e],t,i,n)};return new Proxy(o,{deleteProperty(r,a){return delete r[a],delete r._keys,delete e[0][a],!0},get(r,a){return Yu(r,a,()=>L_(a,t,e,r))},getOwnPropertyDescriptor(r,a){return Reflect.getOwnPropertyDescriptor(r._scopes[0],a)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(r,a){return bu(r).includes(a)},ownKeys(r){return bu(r)},set(r,a,l){let c=r._storage||(r._storage=s());return r[a]=c[a]=l,delete r._keys,!0}})}function Yi(e,t,i,n){let s={_cacheable:!1,_proxy:e,_context:t,_subProxy:i,_stack:new Set,_descriptors:wl(e,n),setContext:o=>Yi(e,o,i,n),override:o=>Yi(e.override(o),t,i,n)};return new Proxy(s,{deleteProperty(o,r){return delete o[r],delete e[r],!0},get(o,r,a){return Yu(o,r,()=>x_(o,r,a))},getOwnPropertyDescriptor(o,r){return o._descriptors.allKeys?Reflect.has(e,r)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,r)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(o,r){return Reflect.has(e,r)},ownKeys(){return Reflect.ownKeys(e)},set(o,r,a){return e[r]=a,delete o[r],!0}})}function wl(e,t={scriptable:!0,indexable:!0}){let{_scriptable:i=t.scriptable,_indexable:n=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:i,indexable:n,isScriptable:ri(i)?i:()=>i,isIndexable:ri(n)?n:()=>n}}var b_=(e,t)=>e?e+or(t):t,Tl=(e,t)=>Y(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Yu(e,t,i){if(Object.prototype.hasOwnProperty.call(e,t))return e[t];let n=i();return e[t]=n,n}function x_(e,t,i){let{_proxy:n,_context:s,_subProxy:o,_descriptors:r}=e,a=n[t];return ri(a)&&r.isScriptable(t)&&(a=w_(t,a,e,i)),dt(a)&&a.length&&(a=T_(t,a,e,r.isIndexable)),Tl(t,a)&&(a=Yi(a,s,o&&o[t],r)),a}function w_(e,t,i,n){let{_proxy:s,_context:o,_subProxy:r,_stack:a}=i;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);return a.add(e),t=t(o,r||n),a.delete(e),Tl(e,t)&&(t=Ml(s._scopes,s,e,t)),t}function T_(e,t,i,n){let{_proxy:s,_context:o,_subProxy:r,_descriptors:a}=i;if(se(o.index)&&n(e))t=t[o.index%t.length];else if(Y(t[0])){let l=t,c=s._scopes.filter(h=>h!==l);t=[];for(let h of l){let u=Ml(c,s,e,h);t.push(Yi(u,o,r&&r[e],a))}}return t}function qu(e,t,i){return ri(e)?e(t,i):e}var M_=(e,t)=>e===!0?t:typeof e=="string"?ai(t,e):void 0;function S_(e,t,i,n,s){for(let o of t){let r=M_(i,o);if(r){e.add(r);let a=qu(r._fallback,i,s);if(se(a)&&a!==i&&a!==n)return a}else if(r===!1&&se(n)&&i!==n)return null}return!1}function Ml(e,t,i,n){let s=t._rootScopes,o=qu(t._fallback,i,n),r=[...e,...s],a=new Set;a.add(n);let l=vu(a,r,i,o||i,n);return l===null||se(o)&&o!==i&&(l=vu(a,r,o,l,n),l===null)?!1:dr(Array.from(a),[""],s,o,()=>E_(t,i,n))}function vu(e,t,i,n,s){for(;i;)i=S_(e,t,i,n,s);return i}function E_(e,t,i){let n=e._getTarget();t in n||(n[t]={});let s=n[t];return dt(s)&&Y(i)?i:s}function L_(e,t,i,n){let s;for(let o of t)if(s=Gu(b_(o,e),i),se(s))return Tl(e,s)?Ml(i,n,e,s):s}function Gu(e,t){for(let i of t){if(!i)continue;let n=i[e];if(se(n))return n}}function bu(e){let t=e._keys;return t||(t=e._keys=P_(e._scopes)),t}function P_(e){let t=new Set;for(let i of e)for(let n of Object.keys(i).filter(s=>!s.startsWith("_")))t.add(n);return Array.from(t)}function Sl(e,t,i,n){let{iScale:s}=e,{key:o="r"}=this._parsing,r=new Array(n),a,l,c,h;for(a=0,l=n;a<l;++a)c=a+i,h=t[c],r[a]={r:s.parse(ai(h,o),c)};return r}var k_=Number.EPSILON||1e-14,Rn=(e,t)=>t<e.length&&!e[t].skip&&e[t],Xu=e=>e==="x"?"y":"x";function O_(e,t,i,n){let s=e.skip?t:e,o=t,r=i.skip?t:i,a=nr(o,s),l=nr(r,o),c=a/(a+l),h=l/(a+l);c=isNaN(c)?0:c,h=isNaN(h)?0:h;let u=n*c,f=n*h;return{previous:{x:o.x-u*(r.x-s.x),y:o.y-u*(r.y-s.y)},next:{x:o.x+f*(r.x-s.x),y:o.y+f*(r.y-s.y)}}}function C_(e,t,i){let n=e.length,s,o,r,a,l,c=Rn(e,0);for(let h=0;h<n-1;++h)if(l=c,c=Rn(e,h+1),!(!l||!c)){if(zn(t[h],0,k_)){i[h]=i[h+1]=0;continue}s=i[h]/t[h],o=i[h+1]/t[h],a=Math.pow(s,2)+Math.pow(o,2),!(a<=9)&&(r=3/Math.sqrt(a),i[h]=s*r*t[h],i[h+1]=o*r*t[h])}}function D_(e,t,i="x"){let n=Xu(i),s=e.length,o,r,a,l=Rn(e,0);for(let c=0;c<s;++c){if(r=a,a=l,l=Rn(e,c+1),!a)continue;let h=a[i],u=a[n];r&&(o=(h-r[i])/3,a[`cp1${i}`]=h-o,a[`cp1${n}`]=u-o*t[c]),l&&(o=(l[i]-h)/3,a[`cp2${i}`]=h+o,a[`cp2${n}`]=u+o*t[c])}}function A_(e,t="x"){let i=Xu(t),n=e.length,s=Array(n).fill(0),o=Array(n),r,a,l,c=Rn(e,0);for(r=0;r<n;++r)if(a=l,l=c,c=Rn(e,r+1),!!l){if(c){let h=c[t]-l[t];s[r]=h!==0?(c[i]-l[i])/h:0}o[r]=a?c?ke(s[r-1])!==ke(s[r])?0:(s[r-1]+s[r])/2:s[r-1]:s[r]}C_(e,s,o),D_(e,o,t)}function tr(e,t,i){return Math.max(Math.min(e,i),t)}function I_(e,t){let i,n,s,o,r,a=In(e[0],t);for(i=0,n=e.length;i<n;++i)r=o,o=a,a=i<n-1&&In(e[i+1],t),o&&(s=e[i],r&&(s.cp1x=tr(s.cp1x,t.left,t.right),s.cp1y=tr(s.cp1y,t.top,t.bottom)),a&&(s.cp2x=tr(s.cp2x,t.left,t.right),s.cp2y=tr(s.cp2y,t.top,t.bottom)))}function Ku(e,t,i,n,s){let o,r,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")A_(e,s);else{let c=n?e[e.length-1]:e[0];for(o=0,r=e.length;o<r;++o)a=e[o],l=O_(c,a,e[Math.min(o+1,r-(n?0:1))%r],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&I_(e,i)}function El(){return typeof window!="undefined"&&typeof document!="undefined"}function fr(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function sr(e,t,i){let n;return typeof e=="string"?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[i])):n=e,n}var mr=e=>window.getComputedStyle(e,null);function R_(e,t){return mr(e).getPropertyValue(t)}var F_=["top","right","bottom","left"];function ji(e,t,i){let n={};i=i?"-"+i:"";for(let s=0;s<4;s++){let o=F_[s];n[o]=parseFloat(e[t+"-"+o+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var z_=(e,t,i)=>(e>0||t>0)&&(!i||!i.shadowRoot);function B_(e,t){let i=e.touches,n=i&&i.length?i[0]:e,{offsetX:s,offsetY:o}=n,r=!1,a,l;if(z_(s,o,e.target))a=s,l=o;else{let c=t.getBoundingClientRect();a=n.clientX-c.left,l=n.clientY-c.top,r=!0}return{x:a,y:l,box:r}}function Pi(e,t){if("native"in e)return e;let{canvas:i,currentDevicePixelRatio:n}=t,s=mr(i),o=s.boxSizing==="border-box",r=ji(s,"padding"),a=ji(s,"border","width"),{x:l,y:c,box:h}=B_(e,i),u=r.left+(h&&a.left),f=r.top+(h&&a.top),{width:m,height:d}=t;return o&&(m-=r.width+a.width,d-=r.height+a.height),{x:Math.round((l-u)/m*i.width/n),y:Math.round((c-f)/d*i.height/n)}}function N_(e,t,i){let n,s;if(t===void 0||i===void 0){let o=fr(e);if(!o)t=e.clientWidth,i=e.clientHeight;else{let r=o.getBoundingClientRect(),a=mr(o),l=ji(a,"border","width"),c=ji(a,"padding");t=r.width-c.width-l.width,i=r.height-c.height-l.height,n=sr(a.maxWidth,o,"clientWidth"),s=sr(a.maxHeight,o,"clientHeight")}}return{width:t,height:i,maxWidth:n||ir,maxHeight:s||ir}}var tl=e=>Math.round(e*10)/10;function Ju(e,t,i,n){let s=mr(e),o=ji(s,"margin"),r=sr(s.maxWidth,e,"clientWidth")||ir,a=sr(s.maxHeight,e,"clientHeight")||ir,l=N_(e,t,i),{width:c,height:h}=l;if(s.boxSizing==="content-box"){let u=ji(s,"border","width"),f=ji(s,"padding");c-=f.width+u.width,h-=f.height+u.height}return c=Math.max(0,c-o.width),h=Math.max(0,n?Math.floor(c/n):h-o.height),c=tl(Math.min(c,r,l.maxWidth)),h=tl(Math.min(h,a,l.maxHeight)),c&&!h&&(h=tl(c/2)),{width:c,height:h}}function Ll(e,t,i){let n=t||1,s=Math.floor(e.height*n),o=Math.floor(e.width*n);e.height=s/n,e.width=o/n;let r=e.canvas;return r.style&&(i||!r.style.height&&!r.style.width)&&(r.style.height=`${e.height}px`,r.style.width=`${e.width}px`),e.currentDevicePixelRatio!==n||r.height!==s||r.width!==o?(e.currentDevicePixelRatio=n,r.height=s,r.width=o,e.ctx.setTransform(n,0,0,n,0,0),!0):!1}var Qu=function(){let e=!1;try{let t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(t){}return e}();function Pl(e,t){let i=R_(e,t),n=i&&i.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function xi(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:e.y+i*(t.y-e.y)}}function td(e,t,i,n){return{x:e.x+i*(t.x-e.x),y:n==="middle"?i<.5?e.y:t.y:n==="after"?i<1?e.y:t.y:i>0?t.y:e.y}}function ed(e,t,i,n){let s={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},r=xi(e,s,i),a=xi(s,o,i),l=xi(o,t,i),c=xi(r,a,i),h=xi(a,l,i);return xi(c,h,i)}var xu=new Map;function H_(e,t){t=t||{};let i=e+JSON.stringify(t),n=xu.get(i);return n||(n=new Intl.NumberFormat(e,t),xu.set(i,n)),n}function Wn(e,t,i){return H_(t,i).format(e)}var W_=function(e,t){return{x(i){return e+e+t-i},setWidth(i){t=i},textAlign(i){return i==="center"?i:i==="right"?"left":"right"},xPlus(i,n){return i-n},leftForLtr(i,n){return i-n}}},Z_=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function Gi(e,t,i){return e?W_(t,i):Z_()}function kl(e,t){let i,n;(t==="ltr"||t==="rtl")&&(i=e.canvas.style,n=[i.getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",t,"important"),e.prevTextDirection=n)}function Ol(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function id(e){return e==="angle"?{between:Bn,compare:$g,normalize:Kt}:{between:Ve,compare:(t,i)=>t-i,normalize:t=>t}}function wu({start:e,end:t,count:i,loop:n,style:s}){return{start:e%i,end:t%i,loop:n&&(t-e+1)%i===0,style:s}}function V_(e,t,i){let{property:n,start:s,end:o}=i,{between:r,normalize:a}=id(n),l=t.length,{start:c,end:h,loop:u}=e,f,m;if(u){for(c+=l,h+=l,f=0,m=l;f<m&&r(a(t[c%l][n]),s,o);++f)c--,h--;c%=l,h%=l}return h<c&&(h+=l),{start:c,end:h,loop:u,style:e.style}}function Cl(e,t,i){if(!i)return[e];let{property:n,start:s,end:o}=i,r=t.length,{compare:a,between:l,normalize:c}=id(n),{start:h,end:u,loop:f,style:m}=V_(e,t,i),d=[],p=!1,g=null,y,v,w,b=()=>l(s,w,y)&&a(s,w)!==0,x=()=>a(o,y)===0||l(o,w,y),E=()=>p||b(),S=()=>!p||x();for(let M=h,k=h;M<=u;++M)v=t[M%r],!v.skip&&(y=c(v[n]),y!==w&&(p=l(y,s,o),g===null&&E()&&(g=a(y,s)===0?M:k),g!==null&&S()&&(d.push(wu({start:g,end:M,loop:f,count:r,style:m})),g=null),k=M,w=y));return g!==null&&d.push(wu({start:g,end:u,loop:f,count:r,style:m})),d}function Dl(e,t){let i=[],n=e.segments;for(let s=0;s<n.length;s++){let o=Cl(n[s],e.points,t);o.length&&i.push(...o)}return i}function $_(e,t,i,n){let s=0,o=t-1;if(i&&!n)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,i&&(o+=s);o>s&&e[o%t].skip;)o--;return o%=t,{start:s,end:o}}function U_(e,t,i,n){let s=e.length,o=[],r=t,a=e[t],l;for(l=t+1;l<=i;++l){let c=e[l%s];c.skip||c.stop?a.skip||(n=!1,o.push({start:t%s,end:(l-1)%s,loop:n}),t=r=c.stop?l:null):(r=l,a.skip&&(t=l)),a=c}return r!==null&&o.push({start:t%s,end:r%s,loop:n}),o}function nd(e,t){let i=e.points,n=e.options.spanGaps,s=i.length;if(!s)return[];let o=!!e._loop,{start:r,end:a}=$_(i,s,o,n);if(n===!0)return Tu(e,[{start:r,end:a,loop:o}],i,t);let l=a<r?a+s:a,c=!!e._fullLoop&&r===0&&a===s-1;return Tu(e,U_(i,r,l,c),i,t)}function Tu(e,t,i,n){return!n||!n.setContext||!i?t:j_(e,t,i,n)}function j_(e,t,i,n){let s=e._chart.getContext(),o=Mu(e.options),{_datasetIndex:r,options:{spanGaps:a}}=e,l=i.length,c=[],h=o,u=t[0].start,f=u;function m(d,p,g,y){let v=a?-1:1;if(d!==p){for(d+=l;i[d%l].skip;)d-=v;for(;i[p%l].skip;)p+=v;d%l!==p%l&&(c.push({start:d%l,end:p%l,loop:g,style:y}),h=y,u=p%l)}}for(let d of t){u=a?u:d.start;let p=i[u%l],g;for(f=u+1;f<=d.end;f++){let y=i[f%l];g=Mu(n.setContext(li(s,{type:"segment",p0:p,p1:y,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:r}))),Y_(g,h)&&m(u,f-1,d.loop,h),p=y,h=g}u<f-1&&m(u,f-1,d.loop,h)}return c}function Mu(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Y_(e,t){return t&&JSON.stringify(e)!==JSON.stringify(t)}var Zl=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,i,n,s){let o=i.listeners[s],r=i.duration;o.forEach(a=>a({chart:t,initial:i.initial,numSteps:r,currentStep:Math.min(n-i.start,r)}))}_refresh(){this._request||(this._running=!0,this._request=ul.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let i=0;this._charts.forEach((n,s)=>{if(!n.running||!n.items.length)return;let o=n.items,r=o.length-1,a=!1,l;for(;r>=0;--r)l=o[r],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(t),a=!0):(o[r]=o[o.length-1],o.pop());a&&(s.draw(),this._notify(s,n,t,"progress")),o.length||(n.running=!1,this._notify(s,n,t,"complete"),n.initial=!1),i+=o.length}),this._lastDate=t,i===0&&(this._running=!1)}_getAnims(t){let i=this._charts,n=i.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},i.set(t,n)),n}listen(t,i,n){this._getAnims(t).listeners[i].push(n)}add(t,i){!i||!i.length||this._getAnims(t).items.push(...i)}has(t){return this._getAnims(t).items.length>0}start(t){let i=this._charts.get(t);!i||(i.running=!0,i.start=Date.now(),i.duration=i.items.reduce((n,s)=>Math.max(n,s._duration),0),this._refresh())}running(t){if(!this._running)return!1;let i=this._charts.get(t);return!(!i||!i.running||!i.items.length)}stop(t){let i=this._charts.get(t);if(!i||!i.items.length)return;let n=i.items,s=n.length-1;for(;s>=0;--s)n[s].cancel();i.items=[],this._notify(t,i,Date.now(),"complete")}remove(t){return this._charts.delete(t)}},ci=new Zl,sd="transparent",q_={boolean(e,t,i){return i>.5?t:e},color(e,t,i){let n=yl(e||sd),s=n.valid&&yl(t||sd);return s&&s.valid?s.mix(n,i).hexString():t},number(e,t,i){return e+(t-e)*i}},Vl=class{constructor(t,i,n,s){let o=i[n];s=Hn([t.to,s,o,t.from]);let r=Hn([t.from,o,s]);this._active=!0,this._fn=t.fn||q_[t.type||typeof r],this._easing=Cn[t.easing]||Cn.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=i,this._prop=n,this._from=r,this._to=s,this._promises=void 0}active(){return this._active}update(t,i,n){if(this._active){this._notify(!1);let s=this._target[this._prop],o=n-this._start,r=this._duration-o;this._start=n,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=Hn([t.to,i,s,t.from]),this._from=Hn([t.from,s,i])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){let i=t-this._start,n=this._duration,s=this._prop,o=this._from,r=this._loop,a=this._to,l;if(this._active=o!==a&&(r||i<n),!this._active){this._target[s]=a,this._notify(!0);return}if(i<0){this._target[s]=o;return}l=i/n%2,l=r&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[s]=this._fn(o,a,l)}wait(){let t=this._promises||(this._promises=[]);return new Promise((i,n)=>{t.push({res:i,rej:n})})}_notify(t){let i=t?"res":"rej",n=this._promises||[];for(let s=0;s<n.length;s++)n[s][i]()}},G_=["x","y","borderWidth","radius","tension"],X_=["color","borderColor","backgroundColor"];q.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var K_=Object.keys(q.animation);q.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"});q.set("animations",{colors:{type:"color",properties:X_},numbers:{type:"number",properties:G_}});q.describe("animations",{_fallback:"animation"});q.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}});var wr=class{constructor(t,i){this._chart=t,this._properties=new Map,this.configure(i)}configure(t){if(!Y(t))return;let i=this._properties;Object.getOwnPropertyNames(t).forEach(n=>{let s=t[n];if(!Y(s))return;let o={};for(let r of K_)o[r]=s[r];(dt(s.properties)&&s.properties||[n]).forEach(r=>{(r===n||!i.has(r))&&i.set(r,o)})})}_animateOptions(t,i){let n=i.options,s=Q_(t,n);if(!s)return[];let o=this._createAnimations(s,n);return n.$shared&&J_(t.options.$animations,n).then(()=>{t.options=n},()=>{}),o}_createAnimations(t,i){let n=this._properties,s=[],o=t.$animations||(t.$animations={}),r=Object.keys(i),a=Date.now(),l;for(l=r.length-1;l>=0;--l){let c=r[l];if(c.charAt(0)==="$")continue;if(c==="options"){s.push(...this._animateOptions(t,i));continue}let h=i[c],u=o[c],f=n.get(c);if(u)if(f&&u.active()){u.update(f,h,a);continue}else u.cancel();if(!f||!f.duration){t[c]=h;continue}o[c]=u=new Vl(f,t,c,h),s.push(u)}return s}update(t,i){if(this._properties.size===0){Object.assign(t,i);return}let n=this._createAnimations(t,i);if(n.length)return ci.add(this._chart,n),!0}};function J_(e,t){let i=[],n=Object.keys(t);for(let s=0;s<n.length;s++){let o=e[n[s]];o&&o.active()&&i.push(o.wait())}return Promise.all(i)}function Q_(e,t){if(!t)return;let i=e.options;if(!i){e.options=t;return}return i.$shared&&(e.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i}function od(e,t){let i=e&&e.options||{},n=i.reverse,s=i.min===void 0?t:0,o=i.max===void 0?t:0;return{start:n?o:s,end:n?s:o}}function ty(e,t,i){if(i===!1)return!1;let n=od(e,i),s=od(t,i);return{top:s.end,right:n.end,bottom:s.start,left:n.start}}function ey(e){let t,i,n,s;return Y(e)?(t=e.top,i=e.right,n=e.bottom,s=e.left):t=i=n=s=e,{top:t,right:i,bottom:n,left:s,disabled:e===!1}}function Gd(e,t){let i=[],n=e._getSortedDatasetMetas(t),s,o;for(s=0,o=n.length;s<o;++s)i.push(n[s].index);return i}function rd(e,t,i,n={}){let s=e.keys,o=n.mode==="single",r,a,l,c;if(t!==null){for(r=0,a=s.length;r<a;++r){if(l=+s[r],l===i){if(n.all)continue;break}c=e.values[l],Ot(c)&&(o||t===0||ke(t)===ke(c))&&(t+=c)}return t}}function iy(e){let t=Object.keys(e),i=new Array(t.length),n,s,o;for(n=0,s=t.length;n<s;++n)o=t[n],i[n]={x:o,y:e[o]};return i}function ad(e,t){let i=e&&e.options.stacked;return i||i===void 0&&t.stack!==void 0}function ny(e,t,i){return`${e.id}.${t.id}.${i.stack||i.type}`}function sy(e){let{min:t,max:i,minDefined:n,maxDefined:s}=e.getUserBounds();return{min:n?t:Number.NEGATIVE_INFINITY,max:s?i:Number.POSITIVE_INFINITY}}function oy(e,t,i){let n=e[t]||(e[t]={});return n[i]||(n[i]={})}function ld(e,t,i,n){for(let s of t.getMatchingVisibleMetas(n).reverse()){let o=e[s.index];if(i&&o>0||!i&&o<0)return s.index}return null}function cd(e,t){let{chart:i,_cachedMeta:n}=e,s=i._stacks||(i._stacks={}),{iScale:o,vScale:r,index:a}=n,l=o.axis,c=r.axis,h=ny(o,r,n),u=t.length,f;for(let m=0;m<u;++m){let d=t[m],{[l]:p,[c]:g}=d,y=d._stacks||(d._stacks={});f=y[c]=oy(s,h,p),f[a]=g,f._top=ld(f,r,!0,n.type),f._bottom=ld(f,r,!1,n.type)}}function Al(e,t){let i=e.scales;return Object.keys(i).filter(n=>i[n].axis===t).shift()}function ry(e,t){return li(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function ay(e,t,i){return li(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:i,index:t,mode:"default",type:"data"})}function Qs(e,t){let i=e.controller.index,n=e.vScale&&e.vScale.axis;if(!!n){t=t||e._parsed;for(let s of t){let o=s._stacks;if(!o||o[n]===void 0||o[n][i]===void 0)return;delete o[n][i]}}}var Il=e=>e==="reset"||e==="none",hd=(e,t)=>t?e:Object.assign({},e),ly=(e,t,i)=>e&&!t.hidden&&t._stacked&&{keys:Gd(i,!0),values:null},ae=class{constructor(t,i){this.chart=t,this._ctx=t.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){let t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ad(t.vScale,t),this.addElements()}updateIndex(t){this.index!==t&&Qs(this._cachedMeta),this.index=t}linkScales(){let t=this.chart,i=this._cachedMeta,n=this.getDataset(),s=(u,f,m,d)=>u==="x"?f:u==="r"?d:m,o=i.xAxisID=H(n.xAxisID,Al(t,"x")),r=i.yAxisID=H(n.yAxisID,Al(t,"y")),a=i.rAxisID=H(n.rAxisID,Al(t,"r")),l=i.indexAxis,c=i.iAxisID=s(l,o,r,a),h=i.vAxisID=s(l,r,o,a);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(r),i.rScale=this.getScaleForId(a),i.iScale=this.getScaleForId(c),i.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){let i=this._cachedMeta;return t===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let t=this._cachedMeta;this._data&&cl(this._data,this),t._stacked&&Qs(t)}_dataCheck(){let t=this.getDataset(),i=t.data||(t.data=[]),n=this._data;if(Y(i))this._data=iy(i);else if(n!==i){if(n){cl(n,this);let s=this._cachedMeta;Qs(s),s._parsed=[]}i&&Object.isExtensible(i)&&Ru(i,this),this._syncList=[],this._data=i}}addElements(){let t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){let i=this._cachedMeta,n=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=ad(i.vScale,i),i.stack!==n.stack&&(s=!0,Qs(i),i.stack=n.stack),this._resyncElements(t),(s||o!==i._stacked)&&cd(this,i._parsed)}configure(){let t=this.chart.config,i=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),i,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,i){let{_cachedMeta:n,_data:s}=this,{iScale:o,_stacked:r}=n,a=o.axis,l=t===0&&i===s.length?!0:n._sorted,c=t>0&&n._parsed[t-1],h,u,f;if(this._parsing===!1)n._parsed=s,n._sorted=!0,f=s;else{dt(s[t])?f=this.parseArrayData(n,s,t,i):Y(s[t])?f=this.parseObjectData(n,s,t,i):f=this.parsePrimitiveData(n,s,t,i);let m=()=>u[a]===null||c&&u[a]<c[a];for(h=0;h<i;++h)n._parsed[h+t]=u=f[h],l&&(m()&&(l=!1),c=u);n._sorted=l}r&&cd(this,f)}parsePrimitiveData(t,i,n,s){let{iScale:o,vScale:r}=t,a=o.axis,l=r.axis,c=o.getLabels(),h=o===r,u=new Array(s),f,m,d;for(f=0,m=s;f<m;++f)d=f+n,u[f]={[a]:h||o.parse(c[d],d),[l]:r.parse(i[d],d)};return u}parseArrayData(t,i,n,s){let{xScale:o,yScale:r}=t,a=new Array(s),l,c,h,u;for(l=0,c=s;l<c;++l)h=l+n,u=i[h],a[l]={x:o.parse(u[0],h),y:r.parse(u[1],h)};return a}parseObjectData(t,i,n,s){let{xScale:o,yScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(s),h,u,f,m;for(h=0,u=s;h<u;++h)f=h+n,m=i[f],c[h]={x:o.parse(ai(m,a),f),y:r.parse(ai(m,l),f)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,i,n){let s=this.chart,o=this._cachedMeta,r=i[t.axis],a={keys:Gd(s,!0),values:i._stacks[t.axis]};return rd(a,r,o.index,{mode:n})}updateRangeFromParsed(t,i,n,s){let o=n[i.axis],r=o===null?NaN:o,a=s&&n._stacks[i.axis];s&&a&&(s.values=a,r=rd(s,o,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}getMinMax(t,i){let n=this._cachedMeta,s=n._parsed,o=n._sorted&&t===n.iScale,r=s.length,a=this._getOtherScale(t),l=ly(i,n,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:u}=sy(a),f,m;function d(){m=s[f];let p=m[a.axis];return!Ot(m[t.axis])||h>p||u<p}for(f=0;f<r&&!(!d()&&(this.updateRangeFromParsed(c,t,m,l),o));++f);if(o){for(f=r-1;f>=0;--f)if(!d()){this.updateRangeFromParsed(c,t,m,l);break}}return c}getAllParsedValues(t){let i=this._cachedMeta._parsed,n=[],s,o,r;for(s=0,o=i.length;s<o;++s)r=i[s][t.axis],Ot(r)&&n.push(r);return n}getMaxOverflow(){return!1}getLabelAndValue(t){let i=this._cachedMeta,n=i.iScale,s=i.vScale,o=this.getParsed(t);return{label:n?""+n.getLabelForValue(o[n.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(t){let i=this._cachedMeta;this.update(t||"default"),i._clip=ey(H(this.options.clip,ty(i.xScale,i.yScale,this.getMaxOverflow())))}update(t){}draw(){let t=this._ctx,i=this.chart,n=this._cachedMeta,s=n.data||[],o=i.chartArea,r=[],a=this._drawStart||0,l=this._drawCount||s.length-a,c=this.options.drawActiveElementsOnTop,h;for(n.dataset&&n.dataset.draw(t,o,a,l),h=a;h<a+l;++h){let u=s[h];u.hidden||(u.active&&c?r.push(u):u.draw(t,o))}for(h=0;h<r.length;++h)r[h].draw(t,o)}getStyle(t,i){let n=i?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,i,n){let s=this.getDataset(),o;if(t>=0&&t<this._cachedMeta.data.length){let r=this._cachedMeta.data[t];o=r.$context||(r.$context=ay(this.getContext(),t,r)),o.parsed=this.getParsed(t),o.raw=s.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=ry(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=n,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,i){return this._resolveElementOptions(this.dataElementType.id,i,t)}_resolveElementOptions(t,i="default",n){let s=i==="active",o=this._cachedDataOpts,r=t+"-"+i,a=o[r],l=this.enableOptionSharing&&se(n);if(a)return hd(a,l);let c=this.chart.config,h=c.datasetElementScopeKeys(this._type,t),u=s?[`${t}Hover`,"hover",t,""]:[t,""],f=c.getOptionScopes(this.getDataset(),h),m=Object.keys(q.elements[t]),d=()=>this.getContext(n,s),p=c.resolveNamedOptions(f,m,d,u);return p.$shared&&(p.$shared=l,o[r]=Object.freeze(hd(p,l))),p}_resolveAnimations(t,i,n){let s=this.chart,o=this._cachedDataOpts,r=`animation-${i}`,a=o[r];if(a)return a;let l;if(s.options.animation!==!1){let h=this.chart.config,u=h.datasetAnimationScopeKeys(this._type,i),f=h.getOptionScopes(this.getDataset(),u);l=h.createResolver(f,this.getContext(t,n,i))}let c=new wr(s,l&&l.animations);return l&&l._cacheable&&(o[r]=Object.freeze(c)),c}getSharedOptions(t){if(!!t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,i){return!i||Il(t)||this.chart._animationsDisabled}_getSharedOptions(t,i){let n=this.resolveDataElementOptions(t,i),s=this._sharedOptions,o=this.getSharedOptions(n),r=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,n),{sharedOptions:o,includeOptions:r}}updateElement(t,i,n,s){Il(s)?Object.assign(t,n):this._resolveAnimations(i,s).update(t,n)}updateSharedOptions(t,i,n){t&&!Il(i)&&this._resolveAnimations(void 0,i).update(t,n)}_setStyle(t,i,n,s){t.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,n,s).update(t,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(t,i,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,i,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){let t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){let i=this._data,n=this._cachedMeta.data;for(let[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];let s=n.length,o=i.length,r=Math.min(o,s);r&&this.parse(0,r),o>s?this._insertElements(s,o-s,t):o<s&&this._removeElements(o,s-o)}_insertElements(t,i,n=!0){let s=this._cachedMeta,o=s.data,r=t+i,a,l=c=>{for(c.length+=i,a=c.length-1;a>=r;a--)c[a]=c[a-i]};for(l(o),a=t;a<r;++a)o[a]=new this.dataElementType;this._parsing&&l(s._parsed),this.parse(t,i),n&&this.updateElements(o,t,i,"reset")}updateElements(t,i,n,s){}_removeElements(t,i){let n=this._cachedMeta;if(this._parsing){let s=n._parsed.splice(t,i);n._stacked&&Qs(n,s)}n.data.splice(t,i)}_sync(t){if(this._parsing)this._syncList.push(t);else{let[i,n,s]=t;this[i](n,s)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){let t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,i){i&&this._sync(["_removeElements",t,i]);let n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}};ae.defaults={};ae.prototype.datasetElementType=null;ae.prototype.dataElementType=null;function cy(e,t){if(!e._cache.$bar){let i=e.getMatchingVisibleMetas(t),n=[];for(let s=0,o=i.length;s<o;s++)n=n.concat(i[s].controller.getAllParsedValues(e));e._cache.$bar=hl(n.sort((s,o)=>s-o))}return e._cache.$bar}function hy(e){let t=e.iScale,i=cy(t,e.type),n=t._length,s,o,r,a,l=()=>{r===32767||r===-32768||(se(a)&&(n=Math.min(n,Math.abs(r-a)||n)),a=r)};for(s=0,o=i.length;s<o;++s)r=t.getPixelForValue(i[s]),l();for(a=void 0,s=0,o=t.ticks.length;s<o;++s)r=t.getPixelForTick(s),l();return n}function uy(e,t,i,n){let s=i.barThickness,o,r;return K(s)?(o=t.min*i.categoryPercentage,r=i.barPercentage):(o=s*n,r=1),{chunk:o/n,ratio:r,start:t.pixels[e]-o/2}}function dy(e,t,i,n){let s=t.pixels,o=s[e],r=e>0?s[e-1]:null,a=e<s.length-1?s[e+1]:null,l=i.categoryPercentage;r===null&&(r=o-(a===null?t.end-t.start:a-o)),a===null&&(a=o+o-r);let c=o-(o-Math.min(r,a))/2*l;return{chunk:Math.abs(a-r)/2*l/n,ratio:i.barPercentage,start:c}}function fy(e,t,i,n){let s=i.parse(e[0],n),o=i.parse(e[1],n),r=Math.min(s,o),a=Math.max(s,o),l=r,c=a;Math.abs(r)>Math.abs(a)&&(l=a,c=r),t[i.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:o,min:r,max:a}}function Xd(e,t,i,n){return dt(e)?fy(e,t,i,n):t[i.axis]=i.parse(e,n),t}function ud(e,t,i,n){let s=e.iScale,o=e.vScale,r=s.getLabels(),a=s===o,l=[],c,h,u,f;for(c=i,h=i+n;c<h;++c)f=t[c],u={},u[s.axis]=a||s.parse(r[c],c),l.push(Xd(f,u,o,c));return l}function Rl(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function my(e,t,i){return e!==0?ke(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1)}function py(e){let t,i,n,s,o;return e.horizontal?(t=e.base>e.x,i="left",n="right"):(t=e.base<e.y,i="bottom",n="top"),t?(s="end",o="start"):(s="start",o="end"),{start:i,end:n,reverse:t,top:s,bottom:o}}function gy(e,t,i,n){let s=t.borderSkipped,o={};if(!s){e.borderSkipped=o;return}if(s===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:r,end:a,reverse:l,top:c,bottom:h}=py(e);s==="middle"&&i&&(e.enableBorderRadius=!0,(i._top||0)===n?s=c:(i._bottom||0)===n?s=h:(o[dd(h,r,a,l)]=!0,s=c)),o[dd(s,r,a,l)]=!0,e.borderSkipped=o}function dd(e,t,i,n){return n?(e=_y(e,t,i),e=fd(e,i,t)):e=fd(e,t,i),e}function _y(e,t,i){return e===t?i:e===i?t:e}function fd(e,t,i){return e==="start"?t:e==="end"?i:e}function yy(e,{inflateAmount:t},i){e.inflateAmount=t==="auto"?i===1?.33:0:t}var $n=class extends ae{parsePrimitiveData(t,i,n,s){return ud(t,i,n,s)}parseArrayData(t,i,n,s){return ud(t,i,n,s)}parseObjectData(t,i,n,s){let{iScale:o,vScale:r}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=o.axis==="x"?a:l,h=r.axis==="x"?a:l,u=[],f,m,d,p;for(f=n,m=n+s;f<m;++f)p=i[f],d={},d[o.axis]=o.parse(ai(p,c),f),u.push(Xd(ai(p,h),d,r,f));return u}updateRangeFromParsed(t,i,n,s){super.updateRangeFromParsed(t,i,n,s);let o=n._custom;o&&i===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){let i=this._cachedMeta,{iScale:n,vScale:s}=i,o=this.getParsed(t),r=o._custom,a=Rl(r)?"["+r.start+", "+r.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+n.getLabelForValue(o[n.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();let t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,t)}updateElements(t,i,n,s){let o=s==="reset",{index:r,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),h=this._getRuler(),{sharedOptions:u,includeOptions:f}=this._getSharedOptions(i,s);for(let m=i;m<i+n;m++){let d=this.getParsed(m),p=o||K(d[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(m),g=this._calculateBarIndexPixels(m,h),y=(d._stacks||{})[a.axis],v={horizontal:c,base:p.base,enableBorderRadius:!y||Rl(d._custom)||r===y._top||r===y._bottom,x:c?p.head:g.center,y:c?g.center:p.head,height:c?g.size:Math.abs(p.size),width:c?Math.abs(p.size):g.size};f&&(v.options=u||this.resolveDataElementOptions(m,t[m].active?"active":s));let w=v.options||t[m].options;gy(v,w,y,r),yy(v,w,h.ratio),this.updateElement(t[m],m,v,s)}}_getStacks(t,i){let{iScale:n}=this._cachedMeta,s=n.getMatchingVisibleMetas(this._type).filter(l=>l.controller.options.grouped),o=n.options.stacked,r=[],a=l=>{let c=l.controller.getParsed(i),h=c&&c[l.vScale.axis];if(K(h)||isNaN(h))return!0};for(let l of s)if(!(i!==void 0&&a(l))&&((o===!1||r.indexOf(l.stack)===-1||o===void 0&&l.stack===void 0)&&r.push(l.stack),l.index===t))break;return r.length||r.push(void 0),r}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,i,n){let s=this._getStacks(t,n),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let t=this.options,i=this._cachedMeta,n=i.iScale,s=[],o,r;for(o=0,r=i.data.length;o<r;++o)s.push(n.getPixelForValue(this.getParsed(o)[n.axis],o));let a=t.barThickness;return{min:a||hy(i),pixels:s,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){let{_cachedMeta:{vScale:i,_stacked:n},options:{base:s,minBarLength:o}}=this,r=s||0,a=this.getParsed(t),l=a._custom,c=Rl(l),h=a[i.axis],u=0,f=n?this.applyStack(i,a,n):h,m,d;f!==h&&(u=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,h!==0&&ke(h)!==ke(l.barEnd)&&(u=0),u+=h);let p=!K(s)&&!c?s:u,g=i.getPixelForValue(p);if(this.chart.getDataVisibility(t)?m=i.getPixelForValue(u+f):m=g,d=m-g,Math.abs(d)<o){d=my(d,i,r)*o,h===r&&(g-=d/2);let y=i.getPixelForDecimal(0),v=i.getPixelForDecimal(1),w=Math.min(y,v),b=Math.max(y,v);g=Math.max(Math.min(g,b),w),m=g+d}if(g===i.getPixelForValue(r)){let y=ke(d)*i.getLineWidthForValue(r)/2;g+=y,d-=y}return{size:d,base:g,head:m,center:m+d/2}}_calculateBarIndexPixels(t,i){let n=i.scale,s=this.options,o=s.skipNull,r=H(s.maxBarThickness,1/0),a,l;if(i.grouped){let c=o?this._getStackCount(t):i.stackCount,h=s.barThickness==="flex"?dy(t,i,s,c):uy(t,i,s,c),u=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0);a=h.start+h.chunk*u+h.chunk/2,l=Math.min(r,h.chunk*h.ratio)}else a=n.getPixelForValue(this.getParsed(t)[n.axis],t),l=Math.min(r,i.min*i.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){let t=this._cachedMeta,i=t.vScale,n=t.data,s=n.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&n[o].draw(this._ctx)}};$n.id="bar";$n.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};$n.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var Un=class extends ae{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,i,n,s){let o=super.parsePrimitiveData(t,i,n,s);for(let r=0;r<o.length;r++)o[r]._custom=this.resolveDataElementOptions(r+n).radius;return o}parseArrayData(t,i,n,s){let o=super.parseArrayData(t,i,n,s);for(let r=0;r<o.length;r++){let a=i[n+r];o[r]._custom=H(a[2],this.resolveDataElementOptions(r+n).radius)}return o}parseObjectData(t,i,n,s){let o=super.parseObjectData(t,i,n,s);for(let r=0;r<o.length;r++){let a=i[n+r];o[r]._custom=H(a&&a.r&&+a.r,this.resolveDataElementOptions(r+n).radius)}return o}getMaxOverflow(){let t=this._cachedMeta.data,i=0;for(let n=t.length-1;n>=0;--n)i=Math.max(i,t[n].size(this.resolveDataElementOptions(n))/2);return i>0&&i}getLabelAndValue(t){let i=this._cachedMeta,{xScale:n,yScale:s}=i,o=this.getParsed(t),r=n.getLabelForValue(o.x),a=s.getLabelForValue(o.y),l=o._custom;return{label:i.label,value:"("+r+", "+a+(l?", "+l:"")+")"}}update(t){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,t)}updateElements(t,i,n,s){let o=s==="reset",{iScale:r,vScale:a}=this._cachedMeta,{sharedOptions:l,includeOptions:c}=this._getSharedOptions(i,s),h=r.axis,u=a.axis;for(let f=i;f<i+n;f++){let m=t[f],d=!o&&this.getParsed(f),p={},g=p[h]=o?r.getPixelForDecimal(.5):r.getPixelForValue(d[h]),y=p[u]=o?a.getBasePixel():a.getPixelForValue(d[u]);p.skip=isNaN(g)||isNaN(y),c&&(p.options=l||this.resolveDataElementOptions(f,m.active?"active":s),o&&(p.options.radius=0)),this.updateElement(m,f,p,s)}}resolveDataElementOptions(t,i){let n=this.getParsed(t),s=super.resolveDataElementOptions(t,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=H(n&&n._custom,o),s}};Un.id="bubble";Un.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};Un.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title(){return""}}}}};function vy(e,t,i){let n=1,s=1,o=0,r=0;if(t<rt){let a=e,l=a+t,c=Math.cos(a),h=Math.sin(a),u=Math.cos(l),f=Math.sin(l),m=(w,b,x)=>Bn(w,a,l,!0)?1:Math.max(b,b*i,x,x*i),d=(w,b,x)=>Bn(w,a,l,!0)?-1:Math.min(b,b*i,x,x*i),p=m(0,c,u),g=m(Mt,h,f),y=d(gt,c,u),v=d(gt+Mt,h,f);n=(p-y)/2,s=(g-v)/2,o=-(p+y)/2,r=-(g+v)/2}return{ratioX:n,ratioY:s,offsetX:o,offsetY:r}}var Ci=class extends ae{constructor(t,i){super(t,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,i){let n=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=n;else{let o=l=>+n[l];if(Y(n[t])){let{key:l="value"}=this._parsing;o=c=>+ai(n[c],l)}let r,a;for(r=t,a=t+i;r<a;++r)s._parsed[r]=o(r)}}_getRotation(){return ge(this.options.rotation-90)}_getCircumference(){return ge(this.options.circumference)}_getRotationExtents(){let t=rt,i=-rt;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)){let s=this.chart.getDatasetMeta(n).controller,o=s._getRotation(),r=s._getCircumference();t=Math.min(t,o),i=Math.max(i,o+r)}return{rotation:t,circumference:i-t}}update(t){let i=this.chart,{chartArea:n}=i,s=this._cachedMeta,o=s.data,r=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,a=Math.max((Math.min(n.width,n.height)-r)/2,0),l=Math.min(Eu(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:h,rotation:u}=this._getRotationExtents(),{ratioX:f,ratioY:m,offsetX:d,offsetY:p}=vy(u,h,l),g=(n.width-r)/f,y=(n.height-r)/m,v=Math.max(Math.min(g,y)/2,0),w=nl(this.options.radius,v),b=Math.max(w*l,0),x=(w-b)/this._getVisibleDatasetWeightTotal();this.offsetX=d*w,this.offsetY=p*w,s.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*c,0),this.updateElements(o,0,o.length,t)}_circumference(t,i){let n=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||s._parsed[t]===null||s.data[t].hidden?0:this.calculateCircumference(s._parsed[t]*o/rt)}updateElements(t,i,n,s){let o=s==="reset",r=this.chart,a=r.chartArea,c=r.options.animation,h=(a.left+a.right)/2,u=(a.top+a.bottom)/2,f=o&&c.animateScale,m=f?0:this.innerRadius,d=f?0:this.outerRadius,{sharedOptions:p,includeOptions:g}=this._getSharedOptions(i,s),y=this._getRotation(),v;for(v=0;v<i;++v)y+=this._circumference(v,o);for(v=i;v<i+n;++v){let w=this._circumference(v,o),b=t[v],x={x:h+this.offsetX,y:u+this.offsetY,startAngle:y,endAngle:y+w,circumference:w,outerRadius:d,innerRadius:m};g&&(x.options=p||this.resolveDataElementOptions(v,b.active?"active":s)),y+=w,this.updateElement(b,v,x,s)}}calculateTotal(){let t=this._cachedMeta,i=t.data,n=0,s;for(s=0;s<i.length;s++){let o=t._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(n+=Math.abs(o))}return n}calculateCircumference(t){let i=this._cachedMeta.total;return i>0&&!isNaN(t)?rt*(Math.abs(t)/i):0}getLabelAndValue(t){let i=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=Wn(i._parsed[t],n.options.locale);return{label:s[t]||"",value:o}}getMaxBorderWidth(t){let i=0,n=this.chart,s,o,r,a,l;if(!t){for(s=0,o=n.data.datasets.length;s<o;++s)if(n.isDatasetVisible(s)){r=n.getDatasetMeta(s),t=r.data,a=r.controller;break}}if(!t)return 0;for(s=0,o=t.length;s<o;++s)l=a.resolveDataElementOptions(s),l.borderAlign!=="inner"&&(i=Math.max(i,l.borderWidth||0,l.hoverBorderWidth||0));return i}getMaxOffset(t){let i=0;for(let n=0,s=t.length;n<s;++n){let o=this.resolveDataElementOptions(n);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(t){let i=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(i+=this._getRingWeight(n));return i}_getRingWeight(t){return Math.max(H(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}};Ci.id="doughnut";Ci.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};Ci.descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"};Ci.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((n,s)=>{let r=e.getDatasetMeta(0).controller.getStyle(s);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){let t=e.label,i=": "+e.formattedValue;return dt(t)?(t=t.slice(),t[0]+=i):t+=i,t}}}}};var jn=class extends ae{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){let i=this._cachedMeta,{dataset:n,data:s=[],_dataset:o}=i,r=this.chart._animationsDisabled,{start:a,count:l}=fl(i,s,r);this._drawStart=a,this._drawCount=l,ml(i)&&(a=0,l=s.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=s;let c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!r,options:c},t),this.updateElements(s,a,l,t)}updateElements(t,i,n,s){let o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:h,includeOptions:u}=this._getSharedOptions(i,s),f=r.axis,m=a.axis,{spanGaps:d,segment:p}=this.options,g=qi(d)?d:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||o||s==="none",v=i>0&&this.getParsed(i-1);for(let w=i;w<i+n;++w){let b=t[w],x=this.getParsed(w),E=y?b:{},S=K(x[m]),M=E[f]=r.getPixelForValue(x[f],w),k=E[m]=o||S?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,x,l):x[m],w);E.skip=isNaN(M)||isNaN(k)||S,E.stop=w>0&&Math.abs(x[f]-v[f])>g,p&&(E.parsed=x,E.raw=c.data[w]),u&&(E.options=h||this.resolveDataElementOptions(w,b.active?"active":s)),y||this.updateElement(b,w,E,s),v=x}}getMaxOverflow(){let t=this._cachedMeta,i=t.dataset,n=i.options&&i.options.borderWidth||0,s=t.data||[];if(!s.length)return n;let o=s[0].size(this.resolveDataElementOptions(0)),r=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(n,o,r)/2}draw(){let t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}};jn.id="line";jn.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};jn.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};var Yn=class extends ae{constructor(t,i){super(t,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){let i=this._cachedMeta,n=this.chart,s=n.data.labels||[],o=Wn(i._parsed[t].r,n.options.locale);return{label:s[t]||"",value:o}}parseObjectData(t,i,n,s){return Sl.bind(this)(t,i,n,s)}update(t){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,t)}getMinMax(){let t=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((n,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let t=this.chart,i=t.chartArea,n=t.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),r=Math.max(n.cutoutPercentage?o/100*n.cutoutPercentage:1,0),a=(o-r)/t.getVisibleDatasetCount();this.outerRadius=o-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(t,i,n,s){let o=s==="reset",r=this.chart,l=r.options.animation,c=this._cachedMeta.rScale,h=c.xCenter,u=c.yCenter,f=c.getIndexAngle(0)-.5*gt,m=f,d,p=360/this.countVisibleElements();for(d=0;d<i;++d)m+=this._computeAngle(d,s,p);for(d=i;d<i+n;d++){let g=t[d],y=m,v=m+this._computeAngle(d,s,p),w=r.getDataVisibility(d)?c.getDistanceFromCenterForValue(this.getParsed(d).r):0;m=v,o&&(l.animateScale&&(w=0),l.animateRotate&&(y=v=f));let b={x:h,y:u,innerRadius:0,outerRadius:w,startAngle:y,endAngle:v,options:this.resolveDataElementOptions(d,g.active?"active":s)};this.updateElement(g,d,b,s)}}countVisibleElements(){let t=this._cachedMeta,i=0;return t.data.forEach((n,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(t,i,n){return this.chart.getDataVisibility(t)?ge(this.resolveDataElementOptions(t,i).angle||n):0}};Yn.id="polarArea";Yn.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};Yn.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){let t=e.data;if(t.labels.length&&t.datasets.length){let{labels:{pointStyle:i}}=e.legend.options;return t.labels.map((n,s)=>{let r=e.getDatasetMeta(0).controller.getStyle(s);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,i){i.chart.toggleDataVisibility(t.index),i.chart.update()}},tooltip:{callbacks:{title(){return""},label(e){return e.chart.data.labels[e.dataIndex]+": "+e.formattedValue}}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};var ro=class extends Ci{};ro.id="pie";ro.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"};var qn=class extends ae{getLabelAndValue(t){let i=this._cachedMeta.vScale,n=this.getParsed(t);return{label:i.getLabels()[t],value:""+i.getLabelForValue(n[i.axis])}}parseObjectData(t,i,n,s){return Sl.bind(this)(t,i,n,s)}update(t){let i=this._cachedMeta,n=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(n.points=s,t!=="resize"){let r=this.resolveDatasetElementOptions(t);this.options.showLine||(r.borderWidth=0);let a={_loop:!0,_fullLoop:o.length===s.length,options:r};this.updateElement(n,void 0,a,t)}this.updateElements(s,0,s.length,t)}updateElements(t,i,n,s){let o=this._cachedMeta.rScale,r=s==="reset";for(let a=i;a<i+n;a++){let l=t[a],c=this.resolveDataElementOptions(a,l.active?"active":s),h=o.getPointPositionForValue(a,this.getParsed(a).r),u=r?o.xCenter:h.x,f=r?o.yCenter:h.y,m={x:u,y:f,angle:h.angle,skip:isNaN(u)||isNaN(f),options:c};this.updateElement(l,a,m,s)}}};qn.id="radar";qn.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};qn.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};var le=class{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(t){let{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}hasValue(){return qi(this.x)&&qi(this.y)}getProps(t,i){let n=this.$animations;if(!i||!n)return this;let s={};return t.forEach(o=>{s[o]=n[o]&&n[o].active()?n[o]._to:this[o]}),s}};le.defaults={};le.defaultRoutes=void 0;var Kd={values(e){return dt(e)?e:""+e},numeric(e,t,i){if(e===0)return"0";let n=this.chart.options.locale,s,o=e;if(i.length>1){let c=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value));(c<1e-4||c>1e15)&&(s="scientific"),o=by(e,i)}let r=re(Math.abs(o)),a=Math.max(Math.min(-1*Math.floor(r),20),0),l={notation:s,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Wn(e,n,l)},logarithmic(e,t,i){if(e===0)return"0";let n=e/Math.pow(10,Math.floor(re(e)));return n===1||n===2||n===5?Kd.numeric.call(this,e,t,i):""}};function by(e,t){let i=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(i)>=1&&e!==Math.floor(e)&&(i=e-Math.floor(e)),i}var Pr={formatters:Kd};q.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pr.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}});q.route("scale.ticks","color","","color");q.route("scale.grid","color","","borderColor");q.route("scale.grid","borderColor","","borderColor");q.route("scale.title","color","","color");q.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"});q.describe("scales",{_fallback:"scale"});q.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"});function xy(e,t){let i=e.options.ticks,n=i.maxTicksLimit||wy(e),s=i.major.enabled?My(t):[],o=s.length,r=s[0],a=s[o-1],l=[];if(o>n)return Sy(t,l,s,o/n),l;let c=Ty(s,t,n);if(o>0){let h,u,f=o>1?Math.round((a-r)/(o-1)):null;for(pr(t,l,c,K(f)?0:r-f,r),h=0,u=o-1;h<u;h++)pr(t,l,c,s[h],s[h+1]);return pr(t,l,c,a,K(f)?t.length:a+f),l}return pr(t,l,c),l}function wy(e){let t=e.options.offset,i=e._tickSize(),n=e._length/i+(t?0:1),s=e._maxLength/i;return Math.floor(Math.min(n,s))}function Ty(e,t,i){let n=Ey(e),s=t.length/i;if(!n)return Math.max(s,1);let o=ku(n);for(let r=0,a=o.length-1;r<a;r++){let l=o[r];if(l>s)return l}return Math.max(s,1)}function My(e){let t=[],i,n;for(i=0,n=e.length;i<n;i++)e[i].major&&t.push(i);return t}function Sy(e,t,i,n){let s=0,o=i[0],r;for(n=Math.ceil(n),r=0;r<e.length;r++)r===o&&(t.push(e[r]),s++,o=i[s*n])}function pr(e,t,i,n,s){let o=H(n,0),r=Math.min(H(s,e.length),e.length),a=0,l,c,h;for(i=Math.ceil(i),s&&(l=s-n,i=l/Math.floor(l/i)),h=o;h<0;)a++,h=Math.round(o+a*i);for(c=Math.max(o,0);c<r;c++)c===h&&(t.push(e[c]),a++,h=Math.round(o+a*i))}function Ey(e){let t=e.length,i,n;if(t<2)return!1;for(n=e[0],i=1;i<t;++i)if(e[i]-e[i-1]!==n)return!1;return n}var Ly=e=>e==="left"?"right":e==="right"?"left":e,md=(e,t,i)=>t==="top"||t==="left"?e[t]+i:e[t]-i;function pd(e,t){let i=[],n=e.length/t,s=e.length,o=0;for(;o<s;o+=n)i.push(e[Math.floor(o)]);return i}function Py(e,t,i){let n=e.ticks.length,s=Math.min(t,n-1),o=e._startPixel,r=e._endPixel,a=1e-6,l=e.getPixelForTick(s),c;if(!(i&&(n===1?c=Math.max(l-o,r-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(s-1))/2,l+=s<t?c:-c,l<o-a||l>r+a)))return l}function ky(e,t){st(e,i=>{let n=i.gc,s=n.length/2,o;if(s>t){for(o=0;o<s;++o)delete i.data[n[o]];n.splice(0,s)}})}function to(e){return e.drawTicks?e.tickLength:0}function gd(e,t){if(!e.display)return 0;let i=It(e.font,t),n=$t(e.padding);return(dt(e.text)?e.text.length:1)*i.lineHeight+n.height}function Oy(e,t){return li(e,{scale:t,type:"scale"})}function Cy(e,t,i){return li(e,{tick:i,index:t,type:"tick"})}function Dy(e,t,i){let n=lr(e);return(i&&t!=="right"||!i&&t==="right")&&(n=Ly(n)),n}function Ay(e,t,i,n){let{top:s,left:o,bottom:r,right:a,chart:l}=e,{chartArea:c,scales:h}=l,u=0,f,m,d,p=r-s,g=a-o;if(e.isHorizontal()){if(m=Vt(n,o,a),Y(i)){let y=Object.keys(i)[0],v=i[y];d=h[y].getPixelForValue(v)+p-t}else i==="center"?d=(c.bottom+c.top)/2+p-t:d=md(e,i,t);f=a-o}else{if(Y(i)){let y=Object.keys(i)[0],v=i[y];m=h[y].getPixelForValue(v)-g+t}else i==="center"?m=(c.left+c.right)/2-g+t:m=md(e,i,t);d=Vt(n,r,s),u=i==="left"?-Mt:Mt}return{titleX:m,titleY:d,maxWidth:f,rotation:u}}var ui=class extends le{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,i){return t}getUserBounds(){let{_userMin:t,_userMax:i,_suggestedMin:n,_suggestedMax:s}=this;return t=oe(t,Number.POSITIVE_INFINITY),i=oe(i,Number.NEGATIVE_INFINITY),n=oe(n,Number.POSITIVE_INFINITY),s=oe(s,Number.NEGATIVE_INFINITY),{min:oe(t,n),max:oe(i,s),minDefined:Ot(t),maxDefined:Ot(i)}}getMinMax(t){let{min:i,max:n,minDefined:s,maxDefined:o}=this.getUserBounds(),r;if(s&&o)return{min:i,max:n};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)r=a[l].controller.getMinMax(this,t),s||(i=Math.min(i,r.min)),o||(n=Math.max(n,r.max));return i=o&&i>n?n:i,n=s&&i>n?i:n,{min:oe(i,oe(n,i)),max:oe(n,oe(i,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ft(this.options.beforeUpdate,[this])}update(t,i,n){let{beginAtZero:s,grace:o,ticks:r}=this.options,a=r.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=i,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=ju(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?pd(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),r.display&&(r.autoSkip||r.source==="auto")&&(this.ticks=xy(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,i,n;this.isHorizontal()?(i=this.left,n=this.right):(i=this.top,n=this.bottom,t=!t),this._startPixel=i,this._endPixel=n,this._reversePixels=t,this._length=n-i,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ft(this.options.afterUpdate,[this])}beforeSetDimensions(){ft(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ft(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ft(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ft(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){let i=this.options.ticks,n,s,o;for(n=0,s=t.length;n<s;n++)o=t[n],o.label=ft(i.callback,[o.value,n,t],this)}afterTickToLabelConversion(){ft(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ft(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let t=this.options,i=t.ticks,n=this.ticks.length,s=i.minRotation||0,o=i.maxRotation,r=s,a,l,c;if(!this._isVisible()||!i.display||s>=o||n<=1||!this.isHorizontal()){this.labelRotation=s;return}let h=this._getLabelSizes(),u=h.widest.width,f=h.highest.height,m=Bt(this.chart.width-u,0,this.maxWidth);a=t.offset?this.maxWidth/n:m/(n-1),u+6>a&&(a=m/(n-(t.offset?.5:1)),l=this.maxHeight-to(t.grid)-i.padding-gd(t.title,this.chart.options.font),c=Math.sqrt(u*u+f*f),r=rr(Math.min(Math.asin(Bt((h.highest.height+6)/a,-1,1)),Math.asin(Bt(l/c,-1,1))-Math.asin(Bt(f/c,-1,1)))),r=Math.max(s,Math.min(o,r))),this.labelRotation=r}afterCalculateLabelRotation(){ft(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ft(this.options.beforeFit,[this])}fit(){let t={width:0,height:0},{chart:i,options:{ticks:n,title:s,grid:o}}=this,r=this._isVisible(),a=this.isHorizontal();if(r){let l=gd(s,i.options.font);if(a?(t.width=this.maxWidth,t.height=to(o)+l):(t.height=this.maxHeight,t.width=to(o)+l),n.display&&this.ticks.length){let{first:c,last:h,widest:u,highest:f}=this._getLabelSizes(),m=n.padding*2,d=ge(this.labelRotation),p=Math.cos(d),g=Math.sin(d);if(a){let y=n.mirror?0:g*u.width+p*f.height;t.height=Math.min(this.maxHeight,t.height+y+m)}else{let y=n.mirror?0:p*u.width+g*f.height;t.width=Math.min(this.maxWidth,t.width+y+m)}this._calculatePadding(c,h,g,p)}}this._handleMargins(),a?(this.width=this._length=i.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=i.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,i,n,s){let{ticks:{align:o,padding:r},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let h=this.getPixelForTick(0)-this.left,u=this.right-this.getPixelForTick(this.ticks.length-1),f=0,m=0;l?c?(f=s*t.width,m=n*i.height):(f=n*t.height,m=s*i.width):o==="start"?m=i.width:o==="end"?f=t.width:o!=="inner"&&(f=t.width/2,m=i.width/2),this.paddingLeft=Math.max((f-h+r)*this.width/(this.width-h),0),this.paddingRight=Math.max((m-u+r)*this.width/(this.width-u),0)}else{let h=i.height/2,u=t.height/2;o==="start"?(h=0,u=t.height):o==="end"&&(h=i.height,u=0),this.paddingTop=h+r,this.paddingBottom=u+r}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ft(this.options.afterFit,[this])}isHorizontal(){let{axis:t,position:i}=this.options;return i==="top"||i==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let i,n;for(i=0,n=t.length;i<n;i++)K(t[i].label)&&(t.splice(i,1),n--,i--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){let i=this.options.ticks.sampleSize,n=this.ticks;i<n.length&&(n=pd(n,i)),this._labelSizes=t=this._computeLabelSizes(n,n.length)}return t}_computeLabelSizes(t,i){let{ctx:n,_longestTextCache:s}=this,o=[],r=[],a=0,l=0,c,h,u,f,m,d,p,g,y,v,w;for(c=0;c<i;++c){if(f=t[c].label,m=this._resolveTickFontOptions(c),n.font=d=m.string,p=s[d]=s[d]||{data:{},gc:[]},g=m.lineHeight,y=v=0,!K(f)&&!dt(f))y=qs(n,p.data,p.gc,y,f),v=g;else if(dt(f))for(h=0,u=f.length;h<u;++h)w=f[h],!K(w)&&!dt(w)&&(y=qs(n,p.data,p.gc,y,w),v+=g);o.push(y),r.push(v),a=Math.max(y,a),l=Math.max(v,l)}ky(s,i);let b=o.indexOf(a),x=r.indexOf(l),E=S=>({width:o[S]||0,height:r[S]||0});return{first:E(0),last:E(i-1),widest:E(b),highest:E(x),widths:o,heights:r}}getLabelForValue(t){return t}getPixelForValue(t,i){return NaN}getValueForPixel(t){}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);let i=this._startPixel+t*this._length;return Cu(this._alignToPixels?Si(this.chart,i,0):i)}getDecimalForPixel(t){let i=(t-this._startPixel)/this._length;return this._reversePixels?1-i:i}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:t,max:i}=this;return t<0&&i<0?i:t>0&&i>0?t:0}getContext(t){let i=this.ticks||[];if(t>=0&&t<i.length){let n=i[t];return n.$context||(n.$context=Cy(this.getContext(),t,n))}return this.$context||(this.$context=Oy(this.chart.getContext(),this))}_tickSize(){let t=this.options.ticks,i=ge(this.labelRotation),n=Math.abs(Math.cos(i)),s=Math.abs(Math.sin(i)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,l=o?o.highest.height+r:0;return this.isHorizontal()?l*n>a*s?a/n:l/s:l*s<a*n?l/n:a/s}_isVisible(){let t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){let i=this.axis,n=this.chart,s=this.options,{grid:o,position:r}=s,a=o.offset,l=this.isHorizontal(),h=this.ticks.length+(a?1:0),u=to(o),f=[],m=o.setContext(this.getContext()),d=m.drawBorder?m.borderWidth:0,p=d/2,g=function(z){return Si(n,z,d)},y,v,w,b,x,E,S,M,k,j,X,Z;if(r==="top")y=g(this.bottom),E=this.bottom-u,M=y-p,j=g(t.top)+p,Z=t.bottom;else if(r==="bottom")y=g(this.top),j=t.top,Z=g(t.bottom)-p,E=y+p,M=this.top+u;else if(r==="left")y=g(this.right),x=this.right-u,S=y-p,k=g(t.left)+p,X=t.right;else if(r==="right")y=g(this.left),k=t.left,X=g(t.right)-p,x=y+p,S=this.left+u;else if(i==="x"){if(r==="center")y=g((t.top+t.bottom)/2+.5);else if(Y(r)){let z=Object.keys(r)[0],kt=r[z];y=g(this.chart.scales[z].getPixelForValue(kt))}j=t.top,Z=t.bottom,E=y+p,M=E+u}else if(i==="y"){if(r==="center")y=g((t.left+t.right)/2);else if(Y(r)){let z=Object.keys(r)[0],kt=r[z];y=g(this.chart.scales[z].getPixelForValue(kt))}x=y-p,S=x-u,k=t.left,X=t.right}let ht=H(s.ticks.maxTicksLimit,h),At=Math.max(1,Math.ceil(h/ht));for(v=0;v<h;v+=At){let z=o.setContext(this.getContext(v)),kt=z.lineWidth,_t=z.color,he=z.borderDash||[],D=z.borderDashOffset,R=z.tickWidth,F=z.tickColor,ot=z.tickBorderDash||[],Q=z.tickBorderDashOffset;w=Py(this,v,a),w!==void 0&&(b=Si(n,w,kt),l?x=S=k=X=b:E=M=j=Z=b,f.push({tx1:x,ty1:E,tx2:S,ty2:M,x1:k,y1:j,x2:X,y2:Z,width:kt,color:_t,borderDash:he,borderDashOffset:D,tickWidth:R,tickColor:F,tickBorderDash:ot,tickBorderDashOffset:Q}))}return this._ticksLength=h,this._borderValue=y,f}_computeLabelItems(t){let i=this.axis,n=this.options,{position:s,ticks:o}=n,r=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:h,mirror:u}=o,f=to(n.grid),m=f+h,d=u?-h:m,p=-ge(this.labelRotation),g=[],y,v,w,b,x,E,S,M,k,j,X,Z,ht="middle";if(s==="top")E=this.bottom-d,S=this._getXAxisLabelAlignment();else if(s==="bottom")E=this.top+d,S=this._getXAxisLabelAlignment();else if(s==="left"){let z=this._getYAxisLabelAlignment(f);S=z.textAlign,x=z.x}else if(s==="right"){let z=this._getYAxisLabelAlignment(f);S=z.textAlign,x=z.x}else if(i==="x"){if(s==="center")E=(t.top+t.bottom)/2+m;else if(Y(s)){let z=Object.keys(s)[0],kt=s[z];E=this.chart.scales[z].getPixelForValue(kt)+m}S=this._getXAxisLabelAlignment()}else if(i==="y"){if(s==="center")x=(t.left+t.right)/2-m;else if(Y(s)){let z=Object.keys(s)[0],kt=s[z];x=this.chart.scales[z].getPixelForValue(kt)}S=this._getYAxisLabelAlignment(f).textAlign}i==="y"&&(l==="start"?ht="top":l==="end"&&(ht="bottom"));let At=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){w=a[y],b=w.label;let z=o.setContext(this.getContext(y));M=this.getPixelForTick(y)+o.labelOffset,k=this._resolveTickFontOptions(y),j=k.lineHeight,X=dt(b)?b.length:1;let kt=X/2,_t=z.color,he=z.textStrokeColor,D=z.textStrokeWidth,R=S;r?(x=M,S==="inner"&&(y===v-1?R=this.options.reverse?"left":"right":y===0?R=this.options.reverse?"right":"left":R="center"),s==="top"?c==="near"||p!==0?Z=-X*j+j/2:c==="center"?Z=-At.highest.height/2-kt*j+j:Z=-At.highest.height+j/2:c==="near"||p!==0?Z=j/2:c==="center"?Z=At.highest.height/2-kt*j:Z=At.highest.height-X*j,u&&(Z*=-1)):(E=M,Z=(1-X)*j/2);let F;if(z.showLabelBackdrop){let ot=$t(z.backdropPadding),Q=At.heights[y],bt=At.widths[y],at=E+Z-ot.top,xt=x-ot.left;switch(ht){case"middle":at-=Q/2;break;case"bottom":at-=Q;break}switch(S){case"center":xt-=bt/2;break;case"right":xt-=bt;break}F={left:xt,top:at,width:bt+ot.width,height:Q+ot.height,color:z.backdropColor}}g.push({rotation:p,label:b,font:k,color:_t,strokeColor:he,strokeWidth:D,textOffset:Z,textAlign:R,textBaseline:ht,translation:[x,E],backdrop:F})}return g}_getXAxisLabelAlignment(){let{position:t,ticks:i}=this.options;if(-ge(this.labelRotation))return t==="top"?"left":"right";let s="center";return i.align==="start"?s="left":i.align==="end"?s="right":i.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(t){let{position:i,ticks:{crossAlign:n,mirror:s,padding:o}}=this.options,r=this._getLabelSizes(),a=t+o,l=r.widest.width,c,h;return i==="left"?s?(h=this.right+o,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h+=l)):(h=this.right-a,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h=this.left)):i==="right"?s?(h=this.left+o,n==="near"?c="right":n==="center"?(c="center",h-=l/2):(c="left",h-=l)):(h=this.left+a,n==="near"?c="left":n==="center"?(c="center",h+=l/2):(c="right",h=this.right)):c="right",{textAlign:c,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;let t=this.chart,i=this.options.position;if(i==="left"||i==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(i==="top"||i==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){let{ctx:t,options:{backgroundColor:i},left:n,top:s,width:o,height:r}=this;i&&(t.save(),t.fillStyle=i,t.fillRect(n,s,o,r),t.restore())}getLineWidthForValue(t){let i=this.options.grid;if(!this._isVisible()||!i.display)return 0;let s=this.ticks.findIndex(o=>o.value===t);return s>=0?i.setContext(this.getContext(s)).lineWidth:0}drawGrid(t){let i=this.options.grid,n=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o,r,a=(l,c,h)=>{!h.width||!h.color||(n.save(),n.lineWidth=h.width,n.strokeStyle=h.color,n.setLineDash(h.borderDash||[]),n.lineDashOffset=h.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(c.x,c.y),n.stroke(),n.restore())};if(i.display)for(o=0,r=s.length;o<r;++o){let l=s[o];i.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),i.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:t,ctx:i,options:{grid:n}}=this,s=n.setContext(this.getContext()),o=n.drawBorder?s.borderWidth:0;if(!o)return;let r=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue,l,c,h,u;this.isHorizontal()?(l=Si(t,this.left,o)-o/2,c=Si(t,this.right,r)+r/2,h=u=a):(h=Si(t,this.top,o)-o/2,u=Si(t,this.bottom,r)+r/2,l=c=a),i.save(),i.lineWidth=s.borderWidth,i.strokeStyle=s.borderColor,i.beginPath(),i.moveTo(l,h),i.lineTo(c,u),i.stroke(),i.restore()}drawLabels(t){if(!this.options.ticks.display)return;let n=this.ctx,s=this._computeLabelArea();s&&Ks(n,s);let o=this._labelItems||(this._labelItems=this._computeLabelItems(t)),r,a;for(r=0,a=o.length;r<a;++r){let l=o[r],c=l.font,h=l.label;l.backdrop&&(n.fillStyle=l.backdrop.color,n.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height));let u=l.textOffset;Ei(n,h,0,u,c,l)}s&&Js(n)}drawTitle(){let{ctx:t,options:{position:i,title:n,reverse:s}}=this;if(!n.display)return;let o=It(n.font),r=$t(n.padding),a=n.align,l=o.lineHeight/2;i==="bottom"||i==="center"||Y(i)?(l+=r.bottom,dt(n.text)&&(l+=o.lineHeight*(n.text.length-1))):l+=r.top;let{titleX:c,titleY:h,maxWidth:u,rotation:f}=Ay(this,l,i,a);Ei(t,n.text,0,0,o,{color:n.color,maxWidth:u,rotation:f,textAlign:Dy(a,i,s),textBaseline:"middle",translation:[c,h]})}draw(t){!this._isVisible()||(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){let t=this.options,i=t.ticks&&t.ticks.z||0,n=H(t.grid&&t.grid.z,-1);return!this._isVisible()||this.draw!==ui.prototype.draw?[{z:i,draw:s=>{this.draw(s)}}]:[{z:n,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:i,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){let i=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",s=[],o,r;for(o=0,r=i.length;o<r;++o){let a=i[o];a[n]===this.id&&(!t||a.type===t)&&s.push(a)}return s}_resolveTickFontOptions(t){let i=this.options.ticks.setContext(this.getContext(t));return It(i.font)}_maxDigits(){let t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}},Vn=class{constructor(t,i,n){this.type=t,this.scope=i,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){let i=Object.getPrototypeOf(t),n;Fy(i)&&(n=this.register(i));let s=this.items,o=t.id,r=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in s||(s[o]=t,Iy(t,r,n),this.override&&q.override(t.id,t.overrides)),r}get(t){return this.items[t]}unregister(t){let i=this.items,n=t.id,s=this.scope;n in i&&delete i[n],s&&n in q[s]&&(delete q[s][n],this.override&&delete Mi[n])}};function Iy(e,t,i){let n=Dn(Object.create(null),[i?q.get(i):{},q.get(t),e.defaults]);q.set(t,n),e.defaultRoutes&&Ry(t,e.defaultRoutes),e.descriptors&&q.describe(t,e.descriptors)}function Ry(e,t){Object.keys(t).forEach(i=>{let n=i.split("."),s=n.pop(),o=[e].concat(n).join("."),r=t[i].split("."),a=r.pop(),l=r.join(".");q.route(o,s,l,a)})}function Fy(e){return"id"in e&&"defaults"in e}var $l=class{constructor(){this.controllers=new Vn(ae,"datasets",!0),this.elements=new Vn(le,"elements"),this.plugins=new Vn(Object,"plugins"),this.scales=new Vn(ui,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,i,n){[...i].forEach(s=>{let o=n||this._getRegistryForType(s);n||o.isForType(s)||o===this.plugins&&s.id?this._exec(t,o,s):st(s,r=>{let a=n||this._getRegistryForType(r);this._exec(t,a,r)})})}_exec(t,i,n){let s=or(t);ft(n["before"+s],[],n),i[t](n),ft(n["after"+s],[],n)}_getRegistryForType(t){for(let i=0;i<this._typedRegistries.length;i++){let n=this._typedRegistries[i];if(n.isForType(t))return n}return this.plugins}_get(t,i,n){let s=i.get(t);if(s===void 0)throw new Error('"'+t+'" is not a registered '+n+".");return s}},Ue=new $l,Gn=class extends ae{update(t){let i=this._cachedMeta,{data:n=[]}=i,s=this.chart._animationsDisabled,{start:o,count:r}=fl(i,n,s);if(this._drawStart=o,this._drawCount=r,ml(i)&&(o=0,r=n.length),this.options.showLine){let{dataset:a,_dataset:l}=i;a._chart=this.chart,a._datasetIndex=this.index,a._decimated=!!l._decimated,a.points=n;let c=this.resolveDatasetElementOptions(t);c.segment=this.options.segment,this.updateElement(a,void 0,{animated:!s,options:c},t)}this.updateElements(n,o,r,t)}addElements(){let{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=Ue.getElement("line")),super.addElements()}updateElements(t,i,n,s){let o=s==="reset",{iScale:r,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,h=this.resolveDataElementOptions(i,s),u=this.getSharedOptions(h),f=this.includeOptions(s,u),m=r.axis,d=a.axis,{spanGaps:p,segment:g}=this.options,y=qi(p)?p:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||s==="none",w=i>0&&this.getParsed(i-1);for(let b=i;b<i+n;++b){let x=t[b],E=this.getParsed(b),S=v?x:{},M=K(E[d]),k=S[m]=r.getPixelForValue(E[m],b),j=S[d]=o||M?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[d],b);S.skip=isNaN(k)||isNaN(j)||M,S.stop=b>0&&Math.abs(E[m]-w[m])>y,g&&(S.parsed=E,S.raw=c.data[b]),f&&(S.options=u||this.resolveDataElementOptions(b,x.active?"active":s)),v||this.updateElement(x,b,S,s),w=E}this.updateSharedOptions(u,s,h)}getMaxOverflow(){let t=this._cachedMeta,i=t.data||[];if(!this.options.showLine){let a=0;for(let l=i.length-1;l>=0;--l)a=Math.max(a,i[l].size(this.resolveDataElementOptions(l))/2);return a>0&&a}let n=t.dataset,s=n.options&&n.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),r=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,r)/2}};Gn.id="scatter";Gn.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};Gn.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title(){return""},label(e){return"("+e.label+", "+e.formattedValue+")"}}}},scales:{x:{type:"linear"},y:{type:"linear"}}};var zy=Object.freeze({__proto__:null,BarController:$n,BubbleController:Un,DoughnutController:Ci,LineController:jn,PolarAreaController:Yn,PieController:ro,RadarController:qn,ScatterController:Gn});function Xi(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var ao=class{constructor(t){this.options=t||{}}init(t){}formats(){return Xi()}parse(t,i){return Xi()}format(t,i){return Xi()}add(t,i,n){return Xi()}diff(t,i,n){return Xi()}startOf(t,i,n){return Xi()}endOf(t,i){return Xi()}};ao.override=function(e){Object.assign(ao.prototype,e)};var By={_date:ao};function Ny(e,t,i,n){let{controller:s,data:o,_sorted:r}=e,a=s._cachedMeta.iScale;if(a&&t===a.axis&&t!=="r"&&r&&o.length){let l=a._reversePixels?Du:We;if(n){if(s._sharedOptions){let c=o[0],h=typeof c.getRange=="function"&&c.getRange(t);if(h){let u=l(o,t,i-h),f=l(o,t,i+h);return{lo:u.lo,hi:f.hi}}}}else return l(o,t,i)}return{lo:0,hi:o.length-1}}function po(e,t,i,n,s){let o=e.getSortedVisibleDatasetMetas(),r=i[t];for(let a=0,l=o.length;a<l;++a){let{index:c,data:h}=o[a],{lo:u,hi:f}=Ny(o[a],t,r,s);for(let m=u;m<=f;++m){let d=h[m];d.skip||n(d,c,m)}}}function Hy(e){let t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(n,s){let o=t?Math.abs(n.x-s.x):0,r=i?Math.abs(n.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Fl(e,t,i,n,s){let o=[];return!s&&!e.isPointInArea(t)||po(e,i,t,function(a,l,c){!s&&!In(a,e.chartArea,0)||a.inRange(t.x,t.y,n)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function Wy(e,t,i,n){let s=[];function o(r,a,l){let{startAngle:c,endAngle:h}=r.getProps(["startAngle","endAngle"],n),{angle:u}=ll(r,{x:t.x,y:t.y});Bn(u,c,h)&&s.push({element:r,datasetIndex:a,index:l})}return po(e,i,t,o),s}function Zy(e,t,i,n,s,o){let r=[],a=Hy(i),l=Number.POSITIVE_INFINITY;function c(h,u,f){let m=h.inRange(t.x,t.y,s);if(n&&!m)return;let d=h.getCenterPoint(s);if(!(!!o||e.isPointInArea(d))&&!m)return;let g=a(t,d);g<l?(r=[{element:h,datasetIndex:u,index:f}],l=g):g===l&&r.push({element:h,datasetIndex:u,index:f})}return po(e,i,t,c),r}function zl(e,t,i,n,s,o){return!o&&!e.isPointInArea(t)?[]:i==="r"&&!n?Wy(e,t,i,s):Zy(e,t,i,n,s,o)}function _d(e,t,i,n,s){let o=[],r=i==="x"?"inXRange":"inYRange",a=!1;return po(e,i,t,(l,c,h)=>{l[r](t[i],s)&&(o.push({element:l,datasetIndex:c,index:h}),a=a||l.inRange(t.x,t.y,s))}),n&&!a?[]:o}var Vy={evaluateInteractionItems:po,modes:{index(e,t,i,n){let s=Pi(t,e),o=i.axis||"x",r=i.includeInvisible||!1,a=i.intersect?Fl(e,s,o,n,r):zl(e,s,o,!1,n,r),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{let h=a[0].index,u=c.data[h];u&&!u.skip&&l.push({element:u,datasetIndex:c.index,index:h})}),l):[]},dataset(e,t,i,n){let s=Pi(t,e),o=i.axis||"xy",r=i.includeInvisible||!1,a=i.intersect?Fl(e,s,o,n,r):zl(e,s,o,!1,n,r);if(a.length>0){let l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let h=0;h<c.length;++h)a.push({element:c[h],datasetIndex:l,index:h})}return a},point(e,t,i,n){let s=Pi(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;return Fl(e,s,o,n,r)},nearest(e,t,i,n){let s=Pi(t,e),o=i.axis||"xy",r=i.includeInvisible||!1;return zl(e,s,o,i.intersect,n,r)},x(e,t,i,n){let s=Pi(t,e);return _d(e,s,"x",i.intersect,n)},y(e,t,i,n){let s=Pi(t,e);return _d(e,s,"y",i.intersect,n)}}},Jd=["left","top","right","bottom"];function eo(e,t){return e.filter(i=>i.pos===t)}function yd(e,t){return e.filter(i=>Jd.indexOf(i.pos)===-1&&i.box.axis===t)}function io(e,t){return e.sort((i,n)=>{let s=t?n:i,o=t?i:n;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function $y(e){let t=[],i,n,s,o,r,a;for(i=0,n=(e||[]).length;i<n;++i)s=e[i],{position:o,options:{stack:r,stackWeight:a=1}}=s,t.push({index:i,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:r&&o+r,stackWeight:a});return t}function Uy(e){let t={};for(let i of e){let{stack:n,pos:s,stackWeight:o}=i;if(!n||!Jd.includes(s))continue;let r=t[n]||(t[n]={count:0,placed:0,weight:0,size:0});r.count++,r.weight+=o}return t}function jy(e,t){let i=Uy(e),{vBoxMaxWidth:n,hBoxMaxHeight:s}=t,o,r,a;for(o=0,r=e.length;o<r;++o){a=e[o];let{fullSize:l}=a.box,c=i[a.stack],h=c&&a.stackWeight/c.weight;a.horizontal?(a.width=h?h*n:l&&t.availableWidth,a.height=s):(a.width=n,a.height=h?h*s:l&&t.availableHeight)}return i}function Yy(e){let t=$y(e),i=io(t.filter(c=>c.box.fullSize),!0),n=io(eo(t,"left"),!0),s=io(eo(t,"right")),o=io(eo(t,"top"),!0),r=io(eo(t,"bottom")),a=yd(t,"x"),l=yd(t,"y");return{fullSize:i,leftAndTop:n.concat(o),rightAndBottom:s.concat(l).concat(r).concat(a),chartArea:eo(t,"chartArea"),vertical:n.concat(s).concat(l),horizontal:o.concat(r).concat(a)}}function vd(e,t,i,n){return Math.max(e[i],t[i])+Math.max(e[n],t[n])}function Qd(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function qy(e,t,i,n){let{pos:s,box:o}=i,r=e.maxPadding;if(!Y(s)){i.size&&(e[s]-=i.size);let u=n[i.stack]||{size:0,count:1};u.size=Math.max(u.size,i.horizontal?o.height:o.width),i.size=u.size/u.count,e[s]+=i.size}o.getPadding&&Qd(r,o.getPadding());let a=Math.max(0,t.outerWidth-vd(r,e,"left","right")),l=Math.max(0,t.outerHeight-vd(r,e,"top","bottom")),c=a!==e.w,h=l!==e.h;return e.w=a,e.h=l,i.horizontal?{same:c,other:h}:{same:h,other:c}}function Gy(e){let t=e.maxPadding;function i(n){let s=Math.max(t[n]-e[n],0);return e[n]+=s,s}e.y+=i("top"),e.x+=i("left"),i("right"),i("bottom")}function Xy(e,t){let i=t.maxPadding;function n(s){let o={left:0,top:0,right:0,bottom:0};return s.forEach(r=>{o[r]=Math.max(t[r],i[r])}),o}return n(e?["left","right"]:["top","bottom"])}function so(e,t,i,n){let s=[],o,r,a,l,c,h;for(o=0,r=e.length,c=0;o<r;++o){a=e[o],l=a.box,l.update(a.width||t.w,a.height||t.h,Xy(a.horizontal,t));let{same:u,other:f}=qy(t,i,a,n);c|=u&&s.length,h=h||f,l.fullSize||s.push(a)}return c&&so(s,t,i,n)||h}function gr(e,t,i,n,s){e.top=i,e.left=t,e.right=t+n,e.bottom=i+s,e.width=n,e.height=s}function bd(e,t,i,n){let s=i.padding,{x:o,y:r}=t;for(let a of e){let l=a.box,c=n[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/c.weight||1;if(a.horizontal){let u=t.w*h,f=c.size||l.height;se(c.start)&&(r=c.start),l.fullSize?gr(l,s.left,r,i.outerWidth-s.right-s.left,f):gr(l,t.left+c.placed,r,u,f),c.start=r,c.placed+=u,r=l.bottom}else{let u=t.h*h,f=c.size||l.width;se(c.start)&&(o=c.start),l.fullSize?gr(l,o,s.top,f,i.outerHeight-s.bottom-s.top):gr(l,o,t.top+c.placed,f,u),c.start=o,c.placed+=u,o=l.right}}t.x=o,t.y=r}q.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var jt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(i){t.draw(i)}}]},e.boxes.push(t)},removeBox(e,t){let i=e.boxes?e.boxes.indexOf(t):-1;i!==-1&&e.boxes.splice(i,1)},configure(e,t,i){t.fullSize=i.fullSize,t.position=i.position,t.weight=i.weight},update(e,t,i,n){if(!e)return;let s=$t(e.options.layout.padding),o=Math.max(t-s.width,0),r=Math.max(i-s.height,0),a=Yy(e.boxes),l=a.vertical,c=a.horizontal;st(e.boxes,p=>{typeof p.beforeLayout=="function"&&p.beforeLayout()});let h=l.reduce((p,g)=>g.box.options&&g.box.options.display===!1?p:p+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:i,padding:s,availableWidth:o,availableHeight:r,vBoxMaxWidth:o/2/h,hBoxMaxHeight:r/2}),f=Object.assign({},s);Qd(f,$t(n));let m=Object.assign({maxPadding:f,w:o,h:r,x:s.left,y:s.top},s),d=jy(l.concat(c),u);so(a.fullSize,m,u,d),so(l,m,u,d),so(c,m,u,d)&&so(l,m,u,d),Gy(m),bd(a.leftAndTop,m,u,d),m.x+=m.w,m.y+=m.h,bd(a.rightAndBottom,m,u,d),e.chartArea={left:m.left,top:m.top,right:m.left+m.w,bottom:m.top+m.h,height:m.h,width:m.w},st(a.chartArea,p=>{let g=p.box;Object.assign(g,e.chartArea),g.update(m.w,m.h,{left:0,top:0,right:0,bottom:0})})}},Tr=class{acquireContext(t,i){}releaseContext(t){return!1}addEventListener(t,i,n){}removeEventListener(t,i,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,i,n,s){return i=Math.max(0,i||t.width),n=n||t.height,{width:i,height:Math.max(0,s?Math.floor(i/s):n)}}isAttached(t){return!0}updateConfig(t){}},Ul=class extends Tr{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}},xr="$chartjs",Ky={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},xd=e=>e===null||e==="";function Jy(e,t){let i=e.style,n=e.getAttribute("height"),s=e.getAttribute("width");if(e[xr]={initial:{height:n,width:s,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",xd(s)){let o=Pl(e,"width");o!==void 0&&(e.width=o)}if(xd(n))if(e.style.height==="")e.height=e.width/(t||2);else{let o=Pl(e,"height");o!==void 0&&(e.height=o)}return e}var tf=Qu?{passive:!0}:!1;function Qy(e,t,i){e.addEventListener(t,i,tf)}function t0(e,t,i){e.canvas.removeEventListener(t,i,tf)}function e0(e,t){let i=Ky[e.type]||e.type,{x:n,y:s}=Pi(e,t);return{type:i,chart:t,native:e,x:n!==void 0?n:null,y:s!==void 0?s:null}}function Mr(e,t){for(let i of e)if(i===t||i.contains(t))return!0}function i0(e,t,i){let n=e.canvas,s=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Mr(a.addedNodes,n),r=r&&!Mr(a.removedNodes,n);r&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}function n0(e,t,i){let n=e.canvas,s=new MutationObserver(o=>{let r=!1;for(let a of o)r=r||Mr(a.removedNodes,n),r=r&&!Mr(a.addedNodes,n);r&&i()});return s.observe(document,{childList:!0,subtree:!0}),s}var lo=new Map,wd=0;function ef(){let e=window.devicePixelRatio;e!==wd&&(wd=e,lo.forEach((t,i)=>{i.currentDevicePixelRatio!==e&&t()}))}function s0(e,t){lo.size||window.addEventListener("resize",ef),lo.set(e,t)}function o0(e){lo.delete(e),lo.size||window.removeEventListener("resize",ef)}function r0(e,t,i){let n=e.canvas,s=n&&fr(n);if(!s)return;let o=dl((a,l)=>{let c=s.clientWidth;i(a,l),c<s.clientWidth&&i()},window),r=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,h=l.contentRect.height;c===0&&h===0||o(c,h)});return r.observe(s),s0(e,o),r}function Bl(e,t,i){i&&i.disconnect(),t==="resize"&&o0(e)}function a0(e,t,i){let n=e.canvas,s=dl(o=>{e.ctx!==null&&i(e0(o,e))},e,o=>{let r=o[0];return[r,r.offsetX,r.offsetY]});return Qy(n,t,s),s}var jl=class extends Tr{acquireContext(t,i){let n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(Jy(t,i),n):null}releaseContext(t){let i=t.canvas;if(!i[xr])return!1;let n=i[xr].initial;["height","width"].forEach(o=>{let r=n[o];K(r)?i.removeAttribute(o):i.setAttribute(o,r)});let s=n.style||{};return Object.keys(s).forEach(o=>{i.style[o]=s[o]}),i.width=i.width,delete i[xr],!0}addEventListener(t,i,n){this.removeEventListener(t,i);let s=t.$proxies||(t.$proxies={}),r={attach:i0,detach:n0,resize:r0}[i]||a0;s[i]=r(t,i,n)}removeEventListener(t,i){let n=t.$proxies||(t.$proxies={}),s=n[i];if(!s)return;({attach:Bl,detach:Bl,resize:Bl}[i]||t0)(t,i,s),n[i]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,i,n,s){return Ju(t,i,n,s)}isAttached(t){let i=fr(t);return!!(i&&i.isConnected)}};function l0(e){return!El()||typeof OffscreenCanvas!="undefined"&&e instanceof OffscreenCanvas?Ul:jl}var Yl=class{constructor(){this._init=[]}notify(t,i,n,s){i==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));let o=s?this._descriptors(t).filter(s):this._descriptors(t),r=this._notify(o,t,i,n);return i==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall")),r}_notify(t,i,n,s){s=s||{};for(let o of t){let r=o.plugin,a=r[n],l=[i,s,o.options];if(ft(a,l,r)===!1&&s.cancelable)return!1}return!0}invalidate(){K(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;let i=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),i}_createDescriptors(t,i){let n=t&&t.config,s=H(n.options&&n.options.plugins,{}),o=c0(n);return s===!1&&!i?[]:u0(t,o,s,i)}_notifyStateChanges(t){let i=this._oldCache||[],n=this._cache,s=(o,r)=>o.filter(a=>!r.some(l=>a.plugin.id===l.plugin.id));this._notify(s(i,n),t,"stop"),this._notify(s(n,i),t,"start")}};function c0(e){let t={},i=[],n=Object.keys(Ue.plugins.items);for(let o=0;o<n.length;o++)i.push(Ue.getPlugin(n[o]));let s=e.plugins||[];for(let o=0;o<s.length;o++){let r=s[o];i.indexOf(r)===-1&&(i.push(r),t[r.id]=!0)}return{plugins:i,localIds:t}}function h0(e,t){return!t&&e===!1?null:e===!0?{}:e}function u0(e,{plugins:t,localIds:i},n,s){let o=[],r=e.getContext();for(let a of t){let l=a.id,c=h0(n[l],s);c!==null&&o.push({plugin:a,options:d0(e.config,{plugin:a,local:i[l]},c,r)})}return o}function d0(e,{plugin:t,local:i},n,s){let o=e.pluginScopeKeys(t),r=e.getOptionScopes(n,o);return i&&t.defaults&&r.push(t.defaults),e.createResolver(r,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ql(e,t){let i=q.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||i.indexAxis||"x"}function f0(e,t){let i=e;return e==="_index_"?i=t:e==="_value_"&&(i=t==="x"?"y":"x"),i}function m0(e,t){return e===t?"_index_":"_value_"}function p0(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Gl(e,t){return e==="x"||e==="y"?e:t.axis||p0(t.position)||e.charAt(0).toLowerCase()}function g0(e,t){let i=Mi[e.type]||{scales:{}},n=t.scales||{},s=ql(e.type,t),o=Object.create(null),r=Object.create(null);return Object.keys(n).forEach(a=>{let l=n[a];if(!Y(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);let c=Gl(a,l),h=m0(c,s),u=i.scales||{};o[c]=o[c]||a,r[a]=Fn(Object.create(null),[{axis:c},l,u[c],u[h]])}),e.data.datasets.forEach(a=>{let l=a.type||e.type,c=a.indexAxis||ql(l,t),u=(Mi[l]||{}).scales||{};Object.keys(u).forEach(f=>{let m=f0(f,c),d=a[m+"AxisID"]||o[m]||m;r[d]=r[d]||Object.create(null),Fn(r[d],[{axis:m},n[d],u[f]])})}),Object.keys(r).forEach(a=>{let l=r[a];Fn(l,[q.scales[l.type],q.scale])}),r}function nf(e){let t=e.options||(e.options={});t.plugins=H(t.plugins,{}),t.scales=g0(e,t)}function sf(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function _0(e){return e=e||{},e.data=sf(e.data),nf(e),e}var Td=new Map,of=new Set;function _r(e,t){let i=Td.get(e);return i||(i=t(),Td.set(e,i),of.add(i)),i}var no=(e,t,i)=>{let n=ai(t,i);n!==void 0&&e.add(n)},Xl=class{constructor(t){this._config=_0(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=sf(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){let t=this._config;this.clearCache(),nf(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return _r(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,i){return _r(`${t}.transition.${i}`,()=>[[`datasets.${t}.transitions.${i}`,`transitions.${i}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,i){return _r(`${t}-${i}`,()=>[[`datasets.${t}.elements.${i}`,`datasets.${t}`,`elements.${i}`,""]])}pluginScopeKeys(t){let i=t.id,n=this.type;return _r(`${n}-plugin-${i}`,()=>[[`plugins.${i}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,i){let n=this._scopeCache,s=n.get(t);return(!s||i)&&(s=new Map,n.set(t,s)),s}getOptionScopes(t,i,n){let{options:s,type:o}=this,r=this._cachedScopes(t,n),a=r.get(i);if(a)return a;let l=new Set;i.forEach(h=>{t&&(l.add(t),h.forEach(u=>no(l,t,u))),h.forEach(u=>no(l,s,u)),h.forEach(u=>no(l,Mi[o]||{},u)),h.forEach(u=>no(l,q,u)),h.forEach(u=>no(l,cr,u))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),of.has(i)&&r.set(i,c),c}chartOptionScopes(){let{options:t,type:i}=this;return[t,Mi[i]||{},q.datasets[i]||{},{type:i},q,cr]}resolveNamedOptions(t,i,n,s=[""]){let o={$shared:!0},{resolver:r,subPrefixes:a}=Md(this._resolverCache,t,s),l=r;if(v0(r,i)){o.$shared=!1,n=ri(n)?n():n;let c=this.createResolver(t,n,a);l=Yi(r,n,c)}for(let c of i)o[c]=l[c];return o}createResolver(t,i,n=[""],s){let{resolver:o}=Md(this._resolverCache,t,n);return Y(i)?Yi(o,i,void 0,s):o}};function Md(e,t,i){let n=e.get(t);n||(n=new Map,e.set(t,n));let s=i.join(),o=n.get(s);return o||(o={resolver:dr(t,i),subPrefixes:i.filter(a=>!a.toLowerCase().includes("hover"))},n.set(s,o)),o}var y0=e=>Y(e)&&Object.getOwnPropertyNames(e).reduce((t,i)=>t||ri(e[i]),!1);function v0(e,t){let{isScriptable:i,isIndexable:n}=wl(e);for(let s of t){let o=i(s),r=n(s),a=(r||o)&&e[s];if(o&&(ri(a)||y0(a))||r&&dt(a))return!0}return!1}var b0="3.9.1",x0=["top","bottom","left","right","chartArea"];function Sd(e,t){return e==="top"||e==="bottom"||x0.indexOf(e)===-1&&t==="x"}function Ed(e,t){return function(i,n){return i[e]===n[e]?i[t]-n[t]:i[e]-n[e]}}function Ld(e){let t=e.chart,i=t.options.animation;t.notifyPlugins("afterRender"),ft(i&&i.onComplete,[e],t)}function w0(e){let t=e.chart,i=t.options.animation;ft(i&&i.onProgress,[e],t)}function rf(e){return El()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var Sr={},af=e=>{let t=rf(e);return Object.values(Sr).filter(i=>i.canvas===t).pop()};function T0(e,t,i){let n=Object.keys(e);for(let s of n){let o=+s;if(o>=t){let r=e[s];delete e[s],(i>0||o>t)&&(e[o+i]=r)}}}function M0(e,t,i,n){return!i||e.type==="mouseout"?null:n?t:e}var Ki=class{constructor(t,i){let n=this.config=new Xl(i),s=rf(t),o=af(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let r=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||l0(s)),this.platform.updateConfig(n);let a=this.platform.acquireContext(s,r.aspectRatio),l=a&&a.canvas,c=l&&l.height,h=l&&l.width;if(this.id=Su(),this.ctx=a,this.canvas=l,this.width=h,this.height=c,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Yl,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Fu(u=>this.update(u),r.resizeDelay||0),this._dataChanges=[],Sr[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}ci.listen(this,"complete",Ld),ci.listen(this,"progress",w0),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:t,maintainAspectRatio:i},width:n,height:s,_aspectRatio:o}=this;return K(t)?i&&o?o:s?n/s:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Ll(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return vl(this.canvas,this.ctx),this}stop(){return ci.stop(this),this}resize(t,i){ci.running(this)?this._resizeBeforeDraw={width:t,height:i}:this._resize(t,i)}_resize(t,i){let n=this.options,s=this.canvas,o=n.maintainAspectRatio&&this.aspectRatio,r=this.platform.getMaximumSize(s,t,i,o),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=r.width,this.height=r.height,this._aspectRatio=this.aspectRatio,Ll(this,a,!0)&&(this.notifyPlugins("resize",{size:r}),ft(n.onResize,[this,r],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};st(i,(n,s)=>{n.id=s})}buildOrUpdateScales(){let t=this.options,i=t.scales,n=this.scales,s=Object.keys(n).reduce((r,a)=>(r[a]=!1,r),{}),o=[];i&&(o=o.concat(Object.keys(i).map(r=>{let a=i[r],l=Gl(r,a),c=l==="r",h=l==="x";return{options:a,dposition:c?"chartArea":h?"bottom":"left",dtype:c?"radialLinear":h?"category":"linear"}}))),st(o,r=>{let a=r.options,l=a.id,c=Gl(l,a),h=H(a.type,r.dtype);(a.position===void 0||Sd(a.position,c)!==Sd(r.dposition))&&(a.position=r.dposition),s[l]=!0;let u=null;if(l in n&&n[l].type===h)u=n[l];else{let f=Ue.getScale(h);u=new f({id:l,type:h,ctx:this.ctx,chart:this}),n[u.id]=u}u.init(a,t)}),st(s,(r,a)=>{r||delete n[a]}),st(n,r=>{jt.configure(this,r,r.options),jt.addBox(this,r)})}_updateMetasets(){let t=this._metasets,i=this.data.datasets.length,n=t.length;if(t.sort((s,o)=>s.index-o.index),n>i){for(let s=i;s<n;++s)this._destroyDatasetMeta(s);t.splice(i,n-i)}this._sortedMetasets=t.slice(0).sort(Ed("order","index"))}_removeUnreferencedMetasets(){let{_metasets:t,data:{datasets:i}}=this;t.length>i.length&&delete this._stacks,t.forEach((n,s)=>{i.filter(o=>o===n._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let t=[],i=this.data.datasets,n,s;for(this._removeUnreferencedMetasets(),n=0,s=i.length;n<s;n++){let o=i[n],r=this.getDatasetMeta(n),a=o.type||this.config.type;if(r.type&&r.type!==a&&(this._destroyDatasetMeta(n),r=this.getDatasetMeta(n)),r.type=a,r.indexAxis=o.indexAxis||ql(a,this.options),r.order=o.order||0,r.index=n,r.label=""+o.label,r.visible=this.isDatasetVisible(n),r.controller)r.controller.updateIndex(n),r.controller.linkScales();else{let l=Ue.getController(a),{datasetElementType:c,dataElementType:h}=q.datasets[a];Object.assign(l.prototype,{dataElementType:Ue.getElement(h),datasetElementType:c&&Ue.getElement(c)}),r.controller=new l(this,n),t.push(r.controller)}}return this._updateMetasets(),t}_resetElements(){st(this.data.datasets,(t,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){let i=this.config;i.update();let n=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let r=0;for(let c=0,h=this.data.datasets.length;c<h;c++){let{controller:u}=this.getDatasetMeta(c),f=!s&&o.indexOf(u)===-1;u.buildOrUpdateElements(f),r=Math.max(+u.getMaxOverflow(),r)}r=this._minPadding=n.layout.autoPadding?r:0,this._updateLayout(r),s||st(o,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ed("z","_idx"));let{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){st(this.scales,t=>{jt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let t=this.options,i=new Set(Object.keys(this._listeners)),n=new Set(t.events);(!sl(i,n)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:t}=this,i=this._getUniformDataChanges()||[];for(let{method:n,start:s,count:o}of i){let r=n==="_removeElements"?-o:o;T0(t,s,r)}}_getUniformDataChanges(){let t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];let i=this.data.datasets.length,n=o=>new Set(t.filter(r=>r[0]===o).map((r,a)=>a+","+r.splice(1).join(","))),s=n(0);for(let o=1;o<i;o++)if(!sl(s,n(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;jt.update(this,this.width,this.height,t);let i=this.chartArea,n=i.width<=0||i.height<=0;this._layers=[],st(this.boxes,s=>{n&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let i=0,n=this.data.datasets.length;i<n;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,n=this.data.datasets.length;i<n;++i)this._updateDataset(i,ri(t)?t({datasetIndex:i}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,i){let n=this.getDatasetMeta(t),s={meta:n,index:t,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(n.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ci.has(this)?this.attached&&!ci.running(this)&&ci.start(this):(this.draw(),Ld({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){let{width:n,height:s}=this._resizeBeforeDraw;this._resize(n,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(t=0;t<i.length&&i[t].z<=0;++t)i[t].draw(this.chartArea);for(this._drawDatasets();t<i.length;++t)i[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){let i=this._sortedMetasets,n=[],s,o;for(s=0,o=i.length;s<o;++s){let r=i[s];(!t||r.visible)&&n.push(r)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let t=this.getSortedVisibleDatasetMetas();for(let i=t.length-1;i>=0;--i)this._drawDataset(t[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){let i=this.ctx,n=t._clip,s=!n.disabled,o=this.chartArea,r={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(s&&Ks(i,{left:n.left===!1?0:o.left-n.left,right:n.right===!1?this.width:o.right+n.right,top:n.top===!1?0:o.top-n.top,bottom:n.bottom===!1?this.height:o.bottom+n.bottom}),t.controller.draw(),s&&Js(i),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return In(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,i,n,s){let o=Vy.modes[i];return typeof o=="function"?o(this,t,n,s):[]}getDatasetMeta(t){let i=this.data.datasets[t],n=this._metasets,s=n.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:t,_dataset:i,_parsed:[],_sorted:!1},n.push(s)),s}getContext(){return this.$context||(this.$context=li(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){let i=this.data.datasets[t];if(!i)return!1;let n=this.getDatasetMeta(t);return typeof n.hidden=="boolean"?!n.hidden:!i.hidden}setDatasetVisibility(t,i){let n=this.getDatasetMeta(t);n.hidden=!i}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,i,n){let s=n?"show":"hide",o=this.getDatasetMeta(t),r=o.controller._resolveAnimations(void 0,s);se(i)?(o.data[i].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),r.update(o,{visible:n}),this.update(a=>a.datasetIndex===t?s:void 0))}hide(t,i){this._updateVisibility(t,i,!1)}show(t,i){this._updateVisibility(t,i,!0)}_destroyDatasetMeta(t){let i=this._metasets[t];i&&i.controller&&i.controller._destroy(),delete this._metasets[t]}_stop(){let t,i;for(this.stop(),ci.remove(this),t=0,i=this.data.datasets.length;t<i;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:t,ctx:i}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),vl(t,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Sr[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let t=this._listeners,i=this.platform,n=(o,r)=>{i.addEventListener(this,o,r),t[o]=r},s=(o,r,a)=>{o.offsetX=r,o.offsetY=a,this._eventHandler(o)};st(this.options.events,o=>n(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let t=this._responsiveListeners,i=this.platform,n=(l,c)=>{i.addEventListener(this,l,c),t[l]=c},s=(l,c)=>{t[l]&&(i.removeEventListener(this,l,c),delete t[l])},o=(l,c)=>{this.canvas&&this.resize(l,c)},r,a=()=>{s("attach",a),this.attached=!0,this.resize(),n("resize",o),n("detach",r)};r=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),n("attach",a)},i.isAttached(this.canvas)?a():r()}unbindEvents(){st(this._listeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._listeners={},st(this._responsiveListeners,(t,i)=>{this.platform.removeEventListener(this,i,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,i,n){let s=n?"set":"remove",o,r,a,l;for(i==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){r=t[a];let c=r&&this.getDatasetMeta(r.datasetIndex).controller;c&&c[s+"HoverStyle"](r.element,r.datasetIndex,r.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){let i=this._active||[],n=t.map(({datasetIndex:o,index:r})=>{let a=this.getDatasetMeta(o);if(!a)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:a.data[r],index:r}});!Gs(n,i)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,i))}notifyPlugins(t,i,n){return this._plugins.notify(this,t,i,n)}_updateHoverStyles(t,i,n){let s=this.options.hover,o=(l,c)=>l.filter(h=>!c.some(u=>h.datasetIndex===u.datasetIndex&&h.index===u.index)),r=o(i,t),a=n?t:o(t,i);r.length&&this.updateHoverStyle(r,s.mode,!1),a.length&&s.mode&&this.updateHoverStyle(a,s.mode,!0)}_eventHandler(t,i){let n={event:t,replay:i,cancelable:!0,inChartArea:this.isPointInArea(t)},s=r=>(r.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",n,s)===!1)return;let o=this._handleEvent(t,i,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,s),(o||n.changed)&&this.render(),this}_handleEvent(t,i,n){let{_active:s=[],options:o}=this,r=i,a=this._getActiveElements(t,s,n,r),l=Pu(t),c=M0(t,this._lastEvent,n,l);n&&(this._lastEvent=null,ft(o.onHover,[t,a,this],this),l&&ft(o.onClick,[t,a,this],this));let h=!Gs(a,s);return(h||i)&&(this._active=a,this._updateHoverStyles(a,s,i)),this._lastEvent=c,h}_getActiveElements(t,i,n,s){if(t.type==="mouseout")return[];if(!n)return i;let o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,s)}},Pd=()=>st(Ki.instances,e=>e._plugins.invalidate()),ki=!0;Object.defineProperties(Ki,{defaults:{enumerable:ki,value:q},instances:{enumerable:ki,value:Sr},overrides:{enumerable:ki,value:Mi},registry:{enumerable:ki,value:Ue},version:{enumerable:ki,value:b0},getChart:{enumerable:ki,value:af},register:{enumerable:ki,value:(...e)=>{Ue.add(...e),Pd()}},unregister:{enumerable:ki,value:(...e)=>{Ue.remove(...e),Pd()}}});function lf(e,t,i){let{startAngle:n,pixelMargin:s,x:o,y:r,outerRadius:a,innerRadius:l}=t,c=s/a;e.beginPath(),e.arc(o,r,a,n-c,i+c),l>s?(c=s/l,e.arc(o,r,l,i+c,n-c,!0)):e.arc(o,r,s,i+Mt,n-Mt),e.closePath(),e.clip()}function S0(e){return ur(e,["outerStart","outerEnd","innerStart","innerEnd"])}function E0(e,t,i,n){let s=S0(e.options.borderRadius),o=(i-t)/2,r=Math.min(o,n*t/2),a=l=>{let c=(i-Math.min(o,l))*n/2;return Bt(l,0,Math.min(o,c))};return{outerStart:a(s.outerStart),outerEnd:a(s.outerEnd),innerStart:Bt(s.innerStart,0,r),innerEnd:Bt(s.innerEnd,0,r)}}function Zn(e,t,i,n){return{x:i+e*Math.cos(t),y:n+e*Math.sin(t)}}function Kl(e,t,i,n,s,o){let{x:r,y:a,startAngle:l,pixelMargin:c,innerRadius:h}=t,u=Math.max(t.outerRadius+n+i-c,0),f=h>0?h+n+i+c:0,m=0,d=s-l;if(n){let z=h>0?h-n:0,kt=u>0?u-n:0,_t=(z+kt)/2,he=_t!==0?d*_t/(_t+n):d;m=(d-he)/2}let p=Math.max(.001,d*u-i/gt)/u,g=(d-p)/2,y=l+g+m,v=s-g-m,{outerStart:w,outerEnd:b,innerStart:x,innerEnd:E}=E0(t,f,u,v-y),S=u-w,M=u-b,k=y+w/S,j=v-b/M,X=f+x,Z=f+E,ht=y+x/X,At=v-E/Z;if(e.beginPath(),o){if(e.arc(r,a,u,k,j),b>0){let _t=Zn(M,j,r,a);e.arc(_t.x,_t.y,b,j,v+Mt)}let z=Zn(Z,v,r,a);if(e.lineTo(z.x,z.y),E>0){let _t=Zn(Z,At,r,a);e.arc(_t.x,_t.y,E,v+Mt,At+Math.PI)}if(e.arc(r,a,f,v-E/f,y+x/f,!0),x>0){let _t=Zn(X,ht,r,a);e.arc(_t.x,_t.y,x,ht+Math.PI,y-Mt)}let kt=Zn(S,y,r,a);if(e.lineTo(kt.x,kt.y),w>0){let _t=Zn(S,k,r,a);e.arc(_t.x,_t.y,w,y-Mt,k)}}else{e.moveTo(r,a);let z=Math.cos(k)*u+r,kt=Math.sin(k)*u+a;e.lineTo(z,kt);let _t=Math.cos(j)*u+r,he=Math.sin(j)*u+a;e.lineTo(_t,he)}e.closePath()}function L0(e,t,i,n,s){let{fullCircles:o,startAngle:r,circumference:a}=t,l=t.endAngle;if(o){Kl(e,t,i,n,r+rt,s);for(let c=0;c<o;++c)e.fill();isNaN(a)||(l=r+a%rt,a%rt===0&&(l+=rt))}return Kl(e,t,i,n,l,s),e.fill(),l}function P0(e,t,i){let{x:n,y:s,startAngle:o,pixelMargin:r,fullCircles:a}=t,l=Math.max(t.outerRadius-r,0),c=t.innerRadius+r,h;for(i&&lf(e,t,o+rt),e.beginPath(),e.arc(n,s,c,o+rt,o,!0),h=0;h<a;++h)e.stroke();for(e.beginPath(),e.arc(n,s,l,o,o+rt),h=0;h<a;++h)e.stroke()}function k0(e,t,i,n,s,o){let{options:r}=t,{borderWidth:a,borderJoinStyle:l}=r,c=r.borderAlign==="inner";!a||(c?(e.lineWidth=a*2,e.lineJoin=l||"round"):(e.lineWidth=a,e.lineJoin=l||"bevel"),t.fullCircles&&P0(e,t,c),c&&lf(e,t,s),Kl(e,t,i,n,s,o),e.stroke())}var Xn=class extends le{constructor(t){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,i,n){let s=this.getProps(["x","y"],n),{angle:o,distance:r}=ll(s,{x:t,y:i}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:h,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),f=this.options.spacing/2,d=H(u,l-a)>=rt||Bn(o,a,l),p=Ve(r,c+f,h+f);return d&&p}getCenterPoint(t){let{x:i,y:n,startAngle:s,endAngle:o,innerRadius:r,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],t),{offset:l,spacing:c}=this.options,h=(s+o)/2,u=(r+a+c+l)/2;return{x:i+Math.cos(h)*u,y:n+Math.sin(h)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){let{options:i,circumference:n}=this,s=(i.offset||0)/2,o=(i.spacing||0)/2,r=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=n>rt?Math.floor(n/rt):0,n===0||this.innerRadius<0||this.outerRadius<0)return;t.save();let a=0;if(s){a=s/2;let c=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(c)*a,Math.sin(c)*a),this.circumference>=gt&&(a=s)}t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor;let l=L0(t,this,a,o,r);k0(t,this,a,o,l,r),t.restore()}};Xn.id="arc";Xn.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};Xn.defaultRoutes={backgroundColor:"backgroundColor"};function cf(e,t,i=t){e.lineCap=H(i.borderCapStyle,t.borderCapStyle),e.setLineDash(H(i.borderDash,t.borderDash)),e.lineDashOffset=H(i.borderDashOffset,t.borderDashOffset),e.lineJoin=H(i.borderJoinStyle,t.borderJoinStyle),e.lineWidth=H(i.borderWidth,t.borderWidth),e.strokeStyle=H(i.borderColor,t.borderColor)}function O0(e,t,i){e.lineTo(i.x,i.y)}function C0(e){return e.stepped?$u:e.tension||e.cubicInterpolationMode==="monotone"?Uu:O0}function hf(e,t,i={}){let n=e.length,{start:s=0,end:o=n-1}=i,{start:r,end:a}=t,l=Math.max(s,r),c=Math.min(o,a),h=s<r&&o<r||s>a&&o>a;return{count:n,start:l,loop:t.loop,ilen:c<l&&!h?n+c-l:c-l}}function D0(e,t,i,n){let{points:s,options:o}=t,{count:r,start:a,loop:l,ilen:c}=hf(s,i,n),h=C0(o),{move:u=!0,reverse:f}=n||{},m,d,p;for(m=0;m<=c;++m)d=s[(a+(f?c-m:m))%r],!d.skip&&(u?(e.moveTo(d.x,d.y),u=!1):h(e,p,d,f,o.stepped),p=d);return l&&(d=s[(a+(f?c:0))%r],h(e,p,d,f,o.stepped)),!!l}function A0(e,t,i,n){let s=t.points,{count:o,start:r,ilen:a}=hf(s,i,n),{move:l=!0,reverse:c}=n||{},h=0,u=0,f,m,d,p,g,y,v=b=>(r+(c?a-b:b))%o,w=()=>{p!==g&&(e.lineTo(h,g),e.lineTo(h,p),e.lineTo(h,y))};for(l&&(m=s[v(0)],e.moveTo(m.x,m.y)),f=0;f<=a;++f){if(m=s[v(f)],m.skip)continue;let b=m.x,x=m.y,E=b|0;E===d?(x<p?p=x:x>g&&(g=x),h=(u*h+b)/++u):(w(),e.lineTo(b,x),d=E,u=0,p=g=x),y=x}w()}function Jl(e){let t=e.options,i=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!i?A0:D0}function I0(e){return e.stepped?td:e.tension||e.cubicInterpolationMode==="monotone"?ed:xi}function R0(e,t,i,n){let s=t._path;s||(s=t._path=new Path2D,t.path(s,i,n)&&s.closePath()),cf(e,t.options),e.stroke(s)}function F0(e,t,i,n){let{segments:s,options:o}=t,r=Jl(t);for(let a of s)cf(e,o,a.style),e.beginPath(),r(e,t,a,{start:i,end:i+n-1})&&e.closePath(),e.stroke()}var z0=typeof Path2D=="function";function B0(e,t,i,n){z0&&!t.options.segment?R0(e,t,i,n):F0(e,t,i,n)}var je=class extends le{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,i){let n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){let s=n.spanGaps?this._loop:this._fullLoop;Ku(this._points,n,t,s,i),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=nd(this,this.options.segment))}first(){let t=this.segments,i=this.points;return t.length&&i[t[0].start]}last(){let t=this.segments,i=this.points,n=t.length;return n&&i[t[n-1].end]}interpolate(t,i){let n=this.options,s=t[i],o=this.points,r=Dl(this,{property:i,start:s,end:s});if(!r.length)return;let a=[],l=I0(n),c,h;for(c=0,h=r.length;c<h;++c){let{start:u,end:f}=r[c],m=o[u],d=o[f];if(m===d){a.push(m);continue}let p=Math.abs((s-m[i])/(d[i]-m[i])),g=l(m,d,p,n.stepped);g[i]=t[i],a.push(g)}return a.length===1?a[0]:a}pathSegment(t,i,n){return Jl(this)(t,this,i,n)}path(t,i,n){let s=this.segments,o=Jl(this),r=this._loop;i=i||0,n=n||this.points.length-i;for(let a of s)r&=o(t,this,a,{start:i,end:i+n-1});return!!r}draw(t,i,n,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),B0(t,this,n,s),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}};je.id="line";je.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};je.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};je.descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};function kd(e,t,i,n){let s=e.options,{[i]:o}=e.getProps([i],n);return Math.abs(t-o)<s.radius+s.hitRadius}var Kn=class extends le{constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,i,n){let s=this.options,{x:o,y:r}=this.getProps(["x","y"],n);return Math.pow(t-o,2)+Math.pow(i-r,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(t,i){return kd(this,t,"x",i)}inYRange(t,i){return kd(this,t,"y",i)}getCenterPoint(t){let{x:i,y:n}=this.getProps(["x","y"],t);return{x:i,y:n}}size(t){t=t||this.options||{};let i=t.radius||0;i=Math.max(i,i&&t.hoverRadius||0);let n=i&&t.borderWidth||0;return(i+n)*2}draw(t,i){let n=this.options;this.skip||n.radius<.1||!In(this,i,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,hr(t,n,this.x,this.y))}getRange(){let t=this.options||{};return t.radius+t.hitRadius}};Kn.id="point";Kn.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};Kn.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};function uf(e,t){let{x:i,y:n,base:s,width:o,height:r}=e.getProps(["x","y","base","width","height"],t),a,l,c,h,u;return e.horizontal?(u=r/2,a=Math.min(i,s),l=Math.max(i,s),c=n-u,h=n+u):(u=o/2,a=i-u,l=i+u,c=Math.min(n,s),h=Math.max(n,s)),{left:a,top:c,right:l,bottom:h}}function Oi(e,t,i,n){return e?0:Bt(t,i,n)}function N0(e,t,i){let n=e.options.borderWidth,s=e.borderSkipped,o=xl(n);return{t:Oi(s.top,o.top,0,i),r:Oi(s.right,o.right,0,t),b:Oi(s.bottom,o.bottom,0,i),l:Oi(s.left,o.left,0,t)}}function H0(e,t,i){let{enableBorderRadius:n}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,o=Li(s),r=Math.min(t,i),a=e.borderSkipped,l=n||Y(s);return{topLeft:Oi(!l||a.top||a.left,o.topLeft,0,r),topRight:Oi(!l||a.top||a.right,o.topRight,0,r),bottomLeft:Oi(!l||a.bottom||a.left,o.bottomLeft,0,r),bottomRight:Oi(!l||a.bottom||a.right,o.bottomRight,0,r)}}function W0(e){let t=uf(e),i=t.right-t.left,n=t.bottom-t.top,s=N0(e,i/2,n/2),o=H0(e,i/2,n/2);return{outer:{x:t.left,y:t.top,w:i,h:n,radius:o},inner:{x:t.left+s.l,y:t.top+s.t,w:i-s.l-s.r,h:n-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function Nl(e,t,i,n){let s=t===null,o=i===null,a=e&&!(s&&o)&&uf(e,n);return a&&(s||Ve(t,a.left,a.right))&&(o||Ve(i,a.top,a.bottom))}function Z0(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function V0(e,t){e.rect(t.x,t.y,t.w,t.h)}function Hl(e,t,i={}){let n=e.x!==i.x?-t:0,s=e.y!==i.y?-t:0,o=(e.x+e.w!==i.x+i.w?t:0)-n,r=(e.y+e.h!==i.y+i.h?t:0)-s;return{x:e.x+n,y:e.y+s,w:e.w+o,h:e.h+r,radius:e.radius}}var Jn=class extends le{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){let{inflateAmount:i,options:{borderColor:n,backgroundColor:s}}=this,{inner:o,outer:r}=W0(this),a=Z0(r.radius)?Nn:V0;t.save(),(r.w!==o.w||r.h!==o.h)&&(t.beginPath(),a(t,Hl(r,i,o)),t.clip(),a(t,Hl(o,-i,r)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),a(t,Hl(o,i)),t.fillStyle=s,t.fill(),t.restore()}inRange(t,i,n){return Nl(this,t,i,n)}inXRange(t,i){return Nl(this,t,null,i)}inYRange(t,i){return Nl(this,null,t,i)}getCenterPoint(t){let{x:i,y:n,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(i+s)/2:i,y:o?n:(n+s)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}};Jn.id="bar";Jn.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};Jn.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var $0=Object.freeze({__proto__:null,ArcElement:Xn,LineElement:je,PointElement:Kn,BarElement:Jn});function U0(e,t,i,n,s){let o=s.samples||n;if(o>=i)return e.slice(t,t+i);let r=[],a=(i-2)/(o-2),l=0,c=t+i-1,h=t,u,f,m,d,p;for(r[l++]=e[h],u=0;u<o-2;u++){let g=0,y=0,v,w=Math.floor((u+1)*a)+1+t,b=Math.min(Math.floor((u+2)*a)+1,i)+t,x=b-w;for(v=w;v<b;v++)g+=e[v].x,y+=e[v].y;g/=x,y/=x;let E=Math.floor(u*a)+1+t,S=Math.min(Math.floor((u+1)*a)+1,i)+t,{x:M,y:k}=e[h];for(m=d=-1,v=E;v<S;v++)d=.5*Math.abs((M-g)*(e[v].y-k)-(M-e[v].x)*(y-k)),d>m&&(m=d,f=e[v],p=v);r[l++]=f,h=p}return r[l++]=e[c],r}function j0(e,t,i,n){let s=0,o=0,r,a,l,c,h,u,f,m,d,p,g=[],y=t+i-1,v=e[t].x,b=e[y].x-v;for(r=t;r<t+i;++r){a=e[r],l=(a.x-v)/b*n,c=a.y;let x=l|0;if(x===h)c<d?(d=c,u=r):c>p&&(p=c,f=r),s=(o*s+a.x)/++o;else{let E=r-1;if(!K(u)&&!K(f)){let S=Math.min(u,f),M=Math.max(u,f);S!==m&&S!==E&&g.push({...e[S],x:s}),M!==m&&M!==E&&g.push({...e[M],x:s})}r>0&&E!==m&&g.push(e[E]),g.push(a),h=x,o=0,d=p=c,u=f=m=r}}return g}function df(e){if(e._decimated){let t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{value:t})}}function Od(e){e.data.datasets.forEach(t=>{df(t)})}function Y0(e,t){let i=t.length,n=0,s,{iScale:o}=e,{min:r,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(n=Bt(We(t,o.axis,r).lo,0,i-1)),c?s=Bt(We(t,o.axis,a).hi+1,n,i)-n:s=i-n,{start:n,count:s}}var q0={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,i)=>{if(!i.enabled){Od(e);return}let n=e.width;e.data.datasets.forEach((s,o)=>{let{_data:r,indexAxis:a}=s,l=e.getDatasetMeta(o),c=r||s.data;if(Hn([a,e.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let h=e.scales[l.xAxisID];if(h.type!=="linear"&&h.type!=="time"||e.options.parsing)return;let{start:u,count:f}=Y0(l,c),m=i.threshold||4*n;if(f<=m){df(s);return}K(r)&&(s._data=c,delete s.data,Object.defineProperty(s,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(p){this._data=p}}));let d;switch(i.algorithm){case"lttb":d=U0(c,u,f,n,i);break;case"min-max":d=j0(c,u,f,n);break;default:throw new Error(`Unsupported decimation algorithm '${i.algorithm}'`)}s._decimated=d})},destroy(e){Od(e)}};function G0(e,t,i){let n=e.segments,s=e.points,o=t.points,r=[];for(let a of n){let{start:l,end:c}=a;c=ec(l,c,s);let h=Ql(i,s[l],s[c],a.loop);if(!t.segments){r.push({source:a,target:h,start:s[l],end:s[c]});continue}let u=Dl(t,h);for(let f of u){let m=Ql(i,o[f.start],o[f.end],f.loop),d=Cl(a,s,m);for(let p of d)r.push({source:p,target:f,start:{[i]:Cd(h,m,"start",Math.max)},end:{[i]:Cd(h,m,"end",Math.min)}})}}return r}function Ql(e,t,i,n){if(n)return;let s=t[e],o=i[e];return e==="angle"&&(s=Kt(s),o=Kt(o)),{property:e,start:s,end:o}}function X0(e,t){let{x:i=null,y:n=null}=e||{},s=t.points,o=[];return t.segments.forEach(({start:r,end:a})=>{a=ec(r,a,s);let l=s[r],c=s[a];n!==null?(o.push({x:l.x,y:n}),o.push({x:c.x,y:n})):i!==null&&(o.push({x:i,y:l.y}),o.push({x:i,y:c.y}))}),o}function ec(e,t,i){for(;t>e;t--){let n=i[t];if(!isNaN(n.x)&&!isNaN(n.y))break}return t}function Cd(e,t,i,n){return e&&t?n(e[i],t[i]):e?e[i]:t?t[i]:0}function ff(e,t){let i=[],n=!1;return dt(e)?(n=!0,i=e):i=X0(e,t),i.length?new je({points:i,options:{tension:0},_loop:n,_fullLoop:n}):null}function Dd(e){return e&&e.fill!==!1}function K0(e,t,i){let s=e[t].fill,o=[t],r;if(!i)return s;for(;s!==!1&&o.indexOf(s)===-1;){if(!Ot(s))return s;if(r=e[s],!r)return!1;if(r.visible)return s;o.push(s),s=r.fill}return!1}function J0(e,t,i){let n=iv(e);if(Y(n))return isNaN(n.value)?!1:n;let s=parseFloat(n);return Ot(s)&&Math.floor(s)===s?Q0(n[0],t,s,i):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Q0(e,t,i,n){return(e==="-"||e==="+")&&(i=t+i),i===t||i<0||i>=n?!1:i}function tv(e,t){let i=null;return e==="start"?i=t.bottom:e==="end"?i=t.top:Y(e)?i=t.getPixelForValue(e.value):t.getBasePixel&&(i=t.getBasePixel()),i}function ev(e,t,i){let n;return e==="start"?n=i:e==="end"?n=t.options.reverse?t.min:t.max:Y(e)?n=e.value:n=t.getBaseValue(),n}function iv(e){let t=e.options,i=t.fill,n=H(i&&i.target,i);return n===void 0&&(n=!!t.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function nv(e){let{scale:t,index:i,line:n}=e,s=[],o=n.segments,r=n.points,a=sv(t,i);a.push(ff({x:null,y:t.bottom},n));for(let l=0;l<o.length;l++){let c=o[l];for(let h=c.start;h<=c.end;h++)ov(s,r[h],a)}return new je({points:s,options:{}})}function sv(e,t){let i=[],n=e.getMatchingVisibleMetas("line");for(let s=0;s<n.length;s++){let o=n[s];if(o.index===t)break;o.hidden||i.unshift(o.dataset)}return i}function ov(e,t,i){let n=[];for(let s=0;s<i.length;s++){let o=i[s],{first:r,last:a,point:l}=rv(o,t,"x");if(!(!l||r&&a)){if(r)n.unshift(l);else if(e.push(l),!a)break}}e.push(...n)}function rv(e,t,i){let n=e.interpolate(t,i);if(!n)return{};let s=n[i],o=e.segments,r=e.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let h=o[c],u=r[h.start][i],f=r[h.end][i];if(Ve(s,u,f)){a=s===u,l=s===f;break}}return{first:a,last:l,point:n}}var Er=class{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,i,n){let{x:s,y:o,radius:r}=this;return i=i||{start:0,end:rt},t.arc(s,o,r,i.end,i.start,!0),!n.bounds}interpolate(t){let{x:i,y:n,radius:s}=this,o=t.angle;return{x:i+Math.cos(o)*s,y:n+Math.sin(o)*s,angle:o}}};function av(e){let{chart:t,fill:i,line:n}=e;if(Ot(i))return lv(t,i);if(i==="stack")return nv(e);if(i==="shape")return!0;let s=cv(e);return s instanceof Er?s:ff(s,n)}function lv(e,t){let i=e.getDatasetMeta(t);return i&&e.isDatasetVisible(t)?i.dataset:null}function cv(e){return(e.scale||{}).getPointPositionForValue?uv(e):hv(e)}function hv(e){let{scale:t={},fill:i}=e,n=tv(i,t);if(Ot(n)){let s=t.isHorizontal();return{x:s?n:null,y:s?null:n}}return null}function uv(e){let{scale:t,fill:i}=e,n=t.options,s=t.getLabels().length,o=n.reverse?t.max:t.min,r=ev(i,t,o),a=[];if(n.grid.circular){let l=t.getPointPositionForValue(0,o);return new Er({x:l.x,y:l.y,radius:t.getDistanceFromCenterForValue(r)})}for(let l=0;l<s;++l)a.push(t.getPointPositionForValue(l,r));return a}function Wl(e,t,i){let n=av(t),{line:s,scale:o,axis:r}=t,a=s.options,l=a.fill,c=a.backgroundColor,{above:h=c,below:u=c}=l||{};n&&s.points.length&&(Ks(e,i),dv(e,{line:s,target:n,above:h,below:u,area:i,scale:o,axis:r}),Js(e))}function dv(e,t){let{line:i,target:n,above:s,below:o,area:r,scale:a}=t,l=i._loop?"angle":t.axis;e.save(),l==="x"&&o!==s&&(Ad(e,n,r.top),Id(e,{line:i,target:n,color:s,scale:a,property:l}),e.restore(),e.save(),Ad(e,n,r.bottom)),Id(e,{line:i,target:n,color:o,scale:a,property:l}),e.restore()}function Ad(e,t,i){let{segments:n,points:s}=t,o=!0,r=!1;e.beginPath();for(let a of n){let{start:l,end:c}=a,h=s[l],u=s[ec(l,c,s)];o?(e.moveTo(h.x,h.y),o=!1):(e.lineTo(h.x,i),e.lineTo(h.x,h.y)),r=!!t.pathSegment(e,a,{move:r}),r?e.closePath():e.lineTo(u.x,i)}e.lineTo(t.first().x,i),e.closePath(),e.clip()}function Id(e,t){let{line:i,target:n,property:s,color:o,scale:r}=t,a=G0(i,n,s);for(let{source:l,target:c,start:h,end:u}of a){let{style:{backgroundColor:f=o}={}}=l,m=n!==!0;e.save(),e.fillStyle=f,fv(e,r,m&&Ql(s,h,u)),e.beginPath();let d=!!i.pathSegment(e,l),p;if(m){d?e.closePath():Rd(e,n,u,s);let g=!!n.pathSegment(e,c,{move:d,reverse:!0});p=d&&g,p||Rd(e,n,h,s)}e.closePath(),e.fill(p?"evenodd":"nonzero"),e.restore()}}function fv(e,t,i){let{top:n,bottom:s}=t.chart.chartArea,{property:o,start:r,end:a}=i||{};o==="x"&&(e.beginPath(),e.rect(r,n,a-r,s-n),e.clip())}function Rd(e,t,i,n){let s=t.interpolate(i,n);s&&e.lineTo(s.x,s.y)}var mv={id:"filler",afterDatasetsUpdate(e,t,i){let n=(e.data.datasets||[]).length,s=[],o,r,a,l;for(r=0;r<n;++r)o=e.getDatasetMeta(r),a=o.dataset,l=null,a&&a.options&&a instanceof je&&(l={visible:e.isDatasetVisible(r),index:r,fill:J0(a,r,n),chart:e,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,s.push(l);for(r=0;r<n;++r)l=s[r],!(!l||l.fill===!1)&&(l.fill=K0(s,r,i.propagate))},beforeDraw(e,t,i){let n=i.drawTime==="beforeDraw",s=e.getSortedVisibleDatasetMetas(),o=e.chartArea;for(let r=s.length-1;r>=0;--r){let a=s[r].$filler;!a||(a.line.updateControlPoints(o,a.axis),n&&a.fill&&Wl(e.ctx,a,o))}},beforeDatasetsDraw(e,t,i){if(i.drawTime!=="beforeDatasetsDraw")return;let n=e.getSortedVisibleDatasetMetas();for(let s=n.length-1;s>=0;--s){let o=n[s].$filler;Dd(o)&&Wl(e.ctx,o,e.chartArea)}},beforeDatasetDraw(e,t,i){let n=t.meta.$filler;!Dd(n)||i.drawTime!=="beforeDatasetDraw"||Wl(e.ctx,n,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Fd=(e,t)=>{let{boxHeight:i=t,boxWidth:n=t}=e;return e.usePointStyle&&(i=Math.min(i,t),n=e.pointStyleWidth||Math.min(n,t)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(t,i)}},pv=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index,Lr=class extends le{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i,n){this.maxWidth=t,this.maxHeight=i,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let t=this.options.labels||{},i=ft(t.generateLabels,[this.chart],this)||[];t.filter&&(i=i.filter(n=>t.filter(n,this.chart.data))),t.sort&&(i=i.sort((n,s)=>t.sort(n,s,this.chart.data))),this.options.reverse&&i.reverse(),this.legendItems=i}fit(){let{options:t,ctx:i}=this;if(!t.display){this.width=this.height=0;return}let n=t.labels,s=It(n.font),o=s.size,r=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=Fd(n,o),c,h;i.font=s.string,this.isHorizontal()?(c=this.maxWidth,h=this._fitRows(r,o,a,l)+10):(h=this.maxHeight,c=this._fitCols(r,o,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(h,t.maxHeight||this.maxHeight)}_fitRows(t,i,n,s){let{ctx:o,maxWidth:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],h=s+a,u=t;o.textAlign="left",o.textBaseline="middle";let f=-1,m=-h;return this.legendItems.forEach((d,p)=>{let g=n+i/2+o.measureText(d.text).width;(p===0||c[c.length-1]+g+2*a>r)&&(u+=h,c[c.length-(p>0?0:1)]=0,m+=h,f++),l[p]={left:0,top:m,row:f,width:g,height:s},c[c.length-1]+=g+a}),u}_fitCols(t,i,n,s){let{ctx:o,maxHeight:r,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],h=r-t,u=a,f=0,m=0,d=0,p=0;return this.legendItems.forEach((g,y)=>{let v=n+i/2+o.measureText(g.text).width;y>0&&m+s+2*a>h&&(u+=f+a,c.push({width:f,height:m}),d+=f+a,p++,f=m=0),l[y]={left:d,top:m,col:p,width:v,height:s},f=Math.max(f,v),m+=s+a}),u+=f,c.push({width:f,height:m}),u}adjustHitBoxes(){if(!this.options.display)return;let t=this._computeTitleHeight(),{legendHitBoxes:i,options:{align:n,labels:{padding:s},rtl:o}}=this,r=Gi(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=Vt(n,this.left+s,this.right-this.lineWidths[a]);for(let c of i)a!==c.row&&(a=c.row,l=Vt(n,this.left+s,this.right-this.lineWidths[a])),c.top+=this.top+t+s,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+s}else{let a=0,l=Vt(n,this.top+t+s,this.bottom-this.columnSizes[a].height);for(let c of i)c.col!==a&&(a=c.col,l=Vt(n,this.top+t+s,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+s,c.left=r.leftForLtr(r.x(c.left),c.width),l+=c.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let t=this.ctx;Ks(t,this),this._draw(),Js(t)}}_draw(){let{options:t,columnSizes:i,lineWidths:n,ctx:s}=this,{align:o,labels:r}=t,a=q.color,l=Gi(t.rtl,this.left,this.width),c=It(r.font),{color:h,padding:u}=r,f=c.size,m=f/2,d;this.drawTitle(),s.textAlign=l.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:y}=Fd(r,f),v=function(S,M,k){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;s.save();let j=H(k.lineWidth,1);if(s.fillStyle=H(k.fillStyle,a),s.lineCap=H(k.lineCap,"butt"),s.lineDashOffset=H(k.lineDashOffset,0),s.lineJoin=H(k.lineJoin,"miter"),s.lineWidth=j,s.strokeStyle=H(k.strokeStyle,a),s.setLineDash(H(k.lineDash,[])),r.usePointStyle){let X={radius:g*Math.SQRT2/2,pointStyle:k.pointStyle,rotation:k.rotation,borderWidth:j},Z=l.xPlus(S,p/2),ht=M+m;bl(s,X,Z,ht,r.pointStyleWidth&&p)}else{let X=M+Math.max((f-g)/2,0),Z=l.leftForLtr(S,p),ht=Li(k.borderRadius);s.beginPath(),Object.values(ht).some(At=>At!==0)?Nn(s,{x:Z,y:X,w:p,h:g,radius:ht}):s.rect(Z,X,p,g),s.fill(),j!==0&&s.stroke()}s.restore()},w=function(S,M,k){Ei(s,k.text,S,M+y/2,c,{strikethrough:k.hidden,textAlign:l.textAlign(k.textAlign)})},b=this.isHorizontal(),x=this._computeTitleHeight();b?d={x:Vt(o,this.left+u,this.right-n[0]),y:this.top+u+x,line:0}:d={x:this.left+u,y:Vt(o,this.top+x+u,this.bottom-i[0].height),line:0},kl(this.ctx,t.textDirection);let E=y+u;this.legendItems.forEach((S,M)=>{s.strokeStyle=S.fontColor||h,s.fillStyle=S.fontColor||h;let k=s.measureText(S.text).width,j=l.textAlign(S.textAlign||(S.textAlign=r.textAlign)),X=p+m+k,Z=d.x,ht=d.y;l.setWidth(this.width),b?M>0&&Z+X+u>this.right&&(ht=d.y+=E,d.line++,Z=d.x=Vt(o,this.left+u,this.right-n[d.line])):M>0&&ht+E>this.bottom&&(Z=d.x=Z+i[d.line].width+u,d.line++,ht=d.y=Vt(o,this.top+x+u,this.bottom-i[d.line].height));let At=l.x(Z);v(At,ht,S),Z=zu(j,Z+p+m,b?Z+X:this.right,t.rtl),w(l.x(Z),ht,S),b?d.x+=X+u:d.y+=E}),Ol(this.ctx,t.textDirection)}drawTitle(){let t=this.options,i=t.title,n=It(i.font),s=$t(i.padding);if(!i.display)return;let o=Gi(t.rtl,this.left,this.width),r=this.ctx,a=i.position,l=n.size/2,c=s.top+l,h,u=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+c,u=Vt(t.align,u,this.right-f);else{let d=this.columnSizes.reduce((p,g)=>Math.max(p,g.height),0);h=c+Vt(t.align,this.top,this.bottom-d-t.labels.padding-this._computeTitleHeight())}let m=Vt(a,u,u+f);r.textAlign=o.textAlign(lr(a)),r.textBaseline="middle",r.strokeStyle=i.color,r.fillStyle=i.color,r.font=n.string,Ei(r,i.text,m,h,n)}_computeTitleHeight(){let t=this.options.title,i=It(t.font),n=$t(t.padding);return t.display?i.lineHeight+n.height:0}_getLegendItemAt(t,i){let n,s,o;if(Ve(t,this.left,this.right)&&Ve(i,this.top,this.bottom)){for(o=this.legendHitBoxes,n=0;n<o.length;++n)if(s=o[n],Ve(t,s.left,s.left+s.width)&&Ve(i,s.top,s.top+s.height))return this.legendItems[n]}return null}handleEvent(t){let i=this.options;if(!gv(t.type,i))return;let n=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){let s=this._hoveredItem,o=pv(s,n);s&&!o&&ft(i.onLeave,[t,s,this],this),this._hoveredItem=n,n&&!o&&ft(i.onHover,[t,n,this],this)}else n&&ft(i.onClick,[t,n,this],this)}};function gv(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var _v={id:"legend",_element:Lr,start(e,t,i){let n=e.legend=new Lr({ctx:e.ctx,options:i,chart:e});jt.configure(e,n,i),jt.addBox(e,n)},stop(e){jt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,i){let n=e.legend;jt.configure(e,n,i),n.options=i},afterUpdate(e){let t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,i){let n=t.datasetIndex,s=i.chart;s.isDatasetVisible(n)?(s.hide(n),t.hidden=!0):(s.show(n),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){let t=e.data.datasets,{labels:{usePointStyle:i,pointStyle:n,textAlign:s,color:o}}=e.legend.options;return e._getSortedDatasetMetas().map(r=>{let a=r.controller.getStyle(i?0:void 0),l=$t(a.borderWidth);return{text:t[r.index].label,fillStyle:a.backgroundColor,fontColor:o,hidden:!r.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:n||a.pointStyle,rotation:a.rotation,textAlign:s||a.textAlign,borderRadius:0,datasetIndex:r.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}},co=class extends le{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,i){let n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=i;let s=dt(n.text)?n.text.length:1;this._padding=$t(n.padding);let o=s*It(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){let{top:i,left:n,bottom:s,right:o,options:r}=this,a=r.align,l=0,c,h,u;return this.isHorizontal()?(h=Vt(a,n,o),u=i+t,c=o-n):(r.position==="left"?(h=n+t,u=Vt(a,s,i),l=gt*-.5):(h=o-t,u=Vt(a,i,s),l=gt*.5),c=s-i),{titleX:h,titleY:u,maxWidth:c,rotation:l}}draw(){let t=this.ctx,i=this.options;if(!i.display)return;let n=It(i.font),o=n.lineHeight/2+this._padding.top,{titleX:r,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Ei(t,i.text,0,0,n,{color:i.color,maxWidth:l,rotation:c,textAlign:lr(i.align),textBaseline:"middle",translation:[r,a]})}};function yv(e,t){let i=new co({ctx:e.ctx,options:t,chart:e});jt.configure(e,i,t),jt.addBox(e,i),e.titleBlock=i}var vv={id:"title",_element:co,start(e,t,i){yv(e,i)},stop(e){let t=e.titleBlock;jt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,i){let n=e.titleBlock;jt.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},yr=new WeakMap,bv={id:"subtitle",start(e,t,i){let n=new co({ctx:e.ctx,options:i,chart:e});jt.configure(e,n,i),jt.addBox(e,n),yr.set(e,n)},stop(e){jt.removeBox(e,yr.get(e)),yr.delete(e)},beforeUpdate(e,t,i){let n=yr.get(e);jt.configure(e,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},oo={average(e){if(!e.length)return!1;let t,i,n=0,s=0,o=0;for(t=0,i=e.length;t<i;++t){let r=e[t].element;if(r&&r.hasValue()){let a=r.tooltipPosition();n+=a.x,s+=a.y,++o}}return{x:n/o,y:s/o}},nearest(e,t){if(!e.length)return!1;let i=t.x,n=t.y,s=Number.POSITIVE_INFINITY,o,r,a;for(o=0,r=e.length;o<r;++o){let l=e[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),h=nr(t,c);h<s&&(s=h,a=l)}}if(a){let l=a.tooltipPosition();i=l.x,n=l.y}return{x:i,y:n}}};function $e(e,t){return t&&(dt(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function hi(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function xv(e,t){let{element:i,datasetIndex:n,index:s}=t,o=e.getDatasetMeta(n).controller,{label:r,value:a}=o.getLabelAndValue(s);return{chart:e,label:r,parsed:o.getParsed(s),raw:e.data.datasets[n].data[s],formattedValue:a,dataset:o.getDataset(),dataIndex:s,datasetIndex:n,element:i}}function zd(e,t){let i=e.chart.ctx,{body:n,footer:s,title:o}=e,{boxWidth:r,boxHeight:a}=t,l=It(t.bodyFont),c=It(t.titleFont),h=It(t.footerFont),u=o.length,f=s.length,m=n.length,d=$t(t.padding),p=d.height,g=0,y=n.reduce((b,x)=>b+x.before.length+x.lines.length+x.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,u&&(p+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),y){let b=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;p+=m*b+(y-m)*l.lineHeight+(y-1)*t.bodySpacing}f&&(p+=t.footerMarginTop+f*h.lineHeight+(f-1)*t.footerSpacing);let v=0,w=function(b){g=Math.max(g,i.measureText(b).width+v)};return i.save(),i.font=c.string,st(e.title,w),i.font=l.string,st(e.beforeBody.concat(e.afterBody),w),v=t.displayColors?r+2+t.boxPadding:0,st(n,b=>{st(b.before,w),st(b.lines,w),st(b.after,w)}),v=0,i.font=h.string,st(e.footer,w),i.restore(),g+=d.width,{width:g,height:p}}function wv(e,t){let{y:i,height:n}=t;return i<n/2?"top":i>e.height-n/2?"bottom":"center"}function Tv(e,t,i,n){let{x:s,width:o}=n,r=i.caretSize+i.caretPadding;if(e==="left"&&s+o+r>t.width||e==="right"&&s-o-r<0)return!0}function Mv(e,t,i,n){let{x:s,width:o}=i,{width:r,chartArea:{left:a,right:l}}=e,c="center";return n==="center"?c=s<=(a+l)/2?"left":"right":s<=o/2?c="left":s>=r-o/2&&(c="right"),Tv(c,e,t,i)&&(c="center"),c}function Bd(e,t,i){let n=i.yAlign||t.yAlign||wv(e,i);return{xAlign:i.xAlign||t.xAlign||Mv(e,t,i,n),yAlign:n}}function Sv(e,t){let{x:i,width:n}=e;return t==="right"?i-=n:t==="center"&&(i-=n/2),i}function Ev(e,t,i){let{y:n,height:s}=e;return t==="top"?n+=i:t==="bottom"?n-=s+i:n-=s/2,n}function Nd(e,t,i,n){let{caretSize:s,caretPadding:o,cornerRadius:r}=e,{xAlign:a,yAlign:l}=i,c=s+o,{topLeft:h,topRight:u,bottomLeft:f,bottomRight:m}=Li(r),d=Sv(t,a),p=Ev(t,l,c);return l==="center"?a==="left"?d+=c:a==="right"&&(d-=c):a==="left"?d-=Math.max(h,f)+s:a==="right"&&(d+=Math.max(u,m)+s),{x:Bt(d,0,n.width-t.width),y:Bt(p,0,n.height-t.height)}}function vr(e,t,i){let n=$t(i.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-n.right:e.x+n.left}function Hd(e){return $e([],hi(e))}function Lv(e,t,i){return li(e,{tooltip:t,tooltipItems:i,type:"tooltip"})}function Wd(e,t){let i=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return i?e.override(i):e}var ho=class extends le{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart||t._chart,this._chart=this.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let t=this._cachedAnimations;if(t)return t;let i=this.chart,n=this.options.setContext(this.getContext()),s=n.enabled&&i.options.animation&&n.animations,o=new wr(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=Lv(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,i){let{callbacks:n}=i,s=n.beforeTitle.apply(this,[t]),o=n.title.apply(this,[t]),r=n.afterTitle.apply(this,[t]),a=[];return a=$e(a,hi(s)),a=$e(a,hi(o)),a=$e(a,hi(r)),a}getBeforeBody(t,i){return Hd(i.callbacks.beforeBody.apply(this,[t]))}getBody(t,i){let{callbacks:n}=i,s=[];return st(t,o=>{let r={before:[],lines:[],after:[]},a=Wd(n,o);$e(r.before,hi(a.beforeLabel.call(this,o))),$e(r.lines,a.label.call(this,o)),$e(r.after,hi(a.afterLabel.call(this,o))),s.push(r)}),s}getAfterBody(t,i){return Hd(i.callbacks.afterBody.apply(this,[t]))}getFooter(t,i){let{callbacks:n}=i,s=n.beforeFooter.apply(this,[t]),o=n.footer.apply(this,[t]),r=n.afterFooter.apply(this,[t]),a=[];return a=$e(a,hi(s)),a=$e(a,hi(o)),a=$e(a,hi(r)),a}_createItems(t){let i=this._active,n=this.chart.data,s=[],o=[],r=[],a=[],l,c;for(l=0,c=i.length;l<c;++l)a.push(xv(this.chart,i[l]));return t.filter&&(a=a.filter((h,u,f)=>t.filter(h,u,f,n))),t.itemSort&&(a=a.sort((h,u)=>t.itemSort(h,u,n))),st(a,h=>{let u=Wd(t.callbacks,h);s.push(u.labelColor.call(this,h)),o.push(u.labelPointStyle.call(this,h)),r.push(u.labelTextColor.call(this,h))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=r,this.dataPoints=a,a}update(t,i){let n=this.options.setContext(this.getContext()),s=this._active,o,r=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let a=oo[n.position].call(this,s,this._eventPosition);r=this._createItems(n),this.title=this.getTitle(r,n),this.beforeBody=this.getBeforeBody(r,n),this.body=this.getBody(r,n),this.afterBody=this.getAfterBody(r,n),this.footer=this.getFooter(r,n);let l=this._size=zd(this,n),c=Object.assign({},a,l),h=Bd(this.chart,n,c),u=Nd(n,c,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,o={opacity:1,x:u.x,y:u.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=r,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(t,i,n,s){let o=this.getCaretPosition(t,n,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(t,i,n){let{xAlign:s,yAlign:o}=this,{caretSize:r,cornerRadius:a}=n,{topLeft:l,topRight:c,bottomLeft:h,bottomRight:u}=Li(a),{x:f,y:m}=t,{width:d,height:p}=i,g,y,v,w,b,x;return o==="center"?(b=m+p/2,s==="left"?(g=f,y=g-r,w=b+r,x=b-r):(g=f+d,y=g+r,w=b-r,x=b+r),v=g):(s==="left"?y=f+Math.max(l,h)+r:s==="right"?y=f+d-Math.max(c,u)-r:y=this.caretX,o==="top"?(w=m,b=w-r,g=y-r,v=y+r):(w=m+p,b=w+r,g=y+r,v=y-r),x=w),{x1:g,x2:y,x3:v,y1:w,y2:b,y3:x}}drawTitle(t,i,n){let s=this.title,o=s.length,r,a,l;if(o){let c=Gi(n.rtl,this.x,this.width);for(t.x=vr(this,n.titleAlign,n),i.textAlign=c.textAlign(n.titleAlign),i.textBaseline="middle",r=It(n.titleFont),a=n.titleSpacing,i.fillStyle=n.titleColor,i.font=r.string,l=0;l<o;++l)i.fillText(s[l],c.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+a,l+1===o&&(t.y+=n.titleMarginBottom-a)}}_drawColorBox(t,i,n,s,o){let r=this.labelColors[n],a=this.labelPointStyles[n],{boxHeight:l,boxWidth:c,boxPadding:h}=o,u=It(o.bodyFont),f=vr(this,"left",o),m=s.x(f),d=l<u.lineHeight?(u.lineHeight-l)/2:0,p=i.y+d;if(o.usePointStyle){let g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},y=s.leftForLtr(m,c)+c/2,v=p+l/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,hr(t,g,y,v),t.strokeStyle=r.borderColor,t.fillStyle=r.backgroundColor,hr(t,g,y,v)}else{t.lineWidth=Y(r.borderWidth)?Math.max(...Object.values(r.borderWidth)):r.borderWidth||1,t.strokeStyle=r.borderColor,t.setLineDash(r.borderDash||[]),t.lineDashOffset=r.borderDashOffset||0;let g=s.leftForLtr(m,c-h),y=s.leftForLtr(s.xPlus(m,1),c-h-2),v=Li(r.borderRadius);Object.values(v).some(w=>w!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Nn(t,{x:g,y:p,w:c,h:l,radius:v}),t.fill(),t.stroke(),t.fillStyle=r.backgroundColor,t.beginPath(),Nn(t,{x:y,y:p+1,w:c-2,h:l-2,radius:v}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(g,p,c,l),t.strokeRect(g,p,c,l),t.fillStyle=r.backgroundColor,t.fillRect(y,p+1,c-2,l-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,i,n){let{body:s}=this,{bodySpacing:o,bodyAlign:r,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:h}=n,u=It(n.bodyFont),f=u.lineHeight,m=0,d=Gi(n.rtl,this.x,this.width),p=function(M){i.fillText(M,d.x(t.x+m),t.y+f/2),t.y+=f+o},g=d.textAlign(r),y,v,w,b,x,E,S;for(i.textAlign=r,i.textBaseline="middle",i.font=u.string,t.x=vr(this,g,n),i.fillStyle=n.bodyColor,st(this.beforeBody,p),m=a&&g!=="right"?r==="center"?c/2+h:c+2+h:0,b=0,E=s.length;b<E;++b){for(y=s[b],v=this.labelTextColors[b],i.fillStyle=v,st(y.before,p),w=y.lines,a&&w.length&&(this._drawColorBox(i,t,b,d,n),f=Math.max(u.lineHeight,l)),x=0,S=w.length;x<S;++x)p(w[x]),f=u.lineHeight;st(y.after,p)}m=0,f=u.lineHeight,st(this.afterBody,p),t.y-=o}drawFooter(t,i,n){let s=this.footer,o=s.length,r,a;if(o){let l=Gi(n.rtl,this.x,this.width);for(t.x=vr(this,n.footerAlign,n),t.y+=n.footerMarginTop,i.textAlign=l.textAlign(n.footerAlign),i.textBaseline="middle",r=It(n.footerFont),i.fillStyle=n.footerColor,i.font=r.string,a=0;a<o;++a)i.fillText(s[a],l.x(t.x),t.y+r.lineHeight/2),t.y+=r.lineHeight+n.footerSpacing}}drawBackground(t,i,n,s){let{xAlign:o,yAlign:r}=this,{x:a,y:l}=t,{width:c,height:h}=n,{topLeft:u,topRight:f,bottomLeft:m,bottomRight:d}=Li(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(a+u,l),r==="top"&&this.drawCaret(t,i,n,s),i.lineTo(a+c-f,l),i.quadraticCurveTo(a+c,l,a+c,l+f),r==="center"&&o==="right"&&this.drawCaret(t,i,n,s),i.lineTo(a+c,l+h-d),i.quadraticCurveTo(a+c,l+h,a+c-d,l+h),r==="bottom"&&this.drawCaret(t,i,n,s),i.lineTo(a+m,l+h),i.quadraticCurveTo(a,l+h,a,l+h-m),r==="center"&&o==="left"&&this.drawCaret(t,i,n,s),i.lineTo(a,l+u),i.quadraticCurveTo(a,l,a+u,l),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(t){let i=this.chart,n=this.$animations,s=n&&n.x,o=n&&n.y;if(s||o){let r=oo[t.position].call(this,this._active,this._eventPosition);if(!r)return;let a=this._size=zd(this,t),l=Object.assign({},r,this._size),c=Bd(i,t,l),h=Nd(t,l,c,i);(s._to!==h.x||o._to!==h.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=r.x,this.caretY=r.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(t){let i=this.options.setContext(this.getContext()),n=this.opacity;if(!n)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;let r=$t(i.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&a&&(t.save(),t.globalAlpha=n,this.drawBackground(o,t,s,i),kl(t,i.textDirection),o.y+=r.top,this.drawTitle(o,t,i),this.drawBody(o,t,i),this.drawFooter(o,t,i),Ol(t,i.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,i){let n=this._active,s=t.map(({datasetIndex:a,index:l})=>{let c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),o=!Gs(n,s),r=this._positionChanged(s,i);(o||r)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,i,n=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],r=this._getActiveElements(t,o,i,n),a=this._positionChanged(r,t),l=i||!Gs(r,o)||a;return l&&(this._active=r,(s.enabled||s.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,i))),l}_getActiveElements(t,i,n,s){let o=this.options;if(t.type==="mouseout")return[];if(!s)return i;let r=this.chart.getElementsAtEventForMode(t,o.mode,o,n);return o.reverse&&r.reverse(),r}_positionChanged(t,i){let{caretX:n,caretY:s,options:o}=this,r=oo[o.position].call(this,t,i);return r!==!1&&(n!==r.x||s!==r.y)}};ho.positioners=oo;var Pv={id:"tooltip",_element:ho,positioners:oo,afterInit(e,t,i){i&&(e.tooltip=new ho({chart:e,options:i}))},beforeUpdate(e,t,i){e.tooltip&&e.tooltip.initialize(i)},reset(e,t,i){e.tooltip&&e.tooltip.initialize(i)},afterDraw(e){let t=e.tooltip;if(t&&t._willRender()){let i={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",i)===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",i)}},afterEvent(e,t){if(e.tooltip){let i=t.replay;e.tooltip.handleEvent(t.event,i,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:Ze,title(e){if(e.length>0){let t=e[0],i=t.chart.data.labels,n=i?i.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(n>0&&t.dataIndex<n)return i[t.dataIndex]}return""},afterTitle:Ze,beforeBody:Ze,beforeLabel:Ze,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");let i=e.formattedValue;return K(i)||(t+=i),t},labelColor(e){let i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:i.borderColor,backgroundColor:i.backgroundColor,borderWidth:i.borderWidth,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){let i=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:i.pointStyle,rotation:i.rotation}},afterLabel:Ze,afterBody:Ze,beforeFooter:Ze,footer:Ze,afterFooter:Ze}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},kv=Object.freeze({__proto__:null,Decimation:q0,Filler:mv,Legend:_v,SubTitle:bv,Title:vv,Tooltip:Pv}),Ov=(e,t,i,n)=>(typeof t=="string"?(i=e.push(t)-1,n.unshift({index:i,label:t})):isNaN(t)&&(i=null),i);function Cv(e,t,i,n){let s=e.indexOf(t);if(s===-1)return Ov(e,t,i,n);let o=e.lastIndexOf(t);return s!==o?i:s}var Dv=(e,t)=>e===null?null:Bt(Math.round(e),0,t),Qn=class extends ui{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){let i=this._addedLabels;if(i.length){let n=this.getLabels();for(let{index:s,label:o}of i)n[s]===o&&n.splice(s,1);this._addedLabels=[]}super.init(t)}parse(t,i){if(K(t))return null;let n=this.getLabels();return i=isFinite(i)&&n[i]===t?i:Cv(n,t,H(i,t),this._addedLabels),Dv(i,n.length-1)}determineDataLimits(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),{min:n,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(n=0),i||(s=this.getLabels().length-1)),this.min=n,this.max=s}buildTicks(){let t=this.min,i=this.max,n=this.options.offset,s=[],o=this.getLabels();o=t===0&&i===o.length-1?o:o.slice(t,i+1),this._valueRange=Math.max(o.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let r=t;r<=i;r++)s.push({value:r});return s}getLabelForValue(t){let i=this.getLabels();return t>=0&&t<i.length?i[t]:t}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){let i=this.ticks;return t<0||t>i.length-1?null:this.getPixelForValue(i[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}};Qn.id="category";Qn.defaults={ticks:{callback:Qn.prototype.getLabelForValue}};function Av(e,t){let i=[],{bounds:s,step:o,min:r,max:a,precision:l,count:c,maxTicks:h,maxDigits:u,includeBounds:f}=e,m=o||1,d=h-1,{min:p,max:g}=t,y=!K(r),v=!K(a),w=!K(c),b=(g-p)/(u+1),x=ol((g-p)/d/m)*m,E,S,M,k;if(x<1e-14&&!y&&!v)return[{value:p},{value:g}];k=Math.ceil(g/x)-Math.floor(p/x),k>d&&(x=ol(k*x/d/m)*m),K(l)||(E=Math.pow(10,l),x=Math.ceil(x*E)/E),s==="ticks"?(S=Math.floor(p/x)*x,M=Math.ceil(g/x)*x):(S=p,M=g),y&&v&&o&&Ou((a-r)/o,x/1e3)?(k=Math.round(Math.min((a-r)/x,h)),x=(a-r)/k,S=r,M=a):w?(S=y?r:S,M=v?a:M,k=c-1,x=(M-S)/k):(k=(M-S)/x,zn(k,Math.round(k),x/1e3)?k=Math.round(k):k=Math.ceil(k));let j=Math.max(al(x),al(S));E=Math.pow(10,K(l)?j:l),S=Math.round(S*E)/E,M=Math.round(M*E)/E;let X=0;for(y&&(f&&S!==r?(i.push({value:r}),S<r&&X++,zn(Math.round((S+X*x)*E)/E,r,Zd(r,b,e))&&X++):S<r&&X++);X<k;++X)i.push({value:Math.round((S+X*x)*E)/E});return v&&f&&M!==a?i.length&&zn(i[i.length-1].value,a,Zd(a,b,e))?i[i.length-1].value=a:i.push({value:a}):(!v||M===a)&&i.push({value:M}),i}function Zd(e,t,{horizontal:i,minRotation:n}){let s=ge(n),o=(i?Math.sin(s):Math.cos(s))||.001,r=.75*t*(""+e).length;return Math.min(t/o,r)}var ts=class extends ui{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,i){return K(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){let{beginAtZero:t}=this.options,{minDefined:i,maxDefined:n}=this.getUserBounds(),{min:s,max:o}=this,r=l=>s=i?s:l,a=l=>o=n?o:l;if(t){let l=ke(s),c=ke(o);l<0&&c<0?a(0):l>0&&c>0&&r(0)}if(s===o){let l=1;(o>=Number.MAX_SAFE_INTEGER||s<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(o*.05)),a(o+l),t||r(s-l)}this.min=s,this.max=o}getTickLimit(){let t=this.options.ticks,{maxTicksLimit:i,stepSize:n}=t,s;return n?(s=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),i=i||11),i&&(s=Math.min(i,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let t=this.options,i=t.ticks,n=this.getTickLimit();n=Math.max(2,n);let s={maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:i.precision,step:i.stepSize,count:i.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:i.minRotation||0,includeBounds:i.includeBounds!==!1},o=this._range||this,r=Av(s,o);return t.bounds==="ticks"&&rl(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){let t=this.ticks,i=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){let s=(n-i)/Math.max(t.length-1,1)/2;i-=s,n+=s}this._startValue=i,this._endValue=n,this._valueRange=n-i}getLabelForValue(t){return Wn(t,this.chart.options.locale,this.options.ticks.format)}},uo=class extends ts{determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=Ot(t)?t:0,this.max=Ot(i)?i:1,this.handleTickRangeOptions()}computeTickLimit(){let t=this.isHorizontal(),i=t?this.width:this.height,n=ge(this.options.ticks.minRotation),s=(t?Math.sin(n):Math.cos(n))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(i/Math.min(40,o.lineHeight/s))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}};uo.id="linear";uo.defaults={ticks:{callback:Pr.formatters.numeric}};function Vd(e){return e/Math.pow(10,Math.floor(re(e)))===1}function Iv(e,t){let i=Math.floor(re(t.max)),n=Math.ceil(t.max/Math.pow(10,i)),s=[],o=oe(e.min,Math.pow(10,Math.floor(re(t.min)))),r=Math.floor(re(o)),a=Math.floor(o/Math.pow(10,r)),l=r<0?Math.pow(10,Math.abs(r)):1;do s.push({value:o,major:Vd(o)}),++a,a===10&&(a=1,++r,l=r>=0?1:l),o=Math.round(a*Math.pow(10,r)*l)/l;while(r<i||r===i&&a<n);let c=oe(e.max,o);return s.push({value:c,major:Vd(o)}),s}var fo=class extends ui{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,i){let n=ts.prototype.parse.apply(this,[t,i]);if(n===0){this._zero=!0;return}return Ot(n)&&n>0?n:null}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!0);this.min=Ot(t)?Math.max(0,t):null,this.max=Ot(i)?Math.max(0,i):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:t,maxDefined:i}=this.getUserBounds(),n=this.min,s=this.max,o=l=>n=t?n:l,r=l=>s=i?s:l,a=(l,c)=>Math.pow(10,Math.floor(re(l))+c);n===s&&(n<=0?(o(1),r(10)):(o(a(n,-1)),r(a(s,1)))),n<=0&&o(a(s,-1)),s<=0&&r(a(n,1)),this._zero&&this.min!==this._suggestedMin&&n===a(this.min,0)&&o(a(n,-1)),this.min=n,this.max=s}buildTicks(){let t=this.options,i={min:this._userMin,max:this._userMax},n=Iv(i,this);return t.bounds==="ticks"&&rl(n,this,"value"),t.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(t){return t===void 0?"0":Wn(t,this.chart.options.locale,this.options.ticks.format)}configure(){let t=this.min;super.configure(),this._startValue=re(t),this._valueRange=re(this.max)-re(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(re(t)-this._startValue)/this._valueRange)}getValueForPixel(t){let i=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+i*this._valueRange)}};fo.id="logarithmic";fo.defaults={ticks:{callback:Pr.formatters.logarithmic,major:{enabled:!0}}};function tc(e){let t=e.ticks;if(t.display&&e.display){let i=$t(t.backdropPadding);return H(t.font&&t.font.size,q.font.size)+i.height}return 0}function Rv(e,t,i){return i=dt(i)?i:[i],{w:Vu(e,t.string,i),h:i.length*t.lineHeight}}function $d(e,t,i,n,s){return e===n||e===s?{start:t-i/2,end:t+i/2}:e<n||e>s?{start:t-i,end:t}:{start:t,end:t+i}}function Fv(e){let t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},i=Object.assign({},t),n=[],s=[],o=e._pointLabels.length,r=e.options.pointLabels,a=r.centerPointLabels?gt/o:0;for(let l=0;l<o;l++){let c=r.setContext(e.getPointLabelContext(l));s[l]=c.padding;let h=e.getPointPosition(l,e.drawingArea+s[l],a),u=It(c.font),f=Rv(e.ctx,u,e._pointLabels[l]);n[l]=f;let m=Kt(e.getIndexAngle(l)+a),d=Math.round(rr(m)),p=$d(d,h.x,f.w,0,180),g=$d(d,h.y,f.h,90,270);zv(i,t,m,p,g)}e.setCenterPoint(t.l-i.l,i.r-t.r,t.t-i.t,i.b-t.b),e._pointLabelItems=Bv(e,n,s)}function zv(e,t,i,n,s){let o=Math.abs(Math.sin(i)),r=Math.abs(Math.cos(i)),a=0,l=0;n.start<t.l?(a=(t.l-n.start)/o,e.l=Math.min(e.l,t.l-a)):n.end>t.r&&(a=(n.end-t.r)/o,e.r=Math.max(e.r,t.r+a)),s.start<t.t?(l=(t.t-s.start)/r,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/r,e.b=Math.max(e.b,t.b+l))}function Bv(e,t,i){let n=[],s=e._pointLabels.length,o=e.options,r=tc(o)/2,a=e.drawingArea,l=o.pointLabels.centerPointLabels?gt/s:0;for(let c=0;c<s;c++){let h=e.getPointPosition(c,a+r+i[c],l),u=Math.round(rr(Kt(h.angle+Mt))),f=t[c],m=Wv(h.y,f.h,u),d=Nv(u),p=Hv(h.x,f.w,d);n.push({x:h.x,y:m,textAlign:d,left:p,top:m,right:p+f.w,bottom:m+f.h})}return n}function Nv(e){return e===0||e===180?"center":e<180?"left":"right"}function Hv(e,t,i){return i==="right"?e-=t:i==="center"&&(e-=t/2),e}function Wv(e,t,i){return i===90||i===270?e-=t/2:(i>270||i<90)&&(e-=t),e}function Zv(e,t){let{ctx:i,options:{pointLabels:n}}=e;for(let s=t-1;s>=0;s--){let o=n.setContext(e.getPointLabelContext(s)),r=It(o.font),{x:a,y:l,textAlign:c,left:h,top:u,right:f,bottom:m}=e._pointLabelItems[s],{backdropColor:d}=o;if(!K(d)){let p=Li(o.borderRadius),g=$t(o.backdropPadding);i.fillStyle=d;let y=h-g.left,v=u-g.top,w=f-h+g.width,b=m-u+g.height;Object.values(p).some(x=>x!==0)?(i.beginPath(),Nn(i,{x:y,y:v,w,h:b,radius:p}),i.fill()):i.fillRect(y,v,w,b)}Ei(i,e._pointLabels[s],a,l+r.lineHeight/2,r,{color:o.color,textAlign:c,textBaseline:"middle"})}}function mf(e,t,i,n){let{ctx:s}=e;if(i)s.arc(e.xCenter,e.yCenter,t,0,rt);else{let o=e.getPointPosition(0,t);s.moveTo(o.x,o.y);for(let r=1;r<n;r++)o=e.getPointPosition(r,t),s.lineTo(o.x,o.y)}}function Vv(e,t,i,n){let s=e.ctx,o=t.circular,{color:r,lineWidth:a}=t;!o&&!n||!r||!a||i<0||(s.save(),s.strokeStyle=r,s.lineWidth=a,s.setLineDash(t.borderDash),s.lineDashOffset=t.borderDashOffset,s.beginPath(),mf(e,i,o,n),s.closePath(),s.stroke(),s.restore())}function $v(e,t,i){return li(e,{label:i,index:t,type:"pointLabel"})}var Ji=class extends ts{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let t=this._padding=$t(tc(this.options)/2),i=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+i/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(i,n)/2)}determineDataLimits(){let{min:t,max:i}=this.getMinMax(!1);this.min=Ot(t)&&!isNaN(t)?t:0,this.max=Ot(i)&&!isNaN(i)?i:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/tc(this.options))}generateTickLabels(t){ts.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((i,n)=>{let s=ft(this.options.pointLabels.callback,[i,n],this);return s||s===0?s:""}).filter((i,n)=>this.chart.getDataVisibility(n))}fit(){let t=this.options;t.display&&t.pointLabels.display?Fv(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,i,n,s){this.xCenter+=Math.floor((t-i)/2),this.yCenter+=Math.floor((n-s)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,i,n,s))}getIndexAngle(t){let i=rt/(this._pointLabels.length||1),n=this.options.startAngle||0;return Kt(t*i+ge(n))}getDistanceFromCenterForValue(t){if(K(t))return NaN;let i=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*i:(t-this.min)*i}getValueForDistanceFromCenter(t){if(K(t))return NaN;let i=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-i:this.min+i}getPointLabelContext(t){let i=this._pointLabels||[];if(t>=0&&t<i.length){let n=i[t];return $v(this.getContext(),t,n)}}getPointPosition(t,i,n=0){let s=this.getIndexAngle(t)-Mt+n;return{x:Math.cos(s)*i+this.xCenter,y:Math.sin(s)*i+this.yCenter,angle:s}}getPointPositionForValue(t,i){return this.getPointPosition(t,this.getDistanceFromCenterForValue(i))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){let{left:i,top:n,right:s,bottom:o}=this._pointLabelItems[t];return{left:i,top:n,right:s,bottom:o}}drawBackground(){let{backgroundColor:t,grid:{circular:i}}=this.options;if(t){let n=this.ctx;n.save(),n.beginPath(),mf(this,this.getDistanceFromCenterForValue(this._endValue),i,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){let t=this.ctx,i=this.options,{angleLines:n,grid:s}=i,o=this._pointLabels.length,r,a,l;if(i.pointLabels.display&&Zv(this,o),s.display&&this.ticks.forEach((c,h)=>{if(h!==0){a=this.getDistanceFromCenterForValue(c.value);let u=s.setContext(this.getContext(h-1));Vv(this,u,a,o)}}),n.display){for(t.save(),r=o-1;r>=0;r--){let c=n.setContext(this.getPointLabelContext(r)),{color:h,lineWidth:u}=c;!u||!h||(t.lineWidth=u,t.strokeStyle=h,t.setLineDash(c.borderDash),t.lineDashOffset=c.borderDashOffset,a=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),l=this.getPointPosition(r,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){let t=this.ctx,i=this.options,n=i.ticks;if(!n.display)return;let s=this.getIndexAngle(0),o,r;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(s),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&!i.reverse)return;let c=n.setContext(this.getContext(l)),h=It(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){t.font=h.string,r=t.measureText(a.label).width,t.fillStyle=c.backdropColor;let u=$t(c.backdropPadding);t.fillRect(-r/2-u.left,-o-h.size/2-u.top,r+u.width,h.size+u.height)}Ei(t,a.label,0,-o,h,{color:c.color})}),t.restore()}drawTitle(){}};Ji.id="radialLinear";Ji.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pr.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};Ji.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};Ji.descriptors={angleLines:{_fallback:"grid"}};var kr={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jt=Object.keys(kr);function Uv(e,t){return e-t}function Ud(e,t){if(K(t))return null;let i=e._adapter,{parser:n,round:s,isoWeekday:o}=e._parseOpts,r=t;return typeof n=="function"&&(r=n(r)),Ot(r)||(r=typeof n=="string"?i.parse(r,n):i.parse(r)),r===null?null:(s&&(r=s==="week"&&(qi(o)||o===!0)?i.startOf(r,"isoWeek",o):i.startOf(r,s)),+r)}function jd(e,t,i,n){let s=Jt.length;for(let o=Jt.indexOf(e);o<s-1;++o){let r=kr[Jt[o]],a=r.steps?r.steps:Number.MAX_SAFE_INTEGER;if(r.common&&Math.ceil((i-t)/(a*r.size))<=n)return Jt[o]}return Jt[s-1]}function jv(e,t,i,n,s){for(let o=Jt.length-1;o>=Jt.indexOf(i);o--){let r=Jt[o];if(kr[r].common&&e._adapter.diff(s,n,r)>=t-1)return r}return Jt[i?Jt.indexOf(i):0]}function Yv(e){for(let t=Jt.indexOf(e)+1,i=Jt.length;t<i;++t)if(kr[Jt[t]].common)return Jt[t]}function Yd(e,t,i){if(!i)e[t]=!0;else if(i.length){let{lo:n,hi:s}=ar(i,t),o=i[n]>=t?i[n]:i[s];e[o]=!0}}function qv(e,t,i,n){let s=e._adapter,o=+s.startOf(t[0].value,n),r=t[t.length-1].value,a,l;for(a=o;a<=r;a=+s.add(a,1,n))l=i[a],l>=0&&(t[l].major=!0);return t}function qd(e,t,i){let n=[],s={},o=t.length,r,a;for(r=0;r<o;++r)a=t[r],s[a]=r,n.push({value:a,major:!1});return o===0||!i?n:qv(e,n,s,i)}var Qi=class extends ui{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,i){let n=t.time||(t.time={}),s=this._adapter=new By._date(t.adapters.date);s.init(i),Fn(n.displayFormats,s.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=i.normalized}parse(t,i){return t===void 0?null:Ud(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let t=this.options,i=this._adapter,n=t.time.unit||"day",{min:s,max:o,minDefined:r,maxDefined:a}=this.getUserBounds();function l(c){!r&&!isNaN(c.min)&&(s=Math.min(s,c.min)),!a&&!isNaN(c.max)&&(o=Math.max(o,c.max))}(!r||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),s=Ot(s)&&!isNaN(s)?s:+i.startOf(Date.now(),n),o=Ot(o)&&!isNaN(o)?o:+i.endOf(Date.now(),n)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let t=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(i=t[0],n=t[t.length-1]),{min:i,max:n}}buildTicks(){let t=this.options,i=t.time,n=t.ticks,s=n.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,r=this.max,a=Au(s,o,r);return this._unit=i.unit||(n.autoSkip?jd(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):jv(this,a.length,i.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Yv(this._unit),this.initOffsets(s),t.reverse&&a.reverse(),qd(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t){let i=0,n=0,s,o;this.options.offset&&t.length&&(s=this.getDecimalForValue(t[0]),t.length===1?i=1-s:i=(this.getDecimalForValue(t[1])-s)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?n=o:n=(o-this.getDecimalForValue(t[t.length-2]))/2);let r=t.length<3?.5:.25;i=Bt(i,0,r),n=Bt(n,0,r),this._offsets={start:i,end:n,factor:1/(i+1+n)}}_generate(){let t=this._adapter,i=this.min,n=this.max,s=this.options,o=s.time,r=o.unit||jd(o.minUnit,i,n,this._getLabelCapacity(i)),a=H(o.stepSize,1),l=r==="week"?o.isoWeekday:!1,c=qi(l)||l===!0,h={},u=i,f,m;if(c&&(u=+t.startOf(u,"isoWeek",l)),u=+t.startOf(u,c?"day":r),t.diff(n,i,r)>1e5*a)throw new Error(i+" and "+n+" are too far apart with stepSize of "+a+" "+r);let d=s.ticks.source==="data"&&this.getDataTimestamps();for(f=u,m=0;f<n;f=+t.add(f,a,r),m++)Yd(h,f,d);return(f===n||s.bounds==="ticks"||m===1)&&Yd(h,f,d),Object.keys(h).sort((p,g)=>p-g).map(p=>+p)}getLabelForValue(t){let i=this._adapter,n=this.options.time;return n.tooltipFormat?i.format(t,n.tooltipFormat):i.format(t,n.displayFormats.datetime)}_tickFormatFunction(t,i,n,s){let o=this.options,r=o.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&r[a],h=l&&r[l],u=n[i],f=l&&h&&u&&u.major,m=this._adapter.format(t,s||(f?h:c)),d=o.ticks.callback;return d?ft(d,[m,i,n],this):m}generateTickLabels(t){let i,n,s;for(i=0,n=t.length;i<n;++i)s=t[i],s.label=this._tickFormatFunction(s.value,i,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){let i=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((i.start+n)*i.factor)}getValueForPixel(t){let i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){let i=this.options.ticks,n=this.ctx.measureText(t).width,s=ge(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),r=Math.sin(s),a=this._resolveTickFontOptions(0).size;return{w:n*o+a*r,h:n*r+a*o}}_getLabelCapacity(t){let i=this.options.time,n=i.displayFormats,s=n[i.unit]||n.millisecond,o=this._tickFormatFunction(t,0,qd(this,[t],this._majorUnit),s),r=this._getLabelSize(o),a=Math.floor(this.isHorizontal()?this.width/r.w:this.height/r.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],i,n;if(t.length)return t;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,n=s.length;i<n;++i)t=t.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){let t=this._cache.labels||[],i,n;if(t.length)return t;let s=this.getLabels();for(i=0,n=s.length;i<n;++i)t.push(Ud(this,s[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return hl(t.sort(Uv))}};Qi.id="time";Qi.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}};function br(e,t,i){let n=0,s=e.length-1,o,r,a,l;i?(t>=e[n].pos&&t<=e[s].pos&&({lo:n,hi:s}=We(e,"pos",t)),{pos:o,time:a}=e[n],{pos:r,time:l}=e[s]):(t>=e[n].time&&t<=e[s].time&&({lo:n,hi:s}=We(e,"time",t)),{time:o,pos:a}=e[n],{time:r,pos:l}=e[s]);let c=r-o;return c?a+(l-a)*(t-o)/c:a}var mo=class extends Qi{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let t=this._getTimestampsForTable(),i=this._table=this.buildLookupTable(t);this._minPos=br(i,this.min),this._tableRange=br(i,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){let{min:i,max:n}=this,s=[],o=[],r,a,l,c,h;for(r=0,a=t.length;r<a;++r)c=t[r],c>=i&&c<=n&&s.push(c);if(s.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(r=0,a=s.length;r<a;++r)h=s[r+1],l=s[r-1],c=s[r],Math.round((h+l)/2)!==c&&o.push({time:c,pos:r/(a-1)});return o}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;let i=this.getDataTimestamps(),n=this.getLabelTimestamps();return i.length&&n.length?t=this.normalize(i.concat(n)):t=i.length?i:n,t=this._cache.all=t,t}getDecimalForValue(t){return(br(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){let i=this._offsets,n=this.getDecimalForPixel(t)/i.factor-i.end;return br(this._table,n*this._tableRange+this._minPos,!0)}};mo.id="timeseries";mo.defaults=Qi.defaults;var Gv=Object.freeze({__proto__:null,CategoryScale:Qn,LinearScale:uo,LogarithmicScale:fo,RadialLinearScale:Ji,TimeScale:Qi,TimeSeriesScale:mo}),pf=[zy,$0,kv,Gv];var Or=na(ja());var Xv={animation:{duration:2e3,easing:"linear",loop:!1},responsive:!0,maintainAspectRatio:!1,layout:{autoPadding:!0},plugins:{title:{display:!1},legend:{position:"bottom",fullSize:!0,labels:{padding:14,color:"rgb(255, 255, 255)",font:{family:"CenturyGothic",size:12}}}},scales:{x:{display:!0,grid:{color:"#222222"},ticks:{color:"rgb(255, 255, 255)",font:{family:"CenturyGothic",size:12,lineHeight:1.6},autoSkip:!0,maxRotation:0,minRotation:0}},y:{display:!0,stacked:!1,min:0,grid:{color:"#222222"},ticks:{color:"rgb(255, 255, 255)",font:{family:"CenturyGothic",size:12,lineHeight:1.6},autoSkip:!0,maxRotation:0,minRotation:0}}}},Di={borderWidth:4,fill:!1,showLine:!0,pointRadius:0,cubicInterpolationMode:"monotone",tension:.4,stepped:!1},Ai={type:"line",data:{labels:[],datasets:[{label:"TEMPERATURE",borderColor:"#ff9696",backgroundColor:"#ff9696",...Di,data:[],borderWidth:6},{label:"HUMIDITY",borderColor:"#ffe100",backgroundColor:"#ffe100",...Di,data:[],borderWidth:3},{label:"CLOUD",borderColor:"#cccccc",backgroundColor:"#cccccc",...Di,data:[]},{label:"RAIN",borderColor:"#52ff97",backgroundColor:"#52ff97",...Di,data:[],borderWidth:6},{label:"WIND",borderColor:"#00bbff",backgroundColor:"#00bbff",...Di,data:[]},{label:"FEEL",borderColor:"#b70053",backgroundColor:"#b70053",...Di,data:[]},{label:"SUN",borderColor:"#fec88220",backgroundColor:"#fec88220",...Di,tension:.9,fill:!0,borderWidth:0,data:[]},{label:"MOON",borderColor:"#0081a715",backgroundColor:"#0081a715",...Di,tension:.9,fill:!0,borderWidth:0,data:[]}]},options:Xv},tn;async function Kv(){let e=document.getElementById("component-chart");O("initChart"),e&&(e.height=400,Ki.register(...pf),tn=new Ki(e,Ai))}async function gf(e){if(O("updateChart",e.hourly),!e||!e.hourly)return;tn||await Kv(),Ai.data.labels&&(Ai.data.labels.length=0);for(let i of Ai.data.datasets)i.data.length=0;e.hourly.data.forEach(i=>{var o;(o=Ai.data.labels)==null||o.push([C.fromSeconds(i.time).toFormat("ccc").toUpperCase(),C.fromSeconds(i.time).toFormat("HH:mm")]);let n=Or.getPosition(C.fromSeconds(i.time).toJSDate(),e.latitude,e.longitude),s=Or.getMoonPosition(C.fromSeconds(i.time).toJSDate(),e.latitude,e.longitude);Ai.data.datasets.forEach(r=>{var a,l,c,h,u,f,m,d;((a=r.label)==null?void 0:a.toUpperCase())==="SUN"&&r.data.push(100*Math.sin(n.altitude)),((l=r.label)==null?void 0:l.toUpperCase())==="MOON"&&r.data.push(100*Math.sin(s.altitude)),((c=r.label)==null?void 0:c.toUpperCase())==="TEMPERATURE"&&r.data.push(i.temperature),((h=r.label)==null?void 0:h.toUpperCase())==="FEEL"&&r.data.push(i.apparentTemperature),((u=r.label)==null?void 0:u.toUpperCase())==="RAIN"&&r.data.push(Math.min(5*100*i.precipIntensity,100)),((f=r.label)==null?void 0:f.toUpperCase())==="WIND"&&r.data.push(i.windSpeed),((m=r.label)==null?void 0:m.toUpperCase())==="CLOUD"&&r.data.push(100*i.cloudCover),((d=r.label)==null?void 0:d.toUpperCase())==="HUMIDITY"&&r.data.push(100*i.humidity)})}),tn.update();let t={};for(let i of Ai.data.datasets){t[i.label]=tn.ctx.createLinearGradient(0,tn.chartArea.bottom,0,tn.chartArea.top);let n=Math.min(...i.data),s=Math.max(...i.data);t[i.label].addColorStop(Math.max(n/120-.1,0),"#000000"),t[i.label].addColorStop(s/120,i.backgroundColor);let o=Ai.data.datasets.find(r=>r.label===i.label);o&&(o.borderColor=t[i.label])}tn.update()}var ic=class extends HTMLElement{connectedCallback(){this.innerHTML=`
      <canvas id="component-chart" height="0" width="1000"></canvas>
    `}};customElements.define("component-chart",ic);var Jv="1.9.1";function ct(e){var t,i,n,s;for(i=1,n=arguments.length;i<n;i++){s=arguments[i];for(t in s)e[t]=s[t]}return e}var Rr=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function yt(e,t){var i=Array.prototype.slice;if(e.bind)return e.bind.apply(e,i.call(arguments,1));var n=i.call(arguments,2);return function(){return e.apply(t,n.length?n.concat(i.call(arguments)):arguments)}}var Pf=0;function it(e){return"_leaflet_id"in e||(e._leaflet_id=++Pf),e._leaflet_id}function kf(e,t,i){var n,s,o,r;return r=function(){n=!1,s&&(o.apply(i,s),s=!1)},o=function(){n?s=arguments:(e.apply(i,arguments),setTimeout(r,t),n=!0)},o}function bo(e,t,i){var n=t[1],s=t[0],o=n-s;return e===n&&i?e:((e-s)%o+o)%o+s}function Rt(){return!1}function Ye(e,t){if(t===!1)return e;var i=Math.pow(10,t===void 0?6:t);return Math.round(e*i)/i}function mc(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function en(e){return mc(e).split(/\s+/)}function vt(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?Rr(e.options):{});for(var i in t)e.options[i]=t[i];return e.options}function Of(e,t,i){var n=[];for(var s in e)n.push(encodeURIComponent(i?s.toUpperCase():s)+"="+encodeURIComponent(e[s]));return(!t||t.indexOf("?")===-1?"?":"&")+n.join("&")}var Qv=/\{ *([\w_ -]+) *\}/g;function Cf(e,t){return e.replace(Qv,function(i,n){var s=t[n];if(s===void 0)throw new Error("No value provided for variable "+i);return typeof s=="function"&&(s=s(t)),s})}var Oe=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function pc(e,t){for(var i=0;i<e.length;i++)if(e[i]===t)return i;return-1}var Cr="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function sc(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var _f=0;function Df(e){var t=+new Date,i=Math.max(0,16-(t-_f));return _f=t+i,window.setTimeout(e,i)}var oc=window.requestAnimationFrame||sc("RequestAnimationFrame")||Df,Af=window.cancelAnimationFrame||sc("CancelAnimationFrame")||sc("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function te(e,t,i){if(i&&oc===Df)e.call(t);else return oc.call(window,yt(e,t))}function ye(e){e&&Af.call(window,e)}var tb={__proto__:null,extend:ct,create:Rr,bind:yt,get lastId(){return Pf},stamp:it,throttle:kf,wrapNum:bo,falseFn:Rt,formatNum:Ye,trim:mc,splitWords:en,setOptions:vt,getParamString:Of,template:Cf,isArray:Oe,indexOf:pc,emptyImageUrl:Cr,requestFn:oc,cancelFn:Af,requestAnimFrame:te,cancelAnimFrame:ye};function mi(){}mi.extend=function(e){var t=function(){vt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,n=Rr(i);n.constructor=t,t.prototype=n;for(var s in this)Object.prototype.hasOwnProperty.call(this,s)&&s!=="prototype"&&s!=="__super__"&&(t[s]=this[s]);return e.statics&&ct(t,e.statics),e.includes&&(eb(e.includes),ct.apply(null,[n].concat(e.includes))),ct(n,e),delete n.statics,delete n.includes,n.options&&(n.options=i.options?Rr(i.options):{},ct(n.options,e.options)),n._initHooks=[],n.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var o=0,r=n._initHooks.length;o<r;o++)n._initHooks[o].call(this)}},t};mi.include=function(e){var t=this.prototype.options;return ct(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this};mi.mergeOptions=function(e){return ct(this.prototype.options,e),this};mi.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),i=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(i),this};function eb(e){if(!(typeof L=="undefined"||!L||!L.Mixin)){e=Oe(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ce={on:function(e,t,i){if(typeof e=="object")for(var n in e)this._on(n,e[n],t);else{e=en(e);for(var s=0,o=e.length;s<o;s++)this._on(e[s],t,i)}return this},off:function(e,t,i){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var n in e)this._off(n,e[n],t);else{e=en(e);for(var s=arguments.length===1,o=0,r=e.length;o<r;o++)s?this._off(e[o]):this._off(e[o],t,i)}return this},_on:function(e,t,i,n){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,i)===!1){i===this&&(i=void 0);var s={fn:t,ctx:i};n&&(s.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(s)}},_off:function(e,t,i){var n,s,o;if(!!this._events&&(n=this._events[e],!!n)){if(arguments.length===1){if(this._firingCount)for(s=0,o=n.length;s<o;s++)n[s].fn=Rt;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var r=this._listens(e,t,i);if(r!==!1){var a=n[r];this._firingCount&&(a.fn=Rt,this._events[e]=n=n.slice()),n.splice(r,1)}}},fire:function(e,t,i){if(!this.listens(e,i))return this;var n=ct({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var s=this._events[e];if(s){this._firingCount=this._firingCount+1||1;for(var o=0,r=s.length;o<r;o++){var a=s[o],l=a.fn;a.once&&this.off(e,l,a.ctx),l.call(a.ctx||this,n)}this._firingCount--}}return i&&this._propagateEvent(n),this},listens:function(e,t,i,n){typeof e!="string"&&console.warn('"string" type argument expected');var s=t;typeof t!="function"&&(n=!!t,s=void 0,i=void 0);var o=this._events&&this._events[e];if(o&&o.length&&this._listens(e,s,i)!==!1)return!0;if(n){for(var r in this._eventParents)if(this._eventParents[r].listens(e,t,i,n))return!0}return!1},_listens:function(e,t,i){if(!this._events)return!1;var n=this._events[e]||[];if(!t)return!!n.length;i===this&&(i=void 0);for(var s=0,o=n.length;s<o;s++)if(n[s].fn===t&&n[s].ctx===i)return s;return!1},once:function(e,t,i){if(typeof e=="object")for(var n in e)this._on(n,e[n],t,!0);else{e=en(e);for(var s=0,o=e.length;s<o;s++)this._on(e[s],t,i,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[it(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[it(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,ct({layer:e.target,propagatedFrom:e.target},e),!0)}};ce.addEventListener=ce.on;ce.removeEventListener=ce.clearAllEventListeners=ce.off;ce.addOneTimeEventListener=ce.once;ce.fireEvent=ce.fire;ce.hasEventListeners=ce.listens;var Mo=mi.extend(ce);function W(e,t,i){this.x=i?Math.round(e):e,this.y=i?Math.round(t):t}var yf=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};W.prototype={clone:function(){return new W(this.x,this.y)},add:function(e){return this.clone()._add(B(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(B(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new W(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new W(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=yf(this.x),this.y=yf(this.y),this},distanceTo:function(e){e=B(e);var t=e.x-this.x,i=e.y-this.y;return Math.sqrt(t*t+i*i)},equals:function(e){return e=B(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=B(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+Ye(this.x)+", "+Ye(this.y)+")"}};function B(e,t,i){return e instanceof W?e:Oe(e)?new W(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new W(e.x,e.y):new W(e,t,i)}function Et(e,t){if(!!e)for(var i=t?[e,t]:e,n=0,s=i.length;n<s;n++)this.extend(i[n])}Et.prototype={extend:function(e){var t,i;if(!e)return this;if(e instanceof W||typeof e[0]=="number"||"x"in e)t=i=B(e);else if(e=Qt(e),t=e.min,i=e.max,!t||!i)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=i.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(i.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(i.y,this.max.y)),this},getCenter:function(e){return B((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return B(this.min.x,this.max.y)},getTopRight:function(){return B(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,i;return typeof e[0]=="number"||e instanceof W?e=B(e):e=Qt(e),e instanceof Et?(t=e.min,i=e.max):t=i=e,t.x>=this.min.x&&i.x<=this.max.x&&t.y>=this.min.y&&i.y<=this.max.y},intersects:function(e){e=Qt(e);var t=this.min,i=this.max,n=e.min,s=e.max,o=s.x>=t.x&&n.x<=i.x,r=s.y>=t.y&&n.y<=i.y;return o&&r},overlaps:function(e){e=Qt(e);var t=this.min,i=this.max,n=e.min,s=e.max,o=s.x>t.x&&n.x<i.x,r=s.y>t.y&&n.y<i.y;return o&&r},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,i=this.max,n=Math.abs(t.x-i.x)*e,s=Math.abs(t.y-i.y)*e;return Qt(B(t.x-n,t.y-s),B(i.x+n,i.y+s))},equals:function(e){return e?(e=Qt(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Qt(e,t){return!e||e instanceof Et?e:new Et(e,t)}function ee(e,t){if(!!e)for(var i=t?[e,t]:e,n=0,s=i.length;n<s;n++)this.extend(i[n])}ee.prototype={extend:function(e){var t=this._southWest,i=this._northEast,n,s;if(e instanceof J)n=e,s=e;else if(e instanceof ee){if(n=e._southWest,s=e._northEast,!n||!s)return this}else return e?this.extend(mt(e)||Wt(e)):this;return!t&&!i?(this._southWest=new J(n.lat,n.lng),this._northEast=new J(s.lat,s.lng)):(t.lat=Math.min(n.lat,t.lat),t.lng=Math.min(n.lng,t.lng),i.lat=Math.max(s.lat,i.lat),i.lng=Math.max(s.lng,i.lng)),this},pad:function(e){var t=this._southWest,i=this._northEast,n=Math.abs(t.lat-i.lat)*e,s=Math.abs(t.lng-i.lng)*e;return new ee(new J(t.lat-n,t.lng-s),new J(i.lat+n,i.lng+s))},getCenter:function(){return new J((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new J(this.getNorth(),this.getWest())},getSouthEast:function(){return new J(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof J||"lat"in e?e=mt(e):e=Wt(e);var t=this._southWest,i=this._northEast,n,s;return e instanceof ee?(n=e.getSouthWest(),s=e.getNorthEast()):n=s=e,n.lat>=t.lat&&s.lat<=i.lat&&n.lng>=t.lng&&s.lng<=i.lng},intersects:function(e){e=Wt(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),s=e.getNorthEast(),o=s.lat>=t.lat&&n.lat<=i.lat,r=s.lng>=t.lng&&n.lng<=i.lng;return o&&r},overlaps:function(e){e=Wt(e);var t=this._southWest,i=this._northEast,n=e.getSouthWest(),s=e.getNorthEast(),o=s.lat>t.lat&&n.lat<i.lat,r=s.lng>t.lng&&n.lng<i.lng;return o&&r},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=Wt(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Wt(e,t){return e instanceof ee?e:new ee(e,t)}function J(e,t,i){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,i!==void 0&&(this.alt=+i)}J.prototype={equals:function(e,t){if(!e)return!1;e=mt(e);var i=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return i<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+Ye(this.lat,e)+", "+Ye(this.lng,e)+")"},distanceTo:function(e){return Fi.distance(this,mt(e))},wrap:function(){return Fi.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,i=t/Math.cos(Math.PI/180*this.lat);return Wt([this.lat-t,this.lng-i],[this.lat+t,this.lng+i])},clone:function(){return new J(this.lat,this.lng,this.alt)}};function mt(e,t,i){return e instanceof J?e:Oe(e)&&typeof e[0]!="object"?e.length===3?new J(e[0],e[1],e[2]):e.length===2?new J(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new J(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new J(e,t,i)}var pi={latLngToPoint:function(e,t){var i=this.projection.project(e),n=this.scale(t);return this.transformation._transform(i,n)},pointToLatLng:function(e,t){var i=this.scale(t),n=this.transformation.untransform(e,i);return this.projection.unproject(n)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,i=this.scale(e),n=this.transformation.transform(t.min,i),s=this.transformation.transform(t.max,i);return new Et(n,s)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?bo(e.lng,this.wrapLng,!0):e.lng,i=this.wrapLat?bo(e.lat,this.wrapLat,!0):e.lat,n=e.alt;return new J(i,t,n)},wrapLatLngBounds:function(e){var t=e.getCenter(),i=this.wrapLatLng(t),n=t.lat-i.lat,s=t.lng-i.lng;if(n===0&&s===0)return e;var o=e.getSouthWest(),r=e.getNorthEast(),a=new J(o.lat-n,o.lng-s),l=new J(r.lat-n,r.lng-s);return new ee(a,l)}},Fi=ct({},pi,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var i=Math.PI/180,n=e.lat*i,s=t.lat*i,o=Math.sin((t.lat-e.lat)*i/2),r=Math.sin((t.lng-e.lng)*i/2),a=o*o+Math.cos(n)*Math.cos(s)*r*r,l=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*l}}),vf=6378137,rc={R:vf,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,i=this.MAX_LATITUDE,n=Math.max(Math.min(i,e.lat),-i),s=Math.sin(n*t);return new W(this.R*e.lng*t,this.R*Math.log((1+s)/(1-s))/2)},unproject:function(e){var t=180/Math.PI;return new J((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=vf*Math.PI;return new Et([-e,-e],[e,e])}()};function gc(e,t,i,n){if(Oe(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=i,this._d=n}gc.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new W((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function So(e,t,i,n){return new gc(e,t,i,n)}var _c=ct({},Fi,{code:"EPSG:3857",projection:rc,transformation:function(){var e=.5/(Math.PI*rc.R);return So(e,.5,-e,.5)}()}),ib=ct({},_c,{code:"EPSG:900913"});function If(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Rf(e,t){var i="",n,s,o,r,a,l;for(n=0,o=e.length;n<o;n++){for(a=e[n],s=0,r=a.length;s<r;s++)l=a[s],i+=(s?"L":"M")+l.x+" "+l.y;i+=t?A.svg?"z":"x":""}return i||"M0 0"}var yc=document.documentElement.style,Wr="ActiveXObject"in window,nb=Wr&&!document.addEventListener,Ff="msLaunchUri"in navigator&&!("documentMode"in document),vc=Xe("webkit"),zf=Xe("android"),Bf=Xe("android 2")||Xe("android 3"),sb=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ob=zf&&Xe("Google")&&sb<537&&!("AudioNode"in window),bc=!!window.opera,Nf=!Ff&&Xe("chrome"),Hf=Xe("gecko")&&!vc&&!bc&&!Wr,rb=!Nf&&Xe("safari"),Wf=Xe("phantom"),Zf="OTransition"in yc,ab=navigator.platform.indexOf("Win")===0,Vf=Wr&&"transition"in yc,xc="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Bf,$f="MozPerspective"in yc,lb=!window.L_DISABLE_3D&&(Vf||xc||$f)&&!Zf&&!Wf,Eo=typeof orientation!="undefined"||Xe("mobile"),cb=Eo&&vc,hb=Eo&&xc,Uf=!window.PointerEvent&&window.MSPointerEvent,jf=!!(window.PointerEvent||Uf),Yf="ontouchstart"in window||!!window.TouchEvent,ub=!window.L_NO_TOUCH&&(Yf||jf),db=Eo&&bc,fb=Eo&&Hf,mb=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,pb=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",Rt,t),window.removeEventListener("testPassiveEventSupport",Rt,t)}catch(i){}return e}(),gb=function(){return!!document.createElement("canvas").getContext}(),wc=!!(document.createElementNS&&If("svg").createSVGRect),_b=!!wc&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),yb=!wc&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch(i){return!1}}(),vb=navigator.platform.indexOf("Mac")===0,bb=navigator.platform.indexOf("Linux")===0;function Xe(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var A={ie:Wr,ielt9:nb,edge:Ff,webkit:vc,android:zf,android23:Bf,androidStock:ob,opera:bc,chrome:Nf,gecko:Hf,safari:rb,phantom:Wf,opera12:Zf,win:ab,ie3d:Vf,webkit3d:xc,gecko3d:$f,any3d:lb,mobile:Eo,mobileWebkit:cb,mobileWebkit3d:hb,msPointer:Uf,pointer:jf,touch:ub,touchNative:Yf,mobileOpera:db,mobileGecko:fb,retina:mb,passiveEvents:pb,canvas:gb,svg:wc,vml:yb,inlineSvg:_b,mac:vb,linux:bb},qf=A.msPointer?"MSPointerDown":"pointerdown",Gf=A.msPointer?"MSPointerMove":"pointermove",Xf=A.msPointer?"MSPointerUp":"pointerup",Kf=A.msPointer?"MSPointerCancel":"pointercancel",ac={touchstart:qf,touchmove:Gf,touchend:Xf,touchcancel:Kf},bf={touchstart:Eb,touchmove:Dr,touchend:Dr,touchcancel:Dr},ns={},xf=!1;function xb(e,t,i){return t==="touchstart"&&Sb(),bf[t]?(i=bf[t].bind(this,i),e.addEventListener(ac[t],i,!1),i):(console.warn("wrong event specified:",t),L.Util.falseFn)}function wb(e,t,i){if(!ac[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(ac[t],i,!1)}function Tb(e){ns[e.pointerId]=e}function Mb(e){ns[e.pointerId]&&(ns[e.pointerId]=e)}function wf(e){delete ns[e.pointerId]}function Sb(){xf||(document.addEventListener(qf,Tb,!0),document.addEventListener(Gf,Mb,!0),document.addEventListener(Xf,wf,!0),document.addEventListener(Kf,wf,!0),xf=!0)}function Dr(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var i in ns)t.touches.push(ns[i]);t.changedTouches=[t],e(t)}}function Eb(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&Ut(t),Dr(e,t)}function Lb(e){var t={},i,n;for(n in e)i=e[n],t[n]=i&&i.bind?i.bind(e):i;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var Pb=200;function kb(e,t){e.addEventListener("dblclick",t);var i=0,n;function s(o){if(o.detail!==1){n=o.detail;return}if(!(o.pointerType==="mouse"||o.sourceCapabilities&&!o.sourceCapabilities.firesTouchEvents)){var r=em(o);if(!(r.some(function(l){return l instanceof HTMLLabelElement&&l.attributes.for})&&!r.some(function(l){return l instanceof HTMLInputElement||l instanceof HTMLSelectElement}))){var a=Date.now();a-i<=Pb?(n++,n===2&&t(Lb(o))):n=1,i=a}}}return e.addEventListener("click",s),{dblclick:t,simDblclick:s}}function Ob(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var Tc=Vr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),_o=Vr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jf=_o==="webkitTransition"||_o==="OTransition"?_o+"End":"transitionend";function Qf(e){return typeof e=="string"?document.getElementById(e):e}function xo(e,t){var i=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!i||i==="auto")&&document.defaultView){var n=document.defaultView.getComputedStyle(e,null);i=n?n[t]:null}return i==="auto"?null:i}function et(e,t,i){var n=document.createElement(e);return n.className=t||"",i&&i.appendChild(n),n}function St(e){var t=e.parentNode;t&&t.removeChild(e)}function Fr(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function as(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function ls(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Mc(e,t){if(e.classList!==void 0)return e.classList.contains(t);var i=Zr(e);return i.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(i)}function U(e,t){if(e.classList!==void 0)for(var i=en(t),n=0,s=i.length;n<s;n++)e.classList.add(i[n]);else if(!Mc(e,t)){var o=Zr(e);Sc(e,(o?o+" ":"")+t)}}function Dt(e,t){e.classList!==void 0?e.classList.remove(t):Sc(e,mc((" "+Zr(e)+" ").replace(" "+t+" "," ")))}function Sc(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function Zr(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function _e(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&Cb(e,t)}function Cb(e,t){var i=!1,n="DXImageTransform.Microsoft.Alpha";try{i=e.filters.item(n)}catch(s){if(t===1)return}t=Math.round(t*100),i?(i.Enabled=t!==100,i.Opacity=t):e.style.filter+=" progid:"+n+"(opacity="+t+")"}function Vr(e){for(var t=document.documentElement.style,i=0;i<e.length;i++)if(e[i]in t)return e[i];return!1}function rn(e,t,i){var n=t||new W(0,0);e.style[Tc]=(A.ie3d?"translate("+n.x+"px,"+n.y+"px)":"translate3d("+n.x+"px,"+n.y+"px,0)")+(i?" scale("+i+")":"")}function Ft(e,t){e._leaflet_pos=t,A.any3d?rn(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function an(e){return e._leaflet_pos||new W(0,0)}var wo,To,nc;"onselectstart"in document?(wo=function(){N(window,"selectstart",Ut)},To=function(){pt(window,"selectstart",Ut)}):(es=Vr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),wo=function(){if(es){var e=document.documentElement.style;nc=e[es],e[es]="none"}},To=function(){es&&(document.documentElement.style[es]=nc,nc=void 0)});var es;function Ec(){N(window,"dragstart",Ut)}function Lc(){pt(window,"dragstart",Ut)}var Ar,lc;function Pc(e){for(;e.tabIndex===-1;)e=e.parentNode;!e.style||(zr(),Ar=e,lc=e.style.outline,e.style.outline="none",N(window,"keydown",zr))}function zr(){!Ar||(Ar.style.outline=lc,Ar=void 0,lc=void 0,pt(window,"keydown",zr))}function tm(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function kc(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var gi={__proto__:null,TRANSFORM:Tc,TRANSITION:_o,TRANSITION_END:Jf,get:Qf,getStyle:xo,create:et,remove:St,empty:Fr,toFront:as,toBack:ls,hasClass:Mc,addClass:U,removeClass:Dt,setClass:Sc,getClass:Zr,setOpacity:_e,testProp:Vr,setTransform:rn,setPosition:Ft,getPosition:an,get disableTextSelection(){return wo},get enableTextSelection(){return To},disableImageDrag:Ec,enableImageDrag:Lc,preventOutline:Pc,restoreOutline:zr,getSizedParentNode:tm,getScale:kc};function N(e,t,i,n){if(t&&typeof t=="object")for(var s in t)hc(e,s,t[s],i);else{t=en(t);for(var o=0,r=t.length;o<r;o++)hc(e,t[o],i,n)}return this}var qe="_leaflet_events";function pt(e,t,i,n){if(arguments.length===1)Tf(e),delete e[qe];else if(t&&typeof t=="object")for(var s in t)uc(e,s,t[s],i);else if(t=en(t),arguments.length===2)Tf(e,function(a){return pc(t,a)!==-1});else for(var o=0,r=t.length;o<r;o++)uc(e,t[o],i,n);return this}function Tf(e,t){for(var i in e[qe]){var n=i.split(/\d/)[0];(!t||t(n))&&uc(e,n,null,null,i)}}var cc={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function hc(e,t,i,n){var s=t+it(i)+(n?"_"+it(n):"");if(e[qe]&&e[qe][s])return this;var o=function(a){return i.call(n||e,a||window.event)},r=o;!A.touchNative&&A.pointer&&t.indexOf("touch")===0?o=xb(e,t,o):A.touch&&t==="dblclick"?o=kb(e,o):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(cc[t]||t,o,A.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(o=function(a){a=a||window.event,Cc(e,a)&&r(a)},e.addEventListener(cc[t],o,!1)):e.addEventListener(t,r,!1):e.attachEvent("on"+t,o),e[qe]=e[qe]||{},e[qe][s]=o}function uc(e,t,i,n,s){s=s||t+it(i)+(n?"_"+it(n):"");var o=e[qe]&&e[qe][s];if(!o)return this;!A.touchNative&&A.pointer&&t.indexOf("touch")===0?wb(e,t,o):A.touch&&t==="dblclick"?Ob(e,o):"removeEventListener"in e?e.removeEventListener(cc[t]||t,o,!1):e.detachEvent("on"+t,o),e[qe][s]=null}function nn(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Oc(e){return hc(e,"wheel",nn),this}function Lo(e){return N(e,"mousedown touchstart dblclick contextmenu",nn),e._leaflet_disable_click=!0,this}function Ut(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ln(e){return Ut(e),nn(e),this}function em(e){if(e.composedPath)return e.composedPath();for(var t=[],i=e.target;i;)t.push(i),i=i.parentNode;return t}function im(e,t){if(!t)return new W(e.clientX,e.clientY);var i=kc(t),n=i.boundingClientRect;return new W((e.clientX-n.left)/i.x-t.clientLeft,(e.clientY-n.top)/i.y-t.clientTop)}var Db=A.linux&&A.chrome?window.devicePixelRatio:A.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function nm(e){return A.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/Db:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Cc(e,t){var i=t.relatedTarget;if(!i)return!0;try{for(;i&&i!==e;)i=i.parentNode}catch(n){return!1}return i!==e}var Ce={__proto__:null,on:N,off:pt,stopPropagation:nn,disableScrollPropagation:Oc,disableClickPropagation:Lo,preventDefault:Ut,stop:ln,getPropagationPath:em,getMousePosition:im,getWheelDelta:nm,isExternalTarget:Cc,addListener:N,removeListener:pt},sm=Mo.extend({run:function(e,t,i,n){this.stop(),this._el=e,this._inProgress=!0,this._duration=i||.25,this._easeOutPower=1/Math.max(n||.5,.2),this._startPos=an(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=te(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,i=this._duration*1e3;t<i?this._runFrame(this._easeOut(t/i),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var i=this._startPos.add(this._offset.multiplyBy(e));t&&i._round(),Ft(this._el,i),this.fire("step")},_complete:function(){ye(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),G=Mo.extend({options:{crs:_c,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=vt(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=yt(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(mt(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=_o&&A.any3d&&!A.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),N(this._proxy,Jf,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,i){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(mt(e),t,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&i!==!0){i.animate!==void 0&&(i.zoom=ct({animate:i.animate},i.zoom),i.pan=ct({animate:i.animate,duration:i.duration},i.pan));var n=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,i.zoom):this._tryAnimatedPan(e,i.pan);if(n)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,i.pan&&i.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(A.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,i){var n=this.getZoomScale(t),s=this.getSize().divideBy(2),o=e instanceof W?e:this.latLngToContainerPoint(e),r=o.subtract(s).multiplyBy(1-1/n),a=this.containerPointToLatLng(s.add(r));return this.setView(a,t,{zoom:i})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():Wt(e);var i=B(t.paddingTopLeft||t.padding||[0,0]),n=B(t.paddingBottomRight||t.padding||[0,0]),s=this.getBoundsZoom(e,!1,i.add(n));if(s=typeof t.maxZoom=="number"?Math.min(t.maxZoom,s):s,s===1/0)return{center:e.getCenter(),zoom:s};var o=n.subtract(i).divideBy(2),r=this.project(e.getSouthWest(),s),a=this.project(e.getNorthEast(),s),l=this.unproject(r.add(a).divideBy(2).add(o),s);return{center:l,zoom:s}},fitBounds:function(e,t){if(e=Wt(e),!e.isValid())throw new Error("Bounds are not valid.");var i=this._getBoundsCenterZoom(e,t);return this.setView(i.center,i.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=B(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new sm,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){U(this._mapPane,"leaflet-pan-anim");var i=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,i,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,i){if(i=i||{},i.animate===!1||!A.any3d)return this.setView(e,t,i);this._stop();var n=this.project(this.getCenter()),s=this.project(e),o=this.getSize(),r=this._zoom;e=mt(e),t=t===void 0?r:t;var a=Math.max(o.x,o.y),l=a*this.getZoomScale(r,t),c=s.distanceTo(n)||1,h=1.42,u=h*h;function f(M){var k=M?-1:1,j=M?l:a,X=l*l-a*a+k*u*u*c*c,Z=2*j*u*c,ht=X/Z,At=Math.sqrt(ht*ht+1)-ht,z=At<1e-9?-18:Math.log(At);return z}function m(M){return(Math.exp(M)-Math.exp(-M))/2}function d(M){return(Math.exp(M)+Math.exp(-M))/2}function p(M){return m(M)/d(M)}var g=f(0);function y(M){return a*(d(g)/d(g+h*M))}function v(M){return a*(d(g)*p(g+h*M)-m(g))/u}function w(M){return 1-Math.pow(1-M,1.5)}var b=Date.now(),x=(f(1)-g)/h,E=i.duration?1e3*i.duration:1e3*x*.8;function S(){var M=(Date.now()-b)/E,k=w(M)*x;M<=1?(this._flyToFrame=te(S,this),this._move(this.unproject(n.add(s.subtract(n).multiplyBy(v(k)/c)),r),this.getScaleZoom(a/y(k),r),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,i.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var i=this._getBoundsCenterZoom(e,t);return this.flyTo(i.center,i.zoom,t)},setMaxBounds:function(e){return e=Wt(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var i=this.getCenter(),n=this._limitCenter(i,this._zoom,Wt(e));return i.equals(n)||this.panTo(n,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var i=B(t.paddingTopLeft||t.padding||[0,0]),n=B(t.paddingBottomRight||t.padding||[0,0]),s=this.project(this.getCenter()),o=this.project(e),r=this.getPixelBounds(),a=Qt([r.min.add(i),r.max.subtract(n)]),l=a.getSize();if(!a.contains(o)){this._enforcingBounds=!0;var c=o.subtract(a.getCenter()),h=a.extend(o).getSize().subtract(l);s.x+=c.x<0?-h.x:h.x,s.y+=c.y<0?-h.y:h.y,this.panTo(this.unproject(s),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=ct({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var i=this.getSize(),n=t.divideBy(2).round(),s=i.divideBy(2).round(),o=n.subtract(s);return!o.x&&!o.y?this:(e.animate&&e.pan?this.panBy(o):(e.pan&&this._rawPanBy(o),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(yt(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:i}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=ct({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=yt(this._handleGeolocationResponse,this),i=yt(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,i,e):navigator.geolocation.getCurrentPosition(t,i,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(!!this._container._leaflet_id){var t=e.code,i=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+i+"."})}},_handleGeolocationResponse:function(e){if(!!this._container._leaflet_id){var t=e.coords.latitude,i=e.coords.longitude,n=new J(t,i),s=n.toBounds(e.coords.accuracy*2),o=this._locateOptions;if(o.setView){var r=this.getBoundsZoom(s);this.setView(n,o.maxZoom?Math.min(r,o.maxZoom):r)}var a={latlng:n,bounds:s,timestamp:e.timestamp};for(var l in e.coords)typeof e.coords[l]=="number"&&(a[l]=e.coords[l]);this.fire("locationfound",a)}},addHandler:function(e,t){if(!t)return this;var i=this[e]=new t(this);return this._handlers.push(i),this.options[e]&&i.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),St(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ye(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)St(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var i="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),n=et("div",i,t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),i=this.unproject(e.getTopRight());return new ee(t,i)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,i){e=Wt(e),i=B(i||[0,0]);var n=this.getZoom()||0,s=this.getMinZoom(),o=this.getMaxZoom(),r=e.getNorthWest(),a=e.getSouthEast(),l=this.getSize().subtract(i),c=Qt(this.project(a,n),this.project(r,n)).getSize(),h=A.any3d?this.options.zoomSnap:1,u=l.x/c.x,f=l.y/c.y,m=t?Math.max(u,f):Math.min(u,f);return n=this.getScaleZoom(m,n),h&&(n=Math.round(n/(h/100))*(h/100),n=t?Math.ceil(n/h)*h:Math.floor(n/h)*h),Math.max(s,Math.min(o,n))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new W(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var i=this._getTopLeftPoint(e,t);return new Et(i,i.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var i=this.options.crs;return t=t===void 0?this._zoom:t,i.scale(e)/i.scale(t)},getScaleZoom:function(e,t){var i=this.options.crs;t=t===void 0?this._zoom:t;var n=i.zoom(e*i.scale(t));return isNaN(n)?1/0:n},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(mt(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(B(e),t)},layerPointToLatLng:function(e){var t=B(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(mt(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(mt(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(Wt(e))},distance:function(e,t){return this.options.crs.distance(mt(e),mt(t))},containerPointToLayerPoint:function(e){return B(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return B(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(B(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(mt(e)))},mouseEventToContainerPoint:function(e){return im(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=Qf(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");N(t,"scroll",this._onScroll,this),this._containerId=it(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&A.any3d,U(e,"leaflet-container"+(A.touch?" leaflet-touch":"")+(A.retina?" leaflet-retina":"")+(A.ielt9?" leaflet-oldie":"")+(A.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=xo(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ft(this._mapPane,new W(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(U(e.markerPane,"leaflet-zoom-hide"),U(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,i){Ft(this._mapPane,new W(0,0));var n=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var s=this._zoom!==t;this._moveStart(s,i)._move(e,t)._moveEnd(s),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,i,n){t===void 0&&(t=this._zoom);var s=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),n?i&&i.pinch&&this.fire("zoom",i):((s||i&&i.pinch)&&this.fire("zoom",i),this.fire("move",i)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ye(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Ft(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[it(this._container)]=this;var t=e?pt:N;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),A.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ye(this._resizeRequest),this._resizeRequest=te(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var i=[],n,s=t==="mouseout"||t==="mouseover",o=e.target||e.srcElement,r=!1;o;){if(n=this._targets[it(o)],n&&(t==="click"||t==="preclick")&&this._draggableMoved(n)){r=!0;break}if(n&&n.listens(t,!0)&&(s&&!Cc(o,e)||(i.push(n),s))||o===this._container)break;o=o.parentNode}return!i.length&&!r&&!s&&this.listens(t,!0)&&(i=[this]),i},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var i=e.type;i==="mousedown"&&Pc(t),this._fireDOMEvent(e,i)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,i){if(e.type==="click"){var n=ct({},e);n.type="preclick",this._fireDOMEvent(n,n.type,i)}var s=this._findEventTargets(e,t);if(i){for(var o=[],r=0;r<i.length;r++)i[r].listens(t,!0)&&o.push(i[r]);s=o.concat(s)}if(!!s.length){t==="contextmenu"&&Ut(e);var a=s[0],l={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var c=a.getLatLng&&(!a._radius||a._radius<=10);l.containerPoint=c?this.latLngToContainerPoint(a.getLatLng()):this.mouseEventToContainerPoint(e),l.layerPoint=this.containerPointToLayerPoint(l.containerPoint),l.latlng=c?a.getLatLng():this.layerPointToLatLng(l.layerPoint)}for(r=0;r<s.length;r++)if(s[r].fire(t,l,!0),l.originalEvent._stopped||s[r].options.bubblingMouseEvents===!1&&pc(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return an(this._mapPane)||new W(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var i=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return i.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var i=this.getSize()._divideBy(2);return this.project(e,t)._subtract(i)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return this.project(e,t)._subtract(n)},_latLngBoundsToNewLayerBounds:function(e,t,i){var n=this._getNewPixelOrigin(i,t);return Qt([this.project(e.getSouthWest(),t)._subtract(n),this.project(e.getNorthWest(),t)._subtract(n),this.project(e.getSouthEast(),t)._subtract(n),this.project(e.getNorthEast(),t)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,i){if(!i)return e;var n=this.project(e,t),s=this.getSize().divideBy(2),o=new Et(n.subtract(s),n.add(s)),r=this._getBoundsOffset(o,i,t);return r.round().equals([0,0])?e:this.unproject(n.add(r),t)},_limitOffset:function(e,t){if(!t)return e;var i=this.getPixelBounds(),n=new Et(i.min.add(e),i.max.add(e));return e.add(this._getBoundsOffset(n,t))},_getBoundsOffset:function(e,t,i){var n=Qt(this.project(t.getNorthEast(),i),this.project(t.getSouthWest(),i)),s=n.min.subtract(e.min),o=n.max.subtract(e.max),r=this._rebound(s.x,-o.x),a=this._rebound(s.y,-o.y);return new W(r,a)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),i=this.getMaxZoom(),n=A.any3d?this.options.zoomSnap:1;return n&&(e=Math.round(e/n)*n),Math.max(t,Math.min(i,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Dt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var i=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(i)?!1:(this.panBy(i,t),!0)},_createAnimProxy:function(){var e=this._proxy=et("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var i=Tc,n=this._proxy.style[i];rn(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[i]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){St(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();rn(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,i){if(this._animatingZoom)return!0;if(i=i||{},!this._zoomAnimated||i.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var n=this.getZoomScale(t),s=this._getCenterOffset(e)._divideBy(1-1/n);return i.animate!==!0&&!this.getSize().contains(s)?!1:(te(function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,i,n){!this._mapPane||(i&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,U(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:n}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(yt(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Dt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Ab(e,t){return new G(e,t)}var Yt=mi.extend({options:{position:"topright"},initialize:function(e){vt(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),i=this.getPosition(),n=e._controlCorners[i];return U(t,"leaflet-control"),i.indexOf("bottom")!==-1?n.insertBefore(t,n.firstChild):n.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(St(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),cn=function(e){return new Yt(e)};G.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",i=this._controlContainer=et("div",t+"control-container",this._container);function n(s,o){var r=t+s+" "+t+o;e[s+o]=et("div",r,i)}n("top","left"),n("top","right"),n("bottom","left"),n("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)St(this._controlCorners[e]);St(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var om=Yt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,i,n){return i<n?-1:n<i?1:0}},initialize:function(e,t,i){vt(this,i),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var n in e)this._addLayer(e[n],n);for(n in t)this._addLayer(t[n],n,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return Yt.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(it(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){U(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(U(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):Dt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Dt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=et("div",e),i=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Lo(t),Oc(t);var n=this._section=et("section",e+"-list");i&&(this._map.on("click",this.collapse,this),N(t,{mouseenter:function(){N(n,"click",Ut),this.expand(),setTimeout(function(){pt(n,"click",Ut)})},mouseleave:this.collapse},this));var s=this._layersLink=et("a",e+"-toggle",t);s.href="#",s.title="Layers",s.setAttribute("role","button"),N(s,"click",Ut),N(s,"focus",this.expand,this),i||this.expand(),this._baseLayersList=et("div",e+"-base",n),this._separator=et("div",e+"-separator",n),this._overlaysList=et("div",e+"-overlays",n),t.appendChild(n)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&it(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,i){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:i}),this.options.sortLayers&&this._layers.sort(yt(function(n,s){return this.options.sortFunction(n.layer,s.layer,n.name,s.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Fr(this._baseLayersList),Fr(this._overlaysList),this._layerControlInputs=[];var e,t,i,n,s=0;for(i=0;i<this._layers.length;i++)n=this._layers[i],this._addItem(n),t=t||n.overlay,e=e||!n.overlay,s+=n.overlay?0:1;return this.options.hideSingleBase&&(e=e&&s>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(it(e.target)),i=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;i&&this._map.fire(i,t)},_createRadioElement:function(e,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",n=document.createElement("div");return n.innerHTML=i,n.firstChild},_addItem:function(e){var t=document.createElement("label"),i=this._map.hasLayer(e.layer),n;e.overlay?(n=document.createElement("input"),n.type="checkbox",n.className="leaflet-control-layers-selector",n.defaultChecked=i):n=this._createRadioElement("leaflet-base-layers_"+it(this),i),this._layerControlInputs.push(n),n.layerId=it(e.layer),N(n,"click",this._onInputClick,this);var s=document.createElement("span");s.innerHTML=" "+e.name;var o=document.createElement("span");t.appendChild(o),o.appendChild(n),o.appendChild(s);var r=e.overlay?this._overlaysList:this._baseLayersList;return r.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){var e=this._layerControlInputs,t,i,n=[],s=[];this._handlingClick=!0;for(var o=e.length-1;o>=0;o--)t=e[o],i=this._getLayer(t.layerId).layer,t.checked?n.push(i):t.checked||s.push(i);for(o=0;o<s.length;o++)this._map.hasLayer(s[o])&&this._map.removeLayer(s[o]);for(o=0;o<n.length;o++)this._map.hasLayer(n[o])||this._map.addLayer(n[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,i,n=this._map.getZoom(),s=e.length-1;s>=0;s--)t=e[s],i=this._getLayer(t.layerId).layer,t.disabled=i.options.minZoom!==void 0&&n<i.options.minZoom||i.options.maxZoom!==void 0&&n>i.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this}}),Ib=function(e,t,i){return new om(e,t,i)},Dc=Yt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",i=et("div",t+" leaflet-bar"),n=this.options;return this._zoomInButton=this._createButton(n.zoomInText,n.zoomInTitle,t+"-in",i,this._zoomIn),this._zoomOutButton=this._createButton(n.zoomOutText,n.zoomOutTitle,t+"-out",i,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),i},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,i,n,s){var o=et("a",i,n);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Lo(o),N(o,"click",ln),N(o,"click",s,this),N(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";Dt(this._zoomInButton,t),Dt(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(U(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(U(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});G.mergeOptions({zoomControl:!0});G.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Dc,this.addControl(this.zoomControl))});var Rb=function(e){return new Dc(e)},rm=Yt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",i=et("div",t),n=this.options;return this._addScales(n,t+"-line",i),e.on(n.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),i},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,i){e.metric&&(this._mScale=et("div",t,i)),e.imperial&&(this._iScale=et("div",t,i))},_update:function(){var e=this._map,t=e.getSize().y/2,i=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(i)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),i=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,i,t/e)},_updateImperial:function(e){var t=e*3.2808399,i,n,s;t>5280?(i=t/5280,n=this._getRoundNum(i),this._updateScale(this._iScale,n+" mi",n/i)):(s=this._getRoundNum(t),this._updateScale(this._iScale,s+" ft",s/t))},_updateScale:function(e,t,i){e.style.width=Math.round(this.options.maxWidth*i)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),i=e/t;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,t*i}}),Fb=function(e){return new rm(e)},zb='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ac=Yt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(A.inlineSvg?zb+" ":"")+"Leaflet</a>"},initialize:function(e){vt(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=et("div","leaflet-control-attribution"),Lo(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(!!this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var i=[];this.options.prefix&&i.push(this.options.prefix),e.length&&i.push(e.join(", ")),this._container.innerHTML=i.join(' <span aria-hidden="true">|</span> ')}}});G.mergeOptions({attributionControl:!0});G.addInitHook(function(){this.options.attributionControl&&new Ac().addTo(this)});var Bb=function(e){return new Ac(e)};Yt.Layers=om;Yt.Zoom=Dc;Yt.Scale=rm;Yt.Attribution=Ac;cn.layers=Ib;cn.zoom=Rb;cn.scale=Fb;cn.attribution=Bb;var Ke=mi.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ke.addTo=function(e,t){return e.addHandler(t,this),this};var Nb={Events:ce},Mf=A.touch?"touchstart mousedown":"mousedown",Ii=Mo.extend({options:{clickTolerance:3},initialize:function(e,t,i,n){vt(this,n),this._element=e,this._dragStartTarget=t||e,this._preventOutline=i},enable:function(){this._enabled||(N(this._dragStartTarget,Mf,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Ii._dragging===this&&this.finishDrag(!0),pt(this._dragStartTarget,Mf,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(!!this._enabled&&(this._moved=!1,!Mc(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Ii._dragging===this&&this.finishDrag();return}if(!(Ii._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Ii._dragging=this,this._preventOutline&&Pc(this._element),Ec(),wo(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,i=tm(this._element);this._startPoint=new W(t.clientX,t.clientY),this._startPos=an(this._element),this._parentScale=kc(i);var n=e.type==="mousedown";N(document,n?"mousemove":"touchmove",this._onMove,this),N(document,n?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(!!this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,i=new W(t.clientX,t.clientY)._subtract(this._startPoint);!i.x&&!i.y||Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance||(i.x/=this._parentScale.x,i.y/=this._parentScale.y,Ut(e),this._moved||(this.fire("dragstart"),this._moved=!0,U(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),U(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(i),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Ft(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(e){Dt(document.body,"leaflet-dragging"),this._lastTarget&&(Dt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),pt(document,"mousemove touchmove",this._onMove,this),pt(document,"mouseup touchend touchcancel",this._onUp,this),Lc(),To(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ii._dragging=!1}});function am(e,t){if(!t||!e.length)return e.slice();var i=t*t;return e=Zb(e,i),e=Wb(e,i),e}function lm(e,t,i){return Math.sqrt(Po(e,t,i,!0))}function Hb(e,t,i){return Po(e,t,i)}function Wb(e,t){var i=e.length,n=typeof Uint8Array!=void 0+""?Uint8Array:Array,s=new n(i);s[0]=s[i-1]=1,dc(e,s,t,0,i-1);var o,r=[];for(o=0;o<i;o++)s[o]&&r.push(e[o]);return r}function dc(e,t,i,n,s){var o=0,r,a,l;for(a=n+1;a<=s-1;a++)l=Po(e[a],e[n],e[s],!0),l>o&&(r=a,o=l);o>i&&(t[r]=1,dc(e,t,i,n,r),dc(e,t,i,r,s))}function Zb(e,t){for(var i=[e[0]],n=1,s=0,o=e.length;n<o;n++)Vb(e[n],e[s])>t&&(i.push(e[n]),s=n);return s<o-1&&i.push(e[o-1]),i}var Sf;function cm(e,t,i,n,s){var o=n?Sf:sn(e,i),r=sn(t,i),a,l,c;for(Sf=r;;){if(!(o|r))return[e,t];if(o&r)return!1;a=o||r,l=Br(e,t,a,i,s),c=sn(l,i),a===o?(e=l,o=c):(t=l,r=c)}}function Br(e,t,i,n,s){var o=t.x-e.x,r=t.y-e.y,a=n.min,l=n.max,c,h;return i&8?(c=e.x+o*(l.y-e.y)/r,h=l.y):i&4?(c=e.x+o*(a.y-e.y)/r,h=a.y):i&2?(c=l.x,h=e.y+r*(l.x-e.x)/o):i&1&&(c=a.x,h=e.y+r*(a.x-e.x)/o),new W(c,h,s)}function sn(e,t){var i=0;return e.x<t.min.x?i|=1:e.x>t.max.x&&(i|=2),e.y<t.min.y?i|=4:e.y>t.max.y&&(i|=8),i}function Vb(e,t){var i=t.x-e.x,n=t.y-e.y;return i*i+n*n}function Po(e,t,i,n){var s=t.x,o=t.y,r=i.x-s,a=i.y-o,l=r*r+a*a,c;return l>0&&(c=((e.x-s)*r+(e.y-o)*a)/l,c>1?(s=i.x,o=i.y):c>0&&(s+=r*c,o+=a*c)),r=e.x-s,a=e.y-o,n?r*r+a*a:new W(s,o)}function ve(e){return!Oe(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]!="undefined"}function hm(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ve(e)}function um(e,t){var i,n,s,o,r,a,l,c;if(!e||e.length===0)throw new Error("latlngs not passed");ve(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var h=[];for(var u in e)h.push(t.project(mt(e[u])));var f=h.length;for(i=0,n=0;i<f-1;i++)n+=h[i].distanceTo(h[i+1])/2;if(n===0)c=h[0];else for(i=0,o=0;i<f-1;i++)if(r=h[i],a=h[i+1],s=r.distanceTo(a),o+=s,o>n){l=(o-n)/s,c=[a.x-l*(a.x-r.x),a.y-l*(a.y-r.y)];break}return t.unproject(B(c))}var $b={__proto__:null,simplify:am,pointToSegmentDistance:lm,closestPointOnSegment:Hb,clipSegment:cm,_getEdgeIntersection:Br,_getBitCode:sn,_sqClosestPointOnSegment:Po,isFlat:ve,_flat:hm,polylineCenter:um};function dm(e,t,i){var n,s=[1,4,2,8],o,r,a,l,c,h,u,f;for(o=0,h=e.length;o<h;o++)e[o]._code=sn(e[o],t);for(a=0;a<4;a++){for(u=s[a],n=[],o=0,h=e.length,r=h-1;o<h;r=o++)l=e[o],c=e[r],l._code&u?c._code&u||(f=Br(c,l,u,t,i),f._code=sn(f,t),n.push(f)):(c._code&u&&(f=Br(c,l,u,t,i),f._code=sn(f,t),n.push(f)),n.push(l));e=n}return e}function fm(e,t){var i,n,s,o,r,a,l,c,h;if(!e||e.length===0)throw new Error("latlngs not passed");ve(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var u=[];for(var f in e)u.push(t.project(mt(e[f])));var m=u.length;for(a=l=c=0,i=0,n=m-1;i<m;n=i++)s=u[i],o=u[n],r=s.y*o.x-o.y*s.x,l+=(s.x+o.x)*r,c+=(s.y+o.y)*r,a+=r*3;return a===0?h=u[0]:h=[l/a,c/a],t.unproject(B(h))}var Ub={__proto__:null,clipPolygon:dm,polygonCenter:fm},Ic={project:function(e){return new W(e.lng,e.lat)},unproject:function(e){return new J(e.y,e.x)},bounds:new Et([-180,-90],[180,90])},fc={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Et([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,i=this.R,n=e.lat*t,s=this.R_MINOR/i,o=Math.sqrt(1-s*s),r=o*Math.sin(n),a=Math.tan(Math.PI/4-n/2)/Math.pow((1-r)/(1+r),o/2);return n=-i*Math.log(Math.max(a,1e-10)),new W(e.lng*t*i,n)},unproject:function(e){for(var t=180/Math.PI,i=this.R,n=this.R_MINOR/i,s=Math.sqrt(1-n*n),o=Math.exp(-e.y/i),r=Math.PI/2-2*Math.atan(o),a=0,l=.1,c;a<15&&Math.abs(l)>1e-7;a++)c=s*Math.sin(r),c=Math.pow((1-c)/(1+c),s/2),l=Math.PI/2-2*Math.atan(o*c)-r,r+=l;return new J(r*t,e.x*t/i)}},jb={__proto__:null,LonLat:Ic,Mercator:fc,SphericalMercator:rc},Yb=ct({},Fi,{code:"EPSG:3395",projection:fc,transformation:function(){var e=.5/(Math.PI*fc.R);return So(e,.5,-e,.5)}()}),mm=ct({},Fi,{code:"EPSG:4326",projection:Ic,transformation:So(1/180,1,-1/180,.5)}),qb=ct({},pi,{projection:Ic,transformation:So(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var i=t.lng-e.lng,n=t.lat-e.lat;return Math.sqrt(i*i+n*n)},infinite:!0});pi.Earth=Fi;pi.EPSG3395=Yb;pi.EPSG3857=_c;pi.EPSG900913=ib;pi.EPSG4326=mm;pi.Simple=qb;var De=Mo.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[it(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[it(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(!!t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var i=this.getEvents();t.on(i,this),this.once("remove",function(){t.off(i,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});G.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=it(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=it(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return it(e)in this._layers},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},_addLayers:function(e){e=e?Oe(e)?e:[e]:[];for(var t=0,i=e.length;t<i;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[it(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=it(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,i=this._getZoomSpan();for(var n in this._zoomBoundLayers){var s=this._zoomBoundLayers[n].options;e=s.minZoom===void 0?e:Math.min(e,s.minZoom),t=s.maxZoom===void 0?t:Math.max(t,s.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var is=De.extend({initialize:function(e,t){vt(this,t),this._layers={};var i,n;if(e)for(i=0,n=e.length;i<n;i++)this.addLayer(e[i])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),i,n;for(i in this._layers)n=this._layers[i],n[e]&&n[e].apply(n,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var i in this._layers)e.call(t,this._layers[i]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return it(e)}}),Gb=function(e,t){return new is(e,t)},on=is.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),is.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),is.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new ee;for(var t in this._layers){var i=this._layers[t];e.extend(i.getBounds?i.getBounds():i.getLatLng())}return e}}),Xb=function(e,t){return new on(e,t)},ss=mi.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){vt(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var i=this._getIconUrl(e);if(!i){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var n=this._createImg(i,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(n,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),n},_setIconStyles:function(e,t){var i=this.options,n=i[t+"Size"];typeof n=="number"&&(n=[n,n]);var s=B(n),o=B(t==="shadow"&&i.shadowAnchor||i.iconAnchor||s&&s.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(i.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),s&&(e.style.width=s.x+"px",e.style.height=s.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return A.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Rc(e){return new ss(e)}var yo=ss.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof yo.imagePath!="string"&&(yo.imagePath=this._detectIconPath()),(this.options.imagePath||yo.imagePath)+ss.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(i,n,s){var o=n.exec(i);return o&&o[s]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=et("div","leaflet-default-icon-path",document.body),t=xo(e,"background-image")||xo(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var i=document.querySelector('link[href$="leaflet.css"]');return i?i.href.substring(0,i.href.length-11-1):""}}),Ef=Ke.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ii(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),U(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Dt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,i=t._map,n=this._marker.options.autoPanSpeed,s=this._marker.options.autoPanPadding,o=an(t._icon),r=i.getPixelBounds(),a=i.getPixelOrigin(),l=Qt(r.min._subtract(a).add(s),r.max._subtract(a).subtract(s));if(!l.contains(o)){var c=B((Math.max(l.max.x,o.x)-l.max.x)/(r.max.x-l.max.x)-(Math.min(l.min.x,o.x)-l.min.x)/(r.min.x-l.min.x),(Math.max(l.max.y,o.y)-l.max.y)/(r.max.y-l.max.y)-(Math.min(l.min.y,o.y)-l.min.y)/(r.min.y-l.min.y)).multiplyBy(n);i.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Ft(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=te(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(ye(this._panRequest),this._panRequest=te(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,i=t._shadow,n=an(t._icon),s=t._map.layerPointToLatLng(n);i&&Ft(i,n),t._latlng=s,e.latlng=s,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){ye(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),cs=De.extend({options:{icon:new yo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){vt(this,t),this._latlng=mt(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=mt(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),i=e.icon.createIcon(this._icon),n=!1;i!==this._icon&&(this._icon&&this._removeIcon(),n=!0,e.title&&(i.title=e.title),i.tagName==="IMG"&&(i.alt=e.alt||"")),U(i,t),e.keyboard&&(i.tabIndex="0",i.setAttribute("role","button")),this._icon=i,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&N(i,"focus",this._panOnFocus,this);var s=e.icon.createShadow(this._shadow),o=!1;s!==this._shadow&&(this._removeShadow(),o=!0),s&&(U(s,t),s.alt=""),this._shadow=s,e.opacity<1&&this._updateOpacity(),n&&this.getPane().appendChild(this._icon),this._initInteraction(),s&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&pt(this._icon,"focus",this._panOnFocus,this),St(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&St(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Ft(this._icon,e),this._shadow&&Ft(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(!!this.options.interactive&&(U(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ef)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ef(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&_e(this._icon,e),this._shadow&&_e(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(!!e){var t=this.options.icon.options,i=t.iconSize?B(t.iconSize):B(0,0),n=t.iconAnchor?B(t.iconAnchor):B(0,0);e.panInside(this._latlng,{paddingTopLeft:n,paddingBottomRight:i.subtract(n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Kb(e,t){return new cs(e,t)}var zi=De.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return vt(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),$r=zi.extend({options:{fill:!0,radius:10},initialize:function(e,t){vt(this,t),this._latlng=mt(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=mt(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return zi.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,i=this._clickTolerance(),n=[e+i,t+i];this._pxBounds=new Et(this._point.subtract(n),this._point.add(n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Jb(e,t){return new $r(e,t)}var Fc=$r.extend({initialize:function(e,t,i){if(typeof t=="number"&&(t=ct({},i,{radius:t})),vt(this,t),this._latlng=mt(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new ee(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:zi.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,i=this._map,n=i.options.crs;if(n.distance===Fi.distance){var s=Math.PI/180,o=this._mRadius/Fi.R/s,r=i.project([t+o,e]),a=i.project([t-o,e]),l=r.add(a).divideBy(2),c=i.unproject(l).lat,h=Math.acos((Math.cos(o*s)-Math.sin(t*s)*Math.sin(c*s))/(Math.cos(t*s)*Math.cos(c*s)))/s;(isNaN(h)||h===0)&&(h=o/Math.cos(Math.PI/180*t)),this._point=l.subtract(i.getPixelOrigin()),this._radius=isNaN(h)?0:l.x-i.project([c,e-h]).x,this._radiusY=l.y-r.y}else{var u=n.unproject(n.project(this._latlng).subtract([this._mRadius,0]));this._point=i.latLngToLayerPoint(this._latlng),this._radius=this._point.x-i.latLngToLayerPoint(u).x}this._updateBounds()}});function Qb(e,t,i){return new Fc(e,t,i)}var fi=zi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){vt(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,i=null,n=Po,s,o,r=0,a=this._parts.length;r<a;r++)for(var l=this._parts[r],c=1,h=l.length;c<h;c++){s=l[c-1],o=l[c];var u=n(e,s,o,!0);u<t&&(t=u,i=n(e,s,o))}return i&&(i.distance=Math.sqrt(t)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return um(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=mt(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new ee,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return ve(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],i=ve(e),n=0,s=e.length;n<s;n++)i?(t[n]=mt(e[n]),this._bounds.extend(t[n])):t[n]=this._convertLatLngs(e[n]);return t},_project:function(){var e=new Et;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new W(e,e);!this._rawPxBounds||(this._pxBounds=new Et([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,i){var n=e[0]instanceof J,s=e.length,o,r;if(n){for(r=[],o=0;o<s;o++)r[o]=this._map.latLngToLayerPoint(e[o]),i.extend(r[o]);t.push(r)}else for(o=0;o<s;o++)this._projectLatlngs(e[o],t,i)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,i,n,s,o,r,a,l;for(i=0,s=0,o=this._rings.length;i<o;i++)for(l=this._rings[i],n=0,r=l.length;n<r-1;n++)a=cm(l[n],l[n+1],e,n,!0),a&&(t[s]=t[s]||[],t[s].push(a[0]),(a[1]!==l[n+1]||n===r-2)&&(t[s].push(a[1]),s++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,i=0,n=e.length;i<n;i++)e[i]=am(e[i],t)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var i,n,s,o,r,a,l=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,o=this._parts.length;i<o;i++)for(a=this._parts[i],n=0,r=a.length,s=r-1;n<r;s=n++)if(!(!t&&n===0)&&lm(e,a[s],a[n])<=l)return!0;return!1}});function tx(e,t){return new fi(e,t)}fi._flat=hm;var os=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return fm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=fi.prototype._convertLatLngs.call(this,e),i=t.length;return i>=2&&t[0]instanceof J&&t[0].equals(t[i-1])&&t.pop(),t},_setLatLngs:function(e){fi.prototype._setLatLngs.call(this,e),ve(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ve(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,i=new W(t,t);if(e=new Et(e.min.subtract(i),e.max.add(i)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var n=0,s=this._rings.length,o;n<s;n++)o=dm(this._rings[n],e,!0),o.length&&this._parts.push(o)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,i,n,s,o,r,a,l,c;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,l=this._parts.length;o<l;o++)for(i=this._parts[o],r=0,c=i.length,a=c-1;r<c;a=r++)n=i[r],s=i[a],n.y>e.y!=s.y>e.y&&e.x<(s.x-n.x)*(e.y-n.y)/(s.y-n.y)+n.x&&(t=!t);return t||fi.prototype._containsPoint.call(this,e,!0)}});function ex(e,t){return new os(e,t)}var _i=on.extend({initialize:function(e,t){vt(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=Oe(e)?e:e.features,i,n,s;if(t){for(i=0,n=t.length;i<n;i++)s=t[i],(s.geometries||s.geometry||s.features||s.coordinates)&&this.addData(s);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var r=Nr(e,o);return r?(r.feature=jr(e),r.defaultOptions=r.options,this.resetStyle(r),o.onEachFeature&&o.onEachFeature(e,r),this.addLayer(r)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=ct({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function Nr(e,t){var i=e.type==="Feature"?e.geometry:e,n=i?i.coordinates:null,s=[],o=t&&t.pointToLayer,r=t&&t.coordsToLatLng||zc,a,l,c,h;if(!n&&!i)return null;switch(i.type){case"Point":return a=r(n),Lf(o,e,a,t);case"MultiPoint":for(c=0,h=n.length;c<h;c++)a=r(n[c]),s.push(Lf(o,e,a,t));return new on(s);case"LineString":case"MultiLineString":return l=Hr(n,i.type==="LineString"?0:1,r),new fi(l,t);case"Polygon":case"MultiPolygon":return l=Hr(n,i.type==="Polygon"?1:2,r),new os(l,t);case"GeometryCollection":for(c=0,h=i.geometries.length;c<h;c++){var u=Nr({geometry:i.geometries[c],type:"Feature",properties:e.properties},t);u&&s.push(u)}return new on(s);case"FeatureCollection":for(c=0,h=i.features.length;c<h;c++){var f=Nr(i.features[c],t);f&&s.push(f)}return new on(s);default:throw new Error("Invalid GeoJSON object.")}}function Lf(e,t,i,n){return e?e(t,i):new cs(i,n&&n.markersInheritOptions&&n)}function zc(e){return new J(e[1],e[0],e[2])}function Hr(e,t,i){for(var n=[],s=0,o=e.length,r;s<o;s++)r=t?Hr(e[s],t-1,i):(i||zc)(e[s]),n.push(r);return n}function Bc(e,t){return e=mt(e),e.alt!==void 0?[Ye(e.lng,t),Ye(e.lat,t),Ye(e.alt,t)]:[Ye(e.lng,t),Ye(e.lat,t)]}function Ur(e,t,i,n){for(var s=[],o=0,r=e.length;o<r;o++)s.push(t?Ur(e[o],ve(e[o])?0:t-1,i,n):Bc(e[o],n));return!t&&i&&s.push(s[0]),s}function rs(e,t){return e.feature?ct({},e.feature,{geometry:t}):jr(t)}function jr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var Nc={toGeoJSON:function(e){return rs(this,{type:"Point",coordinates:Bc(this.getLatLng(),e)})}};cs.include(Nc);Fc.include(Nc);$r.include(Nc);fi.include({toGeoJSON:function(e){var t=!ve(this._latlngs),i=Ur(this._latlngs,t?1:0,!1,e);return rs(this,{type:(t?"Multi":"")+"LineString",coordinates:i})}});os.include({toGeoJSON:function(e){var t=!ve(this._latlngs),i=t&&!ve(this._latlngs[0]),n=Ur(this._latlngs,i?2:t?1:0,!0,e);return t||(n=[n]),rs(this,{type:(i?"Multi":"")+"Polygon",coordinates:n})}});is.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(i){t.push(i.toGeoJSON(e).geometry.coordinates)}),rs(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var i=t==="GeometryCollection",n=[];return this.eachLayer(function(s){if(s.toGeoJSON){var o=s.toGeoJSON(e);if(i)n.push(o.geometry);else{var r=jr(o);r.type==="FeatureCollection"?n.push.apply(n,r.features):n.push(r)}}}),i?rs(this,{geometries:n,type:"GeometryCollection"}):{type:"FeatureCollection",features:n}}});function pm(e,t){return new _i(e,t)}var ix=pm,Yr=De.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,i){this._url=e,this._bounds=Wt(t),vt(this,i)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(U(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){St(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&as(this._image),this},bringToBack:function(){return this._map&&ls(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=Wt(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:et("img");if(U(t,"leaflet-image-layer"),this._zoomAnimated&&U(t,"leaflet-zoom-animated"),this.options.className&&U(t,this.options.className),t.onselectstart=Rt,t.onmousemove=Rt,t.onload=yt(this.fire,this,"load"),t.onerror=yt(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),i=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;rn(this._image,i,t)},_reset:function(){var e=this._image,t=new Et(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),i=t.getSize();Ft(e,t.min),e.style.width=i.x+"px",e.style.height=i.y+"px"},_updateOpacity:function(){_e(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),nx=function(e,t,i){return new Yr(e,t,i)},gm=Yr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:et("video");if(U(t,"leaflet-image-layer"),this._zoomAnimated&&U(t,"leaflet-zoom-animated"),this.options.className&&U(t,this.options.className),t.onselectstart=Rt,t.onmousemove=Rt,t.onloadeddata=yt(this.fire,this,"load"),e){for(var i=t.getElementsByTagName("source"),n=[],s=0;s<i.length;s++)n.push(i[s].src);this._url=i.length>0?n:[t.src];return}Oe(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var o=0;o<this._url.length;o++){var r=et("source");r.src=this._url[o],t.appendChild(r)}}});function sx(e,t,i){return new gm(e,t,i)}var _m=Yr.extend({_initImage:function(){var e=this._image=this._url;U(e,"leaflet-image-layer"),this._zoomAnimated&&U(e,"leaflet-zoom-animated"),this.options.className&&U(e,this.options.className),e.onselectstart=Rt,e.onmousemove=Rt}});function ox(e,t,i){return new _m(e,t,i)}var Ge=De.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof L.LatLng||Oe(e))?(this._latlng=mt(e),vt(this,t)):(vt(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&_e(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&_e(this._container,1),this.bringToFront(),this.options.interactive&&(U(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(_e(this._container,0),this._removeTimeout=setTimeout(yt(St,void 0,this._container),200)):St(this._container),this.options.interactive&&(Dt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=mt(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&as(this._container),this},bringToBack:function(){return this._map&&ls(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof on){t=null;var i=this._source._layers;for(var n in i)if(i[n]._map){t=i[n];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=B(this.options.offset),i=this._getAnchor();this._zoomAnimated?Ft(this._container,e.add(i)):t=t.add(e).add(i);var n=this._containerBottom=-t.y,s=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=n+"px",this._container.style.left=s+"px"}},_getAnchor:function(){return[0,0]}});G.include({_initOverlay:function(e,t,i,n){var s=t;return s instanceof e||(s=new e(n).setContent(t)),i&&s.setLatLng(i),s}});De.include({_initOverlay:function(e,t,i,n){var s=i;return s instanceof e?(vt(s,n),s._source=this):(s=t&&!n?t:new e(n,this),s.setContent(i)),s}});var qr=Ge.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Ge.prototype.openOn.call(this,e)},onAdd:function(e){Ge.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zi||this._source.on("preclick",nn))},onRemove:function(e){Ge.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zi||this._source.off("preclick",nn))},getEvents:function(){var e=Ge.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=et("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),i=this._wrapper=et("div",e+"-content-wrapper",t);if(this._contentNode=et("div",e+"-content",i),Lo(t),Oc(this._contentNode),N(t,"contextmenu",nn),this._tipContainer=et("div",e+"-tip-container",t),this._tip=et("div",e+"-tip",this._tipContainer),this.options.closeButton){var n=this._closeButton=et("a",e+"-close-button",t);n.setAttribute("role","button"),n.setAttribute("aria-label","Close popup"),n.href="#close",n.innerHTML='<span aria-hidden="true">&#215;</span>',N(n,"click",function(s){Ut(s),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var i=e.offsetWidth;i=Math.min(i,this.options.maxWidth),i=Math.max(i,this.options.minWidth),t.width=i+1+"px",t.whiteSpace="",t.height="";var n=e.offsetHeight,s=this.options.maxHeight,o="leaflet-popup-scrolled";s&&n>s?(t.height=s+"px",U(e,o)):Dt(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),i=this._getAnchor();Ft(this._container,t.add(i))},_adjustPan:function(e){if(!!this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,i=parseInt(xo(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+i,s=this._containerWidth,o=new W(this._containerLeft,-n-this._containerBottom);o._add(an(this._container));var r=t.layerPointToContainerPoint(o),a=B(this.options.autoPanPadding),l=B(this.options.autoPanPaddingTopLeft||a),c=B(this.options.autoPanPaddingBottomRight||a),h=t.getSize(),u=0,f=0;r.x+s+c.x>h.x&&(u=r.x+s-h.x+c.x),r.x-u-l.x<0&&(u=r.x-l.x),r.y+n+c.y>h.y&&(f=r.y+n-h.y+c.y),r.y-f-l.y<0&&(f=r.y-l.y),(u||f)&&t.fire("autopanstart").panBy([u,f],{animate:e&&e.type==="moveend"})}},_getAnchor:function(){return B(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),rx=function(e,t){return new qr(e,t)};G.mergeOptions({closePopupOnClick:!0});G.include({openPopup:function(e,t,i){return this._initOverlay(qr,e,t,i).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}});De.include({bindPopup:function(e,t){return this._popup=this._initOverlay(qr,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&this._popup._prepareOpen(e)&&this._popup.openOn(this._map),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ln(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof zi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Gr=Ge.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Ge.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Ge.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Ge.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=et("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+it(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,i,n=this._map,s=this._container,o=n.latLngToContainerPoint(n.getCenter()),r=n.layerPointToContainerPoint(e),a=this.options.direction,l=s.offsetWidth,c=s.offsetHeight,h=B(this.options.offset),u=this._getAnchor();a==="top"?(t=l/2,i=c):a==="bottom"?(t=l/2,i=0):a==="center"?(t=l/2,i=c/2):a==="right"?(t=0,i=c/2):a==="left"?(t=l,i=c/2):r.x<o.x?(a="right",t=0,i=c/2):(a="left",t=l+(h.x+u.x)*2,i=c/2),e=e.subtract(B(t,i,!0)).add(h).add(u),Dt(s,"leaflet-tooltip-right"),Dt(s,"leaflet-tooltip-left"),Dt(s,"leaflet-tooltip-top"),Dt(s,"leaflet-tooltip-bottom"),U(s,"leaflet-tooltip-"+a),Ft(s,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&_e(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return B(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ax=function(e,t){return new Gr(e,t)};G.include({openTooltip:function(e,t,i){return this._initOverlay(Gr,e,t,i).openOn(this),this},closeTooltip:function(e){return e.close(),this}});De.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Gr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",i={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?i.add=this._openTooltip:(i.mouseover=this._openTooltip,i.mouseout=this.closeTooltip,i.click=this._openTooltip,this._map?this._addFocusListeners():i.add=this._addFocusListeners),this._tooltip.options.sticky&&(i.mousemove=this._moveTooltip),this[t](i),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this)),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){N(e.getElement(),"focus",function(){this._tooltip._source=e,this.openTooltip()},this),N(e.getElement(),"blur",this.closeTooltip,this)},_setAriaDescribedByOnLayer:function(e){e.getElement().setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t=e.latlng,i,n;this._tooltip.options.sticky&&e.originalEvent&&(i=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(i),t=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(t)}});var ym=ss.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),i=this.options;if(i.html instanceof Element?(Fr(t),t.appendChild(i.html)):t.innerHTML=i.html!==!1?i.html:"",i.bgPos){var n=B(i.bgPos);t.style.backgroundPosition=-n.x+"px "+-n.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function lx(e){return new ym(e)}ss.Default=yo;var vo=De.extend({options:{tileSize:256,opacity:1,updateWhenIdle:A.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){vt(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),St(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(as(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ls(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=kf(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof W?e:new W(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,i=-e(-1/0,1/0),n=0,s=t.length,o;n<s;n++)o=t[n].style.zIndex,t[n]!==this._container&&o&&(i=e(i,+o));isFinite(i)&&(this.options.zIndex=i+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!A.ielt9){_e(this._container,this.options.opacity);var e=+new Date,t=!1,i=!1;for(var n in this._tiles){var s=this._tiles[n];if(!(!s.current||!s.loaded)){var o=Math.min(1,(e-s.loaded)/200);_e(s.el,o),o<1?t=!0:(s.active?i=!0:this._onOpaqueTile(s),s.active=!0)}}i&&!this._noPrune&&this._pruneTiles(),t&&(ye(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this))}},_onOpaqueTile:Rt,_initContainer:function(){this._container||(this._container=et("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var i in this._levels)i=Number(i),this._levels[i].el.children.length||i===e?(this._levels[i].el.style.zIndex=t-Math.abs(e-i),this._onUpdateLevel(i)):(St(this._levels[i].el),this._removeTilesAtZoom(i),this._onRemoveLevel(i),delete this._levels[i]);var n=this._levels[e],s=this._map;return n||(n=this._levels[e]={},n.el=et("div","leaflet-tile-container leaflet-zoom-animated",this._container),n.el.style.zIndex=t,n.origin=s.project(s.unproject(s.getPixelOrigin()),e).round(),n.zoom=e,this._setZoomTransform(n,s.getCenter(),s.getZoom()),Rt(n.el.offsetWidth),this._onCreateLevel(n)),this._level=n,n}},_onUpdateLevel:Rt,_onRemoveLevel:Rt,_onCreateLevel:Rt,_pruneTiles:function(){if(!!this._map){var e,t,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var n=t.coords;this._retainParent(n.x,n.y,n.z,n.z-5)||this._retainChildren(n.x,n.y,n.z,n.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)St(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,i,n){var s=Math.floor(e/2),o=Math.floor(t/2),r=i-1,a=new W(+s,+o);a.z=+r;var l=this._tileCoordsToKey(a),c=this._tiles[l];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),r>n?this._retainParent(s,o,r,n):!1)},_retainChildren:function(e,t,i,n){for(var s=2*e;s<2*e+2;s++)for(var o=2*t;o<2*t+2;o++){var r=new W(s,o);r.z=i+1;var a=this._tileCoordsToKey(r),l=this._tiles[a];if(l&&l.active){l.retain=!0;continue}else l&&l.loaded&&(l.retain=!0);i+1<n&&this._retainChildren(s,o,i+1,n)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,i,n){var s=Math.round(t);this.options.maxZoom!==void 0&&s>this.options.maxZoom||this.options.minZoom!==void 0&&s<this.options.minZoom?s=void 0:s=this._clampZoom(s);var o=this.options.updateWhenZooming&&s!==this._tileZoom;(!n||o)&&(this._tileZoom=s,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),s!==void 0&&this._update(e),i||this._pruneTiles(),this._noPrune=!!i),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var i in this._levels)this._setZoomTransform(this._levels[i],e,t)},_setZoomTransform:function(e,t,i){var n=this._map.getZoomScale(i,e.zoom),s=e.origin.multiplyBy(n).subtract(this._map._getNewPixelOrigin(t,i)).round();A.any3d?rn(e.el,s,n):Ft(e.el,s)},_resetGrid:function(){var e=this._map,t=e.options.crs,i=this._tileSize=this.getTileSize(),n=this._tileZoom,s=this._map.getPixelWorldBounds(this._tileZoom);s&&(this._globalTileRange=this._pxBoundsToTileRange(s)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],n).x/i.x),Math.ceil(e.project([0,t.wrapLng[1]],n).x/i.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],n).y/i.x),Math.ceil(e.project([t.wrapLat[1],0],n).y/i.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,i=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),n=t.getZoomScale(i,this._tileZoom),s=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(n*2);return new Et(s.subtract(o),s.add(o))},_update:function(e){var t=this._map;if(!!t){var i=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var n=this._getTiledPixelBounds(e),s=this._pxBoundsToTileRange(n),o=s.getCenter(),r=[],a=this.options.keepBuffer,l=new Et(s.getBottomLeft().subtract([a,-a]),s.getTopRight().add([a,-a]));if(!(isFinite(s.min.x)&&isFinite(s.min.y)&&isFinite(s.max.x)&&isFinite(s.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var h=this._tiles[c].coords;(h.z!==this._tileZoom||!l.contains(new W(h.x,h.y)))&&(this._tiles[c].current=!1)}if(Math.abs(i-this._tileZoom)>1){this._setView(e,i);return}for(var u=s.min.y;u<=s.max.y;u++)for(var f=s.min.x;f<=s.max.x;f++){var m=new W(f,u);if(m.z=this._tileZoom,!!this._isValidTile(m)){var d=this._tiles[this._tileCoordsToKey(m)];d?d.current=!0:r.push(m)}}if(r.sort(function(g,y){return g.distanceTo(o)-y.distanceTo(o)}),r.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var p=document.createDocumentFragment();for(f=0;f<r.length;f++)this._addTile(r[f],p);this._level.el.appendChild(p)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var i=this._globalTileRange;if(!t.wrapLng&&(e.x<i.min.x||e.x>i.max.x)||!t.wrapLat&&(e.y<i.min.y||e.y>i.max.y))return!1}if(!this.options.bounds)return!0;var n=this._tileCoordsToBounds(e);return Wt(this.options.bounds).overlaps(n)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,i=this.getTileSize(),n=e.scaleBy(i),s=n.add(i),o=t.unproject(n,e.z),r=t.unproject(s,e.z);return[o,r]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),i=new ee(t[0],t[1]);return this.options.noWrap||(i=this._map.wrapLatLngBounds(i)),i},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),i=new W(+t[0],+t[1]);return i.z=+t[2],i},_removeTile:function(e){var t=this._tiles[e];!t||(St(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){U(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=Rt,e.onmousemove=Rt,A.ielt9&&this.options.opacity<1&&_e(e,this.options.opacity)},_addTile:function(e,t){var i=this._getTilePos(e),n=this._tileCoordsToKey(e),s=this.createTile(this._wrapCoords(e),yt(this._tileReady,this,e));this._initTile(s),this.createTile.length<2&&te(yt(this._tileReady,this,e,null,s)),Ft(s,i),this._tiles[n]={el:s,coords:e,current:!0},t.appendChild(s),this.fire("tileloadstart",{tile:s,coords:e})},_tileReady:function(e,t,i){t&&this.fire("tileerror",{error:t,tile:i,coords:e});var n=this._tileCoordsToKey(e);i=this._tiles[n],i&&(i.loaded=+new Date,this._map._fadeAnimated?(_e(i.el,0),ye(this._fadeFrame),this._fadeFrame=te(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),t||(U(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),A.ielt9||!this._map._fadeAnimated?te(this._pruneTiles,this):setTimeout(yt(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new W(this._wrapX?bo(e.x,this._wrapX):e.x,this._wrapY?bo(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new Et(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function cx(e){return new vo(e)}var Ri=vo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=vt(this,t),t.detectRetina&&A.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var i=document.createElement("img");return N(i,"load",yt(this._tileOnLoad,this,t,i)),N(i,"error",yt(this._tileOnError,this,t,i)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(i.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(i.referrerPolicy=this.options.referrerPolicy),i.alt="",i.src=this.getTileUrl(e),i},getTileUrl:function(e){var t={r:A.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=i),t["-y"]=i}return Cf(this._url,ct(t,this.options))},_tileOnLoad:function(e,t){A.ielt9?setTimeout(yt(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,i){var n=this.options.errorTileUrl;n&&t.getAttribute("src")!==n&&(t.src=n),e(i,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,i=this.options.zoomReverse,n=this.options.zoomOffset;return i&&(e=t-e),e+n},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=Rt,t.onerror=Rt,!t.complete)){t.src=Cr;var i=this._tiles[e].coords;St(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:i})}},_removeTile:function(e){var t=this._tiles[e];if(!!t)return t.el.setAttribute("src",Cr),vo.prototype._removeTile.call(this,e)},_tileReady:function(e,t,i){if(!(!this._map||i&&i.getAttribute("src")===Cr))return vo.prototype._tileReady.call(this,e,t,i)}});function Xr(e,t){return new Ri(e,t)}var vm=Ri.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var i=ct({},this.defaultWmsParams);for(var n in t)n in this.options||(i[n]=t[n]);t=vt(this,t);var s=t.detectRetina&&A.retina?2:1,o=this.getTileSize();i.width=o.x*s,i.height=o.y*s,this.wmsParams=i},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Ri.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),i=this._crs,n=Qt(i.project(t[0]),i.project(t[1])),s=n.min,o=n.max,r=(this._wmsVersion>=1.3&&this._crs===mm?[s.y,s.x,o.y,o.x]:[s.x,s.y,o.x,o.y]).join(","),a=Ri.prototype.getTileUrl.call(this,e);return a+Of(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(e,t){return ct(this.wmsParams,e),t||this.redraw(),this}});function hx(e,t){return new vm(e,t)}Ri.WMS=vm;Xr.wms=hx;var di=De.extend({options:{padding:.1},initialize:function(e){vt(this,e),it(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&U(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var i=this._map.getZoomScale(t,this._zoom),n=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,t),o=n.multiplyBy(-i).add(s).subtract(this._map._getNewPixelOrigin(e,t));A.any3d?rn(this._container,o,i):Ft(this._container,o)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),i=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new Et(i,i.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),bm=di.extend({options:{tolerance:0},getEvents:function(){var e=di.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){di.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");N(e,"mousemove",this._onMouseMove,this),N(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),N(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){ye(this._redrawRequest),delete this._ctx,St(this._container),pt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){di.prototype._update.call(this);var e=this._bounds,t=this._container,i=e.getSize(),n=A.retina?2:1;Ft(t,e.min),t.width=n*i.x,t.height=n*i.y,t.style.width=i.x+"px",t.style.height=i.y+"px",A.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){di.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[it(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,i=t.next,n=t.prev;i?i.prev=n:this._drawLast=n,n?n.next=i:this._drawFirst=i,delete e._order,delete this._layers[it(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),i=[],n,s;for(s=0;s<t.length;s++){if(n=Number(t[s]),isNaN(n))return;i.push(n)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){!this._map||(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||te(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Et,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var i=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,i.x,i.y),this._ctx.clip()}this._drawing=!0;for(var n=this._drawFirst;n;n=n.next)e=n.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(!!this._drawing){var i,n,s,o,r=e._parts,a=r.length,l=this._ctx;if(!!a){for(l.beginPath(),i=0;i<a;i++){for(n=0,s=r[i].length;n<s;n++)o=r[i][n],l[n?"lineTo":"moveTo"](o.x,o.y);t&&l.closePath()}this._fillStroke(l,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,i=this._ctx,n=Math.max(Math.round(e._radius),1),s=(Math.max(Math.round(e._radiusY),1)||n)/n;s!==1&&(i.save(),i.scale(1,s)),i.beginPath(),i.arc(t.x,t.y/s,n,0,Math.PI*2,!1),s!==1&&i.restore(),this._fillStroke(i,e)}},_fillStroke:function(e,t){var i=t.options;i.fill&&(e.globalAlpha=i.fillOpacity,e.fillStyle=i.fillColor||i.color,e.fill(i.fillRule||"evenodd")),i.stroke&&i.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=i.opacity,e.lineWidth=i.weight,e.strokeStyle=i.color,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),i,n,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(i))&&(n=i);this._fireEvent(n?[n]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(Dt(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var i,n,s=this._drawFirst;s;s=s.next)i=s.layer,i.options.interactive&&i._containsPoint(t)&&(n=i);n!==this._hoveredLayer&&(this._handleMouseOut(e),n&&(U(this._container,"leaflet-interactive"),this._fireEvent([n],e,"mouseover"),this._hoveredLayer=n)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(yt(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,i){this._map._fireDOMEvent(t,i||t.type,e)},_bringToFront:function(e){var t=e._order;if(!!t){var i=t.next,n=t.prev;if(i)i.prev=n;else return;n?n.next=i:i&&(this._drawFirst=i),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(!!t){var i=t.next,n=t.prev;if(n)n.next=i;else return;i?i.prev=n:n&&(this._drawLast=n),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function xm(e){return A.canvas?new bm(e):null}var go=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ux={_initContainer:function(){this._container=et("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(di.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=go("shape");U(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=go("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[it(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;St(t),e.removeInteractiveTarget(t),delete this._layers[it(e)]},_updateStyle:function(e){var t=e._stroke,i=e._fill,n=e.options,s=e._container;s.stroked=!!n.stroke,s.filled=!!n.fill,n.stroke?(t||(t=e._stroke=go("stroke")),s.appendChild(t),t.weight=n.weight+"px",t.color=n.color,t.opacity=n.opacity,n.dashArray?t.dashStyle=Oe(n.dashArray)?n.dashArray.join(" "):n.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=n.lineCap.replace("butt","flat"),t.joinstyle=n.lineJoin):t&&(s.removeChild(t),e._stroke=null),n.fill?(i||(i=e._fill=go("fill")),s.appendChild(i),i.color=n.fillColor||n.color,i.opacity=n.fillOpacity):i&&(s.removeChild(i),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),i=Math.round(e._radius),n=Math.round(e._radiusY||i);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+i+","+n+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){as(e._container)},_bringToBack:function(e){ls(e._container)}},Ir=A.vml?go:If,ko=di.extend({_initContainer:function(){this._container=Ir("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ir("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){St(this._container),pt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){di.prototype._update.call(this);var e=this._bounds,t=e.getSize(),i=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,i.setAttribute("width",t.x),i.setAttribute("height",t.y)),Ft(i,e.min),i.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=Ir("path");e.options.className&&U(t,e.options.className),e.options.interactive&&U(t,"leaflet-interactive"),this._updateStyle(e),this._layers[it(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){St(e._path),e.removeInteractiveTarget(e._path),delete this._layers[it(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,i=e.options;!t||(i.stroke?(t.setAttribute("stroke",i.color),t.setAttribute("stroke-opacity",i.opacity),t.setAttribute("stroke-width",i.weight),t.setAttribute("stroke-linecap",i.lineCap),t.setAttribute("stroke-linejoin",i.lineJoin),i.dashArray?t.setAttribute("stroke-dasharray",i.dashArray):t.removeAttribute("stroke-dasharray"),i.dashOffset?t.setAttribute("stroke-dashoffset",i.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),i.fill?(t.setAttribute("fill",i.fillColor||i.color),t.setAttribute("fill-opacity",i.fillOpacity),t.setAttribute("fill-rule",i.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Rf(e._parts,t))},_updateCircle:function(e){var t=e._point,i=Math.max(Math.round(e._radius),1),n=Math.max(Math.round(e._radiusY),1)||i,s="a"+i+","+n+" 0 1,0 ",o=e._empty()?"M0 0":"M"+(t.x-i)+","+t.y+s+i*2+",0 "+s+-i*2+",0 ";this._setPath(e,o)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){as(e._path)},_bringToBack:function(e){ls(e._path)}});A.vml&&ko.include(ux);function wm(e){return A.svg||A.vml?new ko(e):null}G.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&xm(e)||wm(e)}});var Tm=os.extend({initialize:function(e,t){os.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=Wt(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function dx(e,t){return new Tm(e,t)}ko.create=Ir;ko.pointsToPath=Rf;_i.geometryToLayer=Nr;_i.coordsToLatLng=zc;_i.coordsToLatLngs=Hr;_i.latLngToCoords=Bc;_i.latLngsToCoords=Ur;_i.getFeature=rs;_i.asFeature=jr;G.mergeOptions({boxZoom:!0});var Mm=Ke.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){N(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){pt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){St(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),wo(),Ec(),this._startPoint=this._map.mouseEventToContainerPoint(e),N(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=et("div","leaflet-zoom-box",this._container),U(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new Et(this._point,this._startPoint),i=t.getSize();Ft(this._box,t.min),this._box.style.width=i.x+"px",this._box.style.height=i.y+"px"},_finish:function(){this._moved&&(St(this._box),Dt(this._container,"leaflet-crosshair")),To(),Lc(),pt(document,{contextmenu:ln,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(yt(this._resetState,this),0);var t=new ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});G.addInitHook("addHandler","boxZoom",Mm);G.mergeOptions({doubleClickZoom:!0});var Sm=Ke.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,i=t.getZoom(),n=t.options.zoomDelta,s=e.originalEvent.shiftKey?i-n:i+n;t.options.doubleClickZoom==="center"?t.setZoom(s):t.setZoomAround(e.containerPoint,s)}});G.addInitHook("addHandler","doubleClickZoom",Sm);G.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Em=Ke.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ii(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}U(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Dt(this._map._container,"leaflet-grab"),Dt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=Wt(this._map.options.maxBounds);this._offsetLimit=Qt(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,i=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(i),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,s=(n-t+i)%e+t-i,o=(n+t+i)%e-t-i,r=Math.abs(s+i)<Math.abs(o+i)?s:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=r},_onDragEnd:function(e){var t=this._map,i=t.options,n=!i.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),n)t.fire("moveend");else{this._prunePositions(+new Date);var s=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,r=i.easeLinearity,a=s.multiplyBy(r/o),l=a.distanceTo([0,0]),c=Math.min(i.inertiaMaxSpeed,l),h=a.multiplyBy(c/l),u=c/(i.inertiaDeceleration*r),f=h.multiplyBy(-u/2).round();!f.x&&!f.y?t.fire("moveend"):(f=t._limitOffset(f,t.options.maxBounds),te(function(){t.panBy(f,{duration:u,easeLinearity:r,noMoveStart:!0,animate:!0})}))}}});G.addInitHook("addHandler","dragging",Em);G.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Lm=Ke.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),N(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),pt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,i=e.scrollTop||t.scrollTop,n=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(n,i)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},i=this.keyCodes,n,s;for(n=0,s=i.left.length;n<s;n++)t[i.left[n]]=[-1*e,0];for(n=0,s=i.right.length;n<s;n++)t[i.right[n]]=[e,0];for(n=0,s=i.down.length;n<s;n++)t[i.down[n]]=[0,e];for(n=0,s=i.up.length;n<s;n++)t[i.up[n]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},i=this.keyCodes,n,s;for(n=0,s=i.zoomIn.length;n<s;n++)t[i.zoomIn[n]]=e;for(n=0,s=i.zoomOut.length;n<s;n++)t[i.zoomOut[n]]=-e},_addHooks:function(){N(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){pt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,i=this._map,n;if(t in this._panKeys)(!i._panAnim||!i._panAnim._inProgress)&&(n=this._panKeys[t],e.shiftKey&&(n=B(n).multiplyBy(3)),i.panBy(n),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(t in this._zoomKeys)i.setZoom(i.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&i._popup&&i._popup.options.closeOnEscapeKey)i.closePopup();else return;ln(e)}}});G.addInitHook("addHandler","keyboard",Lm);G.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Pm=Ke.extend({addHooks:function(){N(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){pt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=nm(e),i=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var n=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(yt(this._performZoom,this),n),ln(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),i=this._map.options.zoomSnap||0;e._stop();var n=this._delta/(this._map.options.wheelPxPerZoomLevel*4),s=4*Math.log(2/(1+Math.exp(-Math.abs(n))))/Math.LN2,o=i?Math.ceil(s/i)*i:s,r=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,r&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+r):e.setZoomAround(this._lastMousePos,t+r))}});G.addInitHook("addHandler","scrollWheelZoom",Pm);var fx=600;G.mergeOptions({tapHold:A.touchNative&&A.safari&&A.mobile,tapTolerance:15});var km=Ke.extend({addHooks:function(){N(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){pt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new W(t.clientX,t.clientY),this._holdTimeout=setTimeout(yt(function(){this._cancel(),this._isTapValid()&&(N(document,"touchend",Ut),N(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),fx),N(document,"touchend touchcancel contextmenu",this._cancel,this),N(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){pt(document,"touchend",Ut),pt(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),pt(document,"touchend touchcancel contextmenu",this._cancel,this),pt(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new W(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var i=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});i._simulated=!0,t.target.dispatchEvent(i)}});G.addInitHook("addHandler","tapHold",km);G.mergeOptions({touchZoom:A.touch,bounceAtZoomLimits:!0});var Om=Ke.extend({addHooks:function(){U(this._map._container,"leaflet-touch-zoom"),N(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Dt(this._map._container,"leaflet-touch-zoom"),pt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(i.add(n)._divideBy(2))),this._startDist=i.distanceTo(n),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),N(document,"touchmove",this._onTouchMove,this),N(document,"touchend touchcancel",this._onTouchEnd,this),Ut(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,i=t.mouseEventToContainerPoint(e.touches[0]),n=t.mouseEventToContainerPoint(e.touches[1]),s=i.distanceTo(n)/this._startDist;if(this._zoom=t.getScaleZoom(s,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&s<1||this._zoom>t.getMaxZoom()&&s>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,s===1)return}else{var o=i._add(n)._divideBy(2)._subtract(this._centerPoint);if(s===1&&o.x===0&&o.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),ye(this._animRequest);var r=yt(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=te(r,this,!0),Ut(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ye(this._animRequest),pt(document,"touchmove",this._onTouchMove,this),pt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});G.addInitHook("addHandler","touchZoom",Om);G.BoxZoom=Mm;G.DoubleClickZoom=Sm;G.Drag=Em;G.Keyboard=Lm;G.ScrollWheelZoom=Pm;G.TapHold=km;G.TouchZoom=Om;var mx={__proto__:null,version:Jv,Control:Yt,control:cn,Class:mi,Handler:Ke,extend:ct,bind:yt,stamp:it,setOptions:vt,Browser:A,Evented:Mo,Mixin:Nb,Util:tb,PosAnimation:sm,Draggable:Ii,DomEvent:Ce,DomUtil:gi,Point:W,point:B,Bounds:Et,bounds:Qt,Transformation:gc,transformation:So,LineUtil:$b,PolyUtil:Ub,LatLng:J,latLng:mt,LatLngBounds:ee,latLngBounds:Wt,CRS:pi,Projection:jb,Layer:De,LayerGroup:is,layerGroup:Gb,FeatureGroup:on,featureGroup:Xb,ImageOverlay:Yr,imageOverlay:nx,VideoOverlay:gm,videoOverlay:sx,SVGOverlay:_m,svgOverlay:ox,DivOverlay:Ge,Popup:qr,popup:rx,Tooltip:Gr,tooltip:ax,icon:Rc,DivIcon:ym,divIcon:lx,Marker:cs,marker:Kb,Icon:ss,GridLayer:vo,gridLayer:cx,TileLayer:Ri,tileLayer:Xr,Renderer:di,Canvas:bm,canvas:xm,Path:zi,CircleMarker:$r,circleMarker:Jb,Circle:Fc,circle:Qb,Polyline:fi,polyline:tx,Polygon:os,polygon:ex,Rectangle:Tm,rectangle:dx,SVG:ko,svg:wm,GeoJSON:_i,geoJSON:pm,geoJson:ix,Map:G,map:Ab},Cm=ct(mx,{noConflict:gx}),Hc=_x(),px=Hc.L;Hc.L=Cm;function gx(){return Hc.L=px,Cm}function _x(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("Unable to locate global object.")}function Am(e){let t=new Yt.Rainviewer({position:"topright",animationInterval:150,opacity:.75});return t.addTo(e),t.load(),t}Yt.Rainviewer=Yt.extend({options:{position:"bottomleft",animationInterval:500,opacity:.5},onAdd(e){return this.timestamps=[],this.radarLayers=[],this.currentTimestamp=0,this.nextTimestamp=0,this.animationPosition=0,this.animationTimer=!1,this.rainviewerActive=!1,this._map=e,this.container=gi.create("div","leaflet-control-rainviewer leaflet-bar leaflet-control"),this.container.style.border="none",this.container.style.background="rgba(100, 100, 100, 0.4)",this.container},load(){let e=this;this.apiRequest=new XMLHttpRequest,this.apiRequest.open("GET","https://tilecache.rainviewer.com/api/maps.json",!0),this.apiRequest.onload=()=>{e.timestamps=JSON.parse(e.apiRequest.response),e.showFrame(-1)},this.apiRequest.send(),gi.addClass(this.container,"leaflet-control-rainviewer-active"),this.controlContainer=gi.create("div","leaflet-control-rainviewer-container",this.container),this.positionSliderLabel=gi.create("label","leaflet-control-rainviewer-label leaflet-bar-part",this.controlContainer),this.positionSliderLabel.for="rainviewer-positionslider",this.positionSlider=gi.create("input","leaflet-control-rainviewer-positionslider leaflet-bar-part",this.controlContainer),this.positionSlider.type="range",this.positionSlider.id="rainviewer-positionslider",this.positionSlider.min=0,this.positionSlider.max=11,this.positionSlider.value=this.animationPosition,Ce.on(this.positionSlider,"input",e.setPosition,this),Ce.disableClickPropagation(this.positionSlider);let t='<div id="timestamp" class="leaflet-control-rainviewer-timestamp"></div>';this.controlContainer.insertAdjacentHTML("beforeend",t),Ce.disableClickPropagation(this.controlContainer)},unload(){gi.remove(this.controlContainer),gi.removeClass(this.container,"leaflet-control-rainviewer-active");let e=this.radarLayers,t=this._map;Object.keys(e).forEach(i=>{t.hasLayer(e[i])&&t.removeLayer(e[i])})},addLayer(e){let t=this._map;this.radarLayers[e]||(this.radarLayers[e]=new Ri("https://tilecache.rainviewer.com/v2/radar/"+e+"/256/{z}/{x}/{y}/2/1_1.png",{tileSize:256,opacity:.001,transparent:!0,attribution:'<a href="https://rainviewer.com" target="_blank">rainnviewer.com</a>',zIndex:e})),t.hasLayer(this.radarLayers[e])||t.addLayer(this.radarLayers[e])},changeRadarPosition(e,t){for(;e>=this.timestamps.length;)e-=this.timestamps.length;for(;e<0;)e+=this.timestamps.length;this.currentTimestamp=this.timestamps[this.animationPosition],this.nextTimestamp=this.timestamps[e],this.addLayer(this.nextTimestamp),!t&&(this.animationPosition=e,this.positionSlider.value=e,this.radarLayers[this.currentTimestamp]&&this.radarLayers[this.currentTimestamp].setOpacity(0),this.radarLayers[this.nextTimestamp].setOpacity(this.options.opacity),document.getElementById("timestamp").innerHTML=new Date(this.nextTimestamp*1e3).toLocaleString())},showFrame(e){let t=e-this.animationPosition>0?1:-1;this.changeRadarPosition(e),this.changeRadarPosition(e+t,!0)},setOpacity(e){this.radarLayers[this.currentTimestamp]&&this.radarLayers[this.currentTimestamp].setOpacity(e.srcElement.value/100)},setPosition(e){this.showFrame(e.srcElement.value)},stop(){return this.animationTimer?(clearTimeout(this.animationTimer),this.animationTimer=!1,!0):!1},play(){this.showFrame(this.animationPosition+1),this.animationTimer=setTimeout(()=>{this.play()},this.options.animationInterval)},playStop(){this.stop()||this.play()},prev(e){Ce.stopPropagation(e),Ce.preventDefault(e),this.stop(),this.showFrame(this.animationPosition-1)},startstop(e){Ce.stopPropagation(e),Ce.preventDefault(e),this.playStop()},next(e){Ce.stopPropagation(e),Ce.preventDefault(e),this.stop(),this.showFrame(this.animationPosition+1)},onRemove(){}});cn.rainviewer=e=>new Yt.Rainviewer(e);var Wc="https://{s}.google.com/vt/lyrs=y,h&x={x}&y={y}&z={z}",yx={maxZoom:20,subdomains:["mt0","mt1","mt2","mt3"]},Bi,hs;async function Im(e,t){O("updateRadar",{lat:e,lon:t,mapUrl:Wc});let i=document.getElementById("weather-radar");if(!i)return;let n=new IntersectionObserver(o=>{if(!(o[0].intersectionRatio<=0)){if(n.unobserve(i),Bi)Bi.setView(new J(e,t));else{O("createRadar",{lat:e,lon:t,mapUrl:Wc}),Bi=new G(i,{center:new J(e,t),zoom:9,zoomControl:!1,attributionControl:!1}),Xr(Wc,yx).addTo(Bi);let r=Am(Bi);setTimeout(()=>r.play(),2500),i.onclick=()=>r.playStop()}if(hs){let r=new J(e,t);hs.setLatLng(r)}else{let r=Rc({iconUrl:"../assets/marker.png",iconSize:[64,64]});hs=new cs(new J(e,t),{icon:r}),hs.addTo(Bi)}}});n.observe(i);let s=new J(e,t);Bi&&Bi.setView(s),hs&&hs.setLatLng(s)}var Zc=class extends HTMLElement{connectedCallback(){this.innerHTML=`
      <div id="weather-radar" style="width: 1000px; height: 1000px; margin: 40px 0 40px 0"></div>
    `}};customElements.define("component-radar",Zc);async function Ni(e,t=!0){if(t){let s=await fetch(`https://api.allorigins.win/get?url=${encodeURIComponent(e)}`);if(!s||!s.ok)return{};let o=(await s.json()).contents;return o?JSON.parse(o):{}}let i=await fetch(`${e}`);return!i||!i.ok?{}:i.json()||{}}var Rm={"&":"&#38;","<":"&lt;",">":"&gt;",'"':"&quot;","#":"&#35;","'":"&#39;","`":"&#x60;","(":"&#40;",")":"&#41;"},vx=e=>{let t={};for(let i in e)i in e&&(t[e[i]]=i);return t},bx=vx(Rm),Fm=e=>{let t=r=>e[r],i=[];for(let r in e)r in e&&i.push(r);let n=i.join("|");n=n.replace(/\(/g,"\\("),n=n.replace(/\)/g,"\\)"),n=`(?:${n})`;let s=RegExp(n),o=RegExp(n,"g");return r=>(r=r?""+r:"",s.test(r)?r.replace(o,t):r)},Ae=Fm(Rm),vM=Fm(bx);async function zm(e,t,i){var l,c,h,u,f;let n=document.getElementById("component-aqi");if(!n)return;let s=await Ni(`https://api.waqi.info/feed/geo:${e};${t}/?token=${i}`,!1);if(O("updateAQI",{lat:e,lon:t,aqi:s}),!((l=s.data)!=null&&l.city))return;let o=m=>m>300?`<span style="color: white; background: purple; padding: 2px">${m} - hazardous</span>`:m>200?`<span style="color: white; background: maroon; padding: 2px">${m} - very Unhealthy</span>`:m>150?`<span style="color: white; background: darkred; padding: 2px">${m} - unhealthy</span>`:m>100?`<span style="color: white; background: coral; padding: 2px">${m} - moderatly unhealthy</span>`:m>50?`<span style="color: white; background: yellowgreen; padding: 2px">${m} - moderate</span>`:m>0?`<span style="color: white; background: darkgreen; padding: 0px 8px 1px 8px">${m} - good</span>`:'<span style="color: white; background: maroon; padding: 2px">error</span>',a=`<span style="font-size: 1.4rem" title="${Ae(`${((c=s.data.attributions)==null?void 0:c[0].name)||""}
${((u=(h=s.data)==null?void 0:h.city)==null?void 0:u.name)||""}`)}"><a href="https://en.wikipedia.org/wiki/Air_quality_index">air quality index</a> ${o(s.data.aqi)}</span><br>`;a+='<span style="margin-right: 20px">';for(let[m,d]of Object.entries(((f=s==null?void 0:s.data)==null?void 0:f.iaqi)||{})){let p=Ae(d.v);m==="co"&&(a+=`<span title="Carbon Monoxide" style="margin-right: 20px">CO <span style="color: white">${p}</span></span>`),m==="no2"&&(a+=`<span title="Nitrogen Dioxide" style="margin-right: 20px">NO<span style="font-size: 0.5rem">2</span> <span style="color: white">${p}</span></span>`),m==="so2"&&(a+=`<span title="Sulfur Dioxide" style="margin-right: 20px">SO<span style="font-size: 0.5rem">2</span> <span style="color: white">${p}</span></span>`),m==="o3"&&(a+=`<span title="Ground-level Ozone" style="margin-right: 20px">O<span style="font-size: 0.5rem">3</span> <span style="color: white">${p}</span></span>`),m==="pm10"&&(a+=`<span title="Particulates < 10 microns" style="margin-right: 20px">PM<span style="font-size: 0.5rem">10.0</span> <span style="color: white">${p}</span></span>`),m==="pm25"&&(a+=`<span title="Particulates < 2.5 microns" style="margin-right: 20px">PM<span style="font-size: 0.5rem">2.5</span> <span style="color: white">${p}</span></span>`)}a+="</span>",n.innerHTML=a}var Vc=class extends HTMLElement{connectedCallback(){this.innerHTML=`
      <div id="component-aqi" class="component-aqi"></div>
    `}};customElements.define("component-aqi",Vc);function xx(e){switch(e.toLowerCase()){case"advistory":return"yellowgreen";case"watch":return"coral";case"warning":return"darkred";default:return"beige"}}function Bm(e){O("updateAlerts",{alerts:e.alerts});let t=document.getElementById("component-alerts");if(!t)return;let i="";if(e!=null&&e.alerts){i+='<span style="font-size: 1.8rem">Alerts</span><br>';for(let n of e.alerts)i+=`
      <div style="text-align: justify" title="${JSON.stringify(n,null,2).replace(/{|}|"|,/g,"").replace("  "," ")}">
        <a href="${n.uri}" target="_blank">
          <span style="color: bisque; -webkit-box-decoration-break: clone">\u25AA ${C.fromSeconds(n.time).toFormat("ccc LLL d T")} to ${C.fromSeconds(n.expires).toFormat("ccc LLL d T")}</span>
          <span style="padding: 2px; background: ${xx(n.severity)}"> ${n.severity}</span><br>
          <span style="color: beige; -webkit-box-decoration-break: clone; margin-left: 10px">for ${n.regions.join(", ")}</span><br>
          <span style="margin-left: 10px; -webkit-box-decoration-break: clone; font-weight: bold">${n.title}</span><br>
          <div style="margin-left: 10px; max-height: 3.8rem; overflow-y: auto; -webkit-box-decoration-break: clone">${n.description.toLowerCase()}</div>
        </a>
      </div>
    `}t.innerHTML=i}var $c=class extends HTMLElement{static get observedAttributes(){return["loc"]}connectedCallback(){this.innerHTML='<div class="component-alerts" id="component-alerts"></div>'}};customElements.define("component-alerts",$c);var us=document.createElement("iframe");us.id="weather-windy-iframe";us.width="1000";us.height="1000";us.frameBorder="0";async function Nm(e,t){O("updateWindy",{lat:e,lon:t}),us.src=`https://embed.windy.com/embed2.html?lat=${e}&lon=${t}&detailLat=${e}&detailLon=${t}&width=800&height=800&zoom=7&level=surface&overlay=radar&product=radar&menu=&message=true&marker=&calendar=now&pressure=true&type=map&location=coordinates&detail=&metricWind=mph&metricTemp=%C2%B0F&radarRange=-1`}var Uc=class extends HTMLElement{connectedCallback(){this.innerHTML='<div class=windy" id="weather-windy" style="margin-top: 20px; margin-bottom: 20px; font-size: 1.4rem; cursor: pointer">windy maps</div>',this.addEventListener("click",()=>{if(this.children.length>1){O("removeWindy");for(let t=1;t<this.children.length;t++)this.removeChild(this.children[t])}else O("appendWindy"),this.appendChild(us)})}};customElements.define("component-windy",Uc);var ds=document.createElement("iframe");ds.id="weather-darksky-iframe";ds.width="1000";ds.height="1000";ds.frameBorder="0";async function Hm(e,t){O("updateDarkSky",{lat:e,lon:t}),ds.src=`https://maps.darksky.net/@precipitation_rate,${e},${t}`}var jc=class extends HTMLElement{connectedCallback(){this.innerHTML='<div class=darksky" id="weather-darksky" style="margin-top: 20px; margin-bottom: 20px; font-size: 1.4rem; cursor: pointer">darksky maps</div>',this.addEventListener("click",()=>{if(this.children.length>1){O("removeDarkSky");for(let t=1;t<this.children.length;t++)this.removeChild(this.children[t])}else O("appendDarkSky"),this.appendChild(ds)})}};customElements.define("component-darksky",jc);var Oo=async e=>{var i;au(e.lat,e.lon),Um(e.name),zm(e.lat,e.lon,Zt.aqicn);let t=await Ni(`https://api.darksky.net/forecast/${Zt.darksky}/${e.lat},${e.lon}`);O("weatherData",t),document.getElementById("main").style.display="block",Zm(t==null?void 0:t.flags),Vm((i=t==null?void 0:t.currently)==null?void 0:i.time),cu(t),hu(t),lu(t),gf(t),Bm(t),Im(e.lat,e.lon),Nm(e.lat,e.lon),Hm(e.lat,e.lon),document.getElementById("loader-container").style.display="none";for(let n of Array.from(document.getElementsByTagName("img"))){let s=0;n.style.visibility="visible";let o=r=>{s+=.01,r.style.opacity=s.toString(),s<1&&setTimeout(()=>o(r),20)};o(n)}};async function Co(){document.getElementById("main").style.display="none",document.getElementById("loader-container").style.display="block";let e=null;if(!e){let t=new URLSearchParams(window.location.search);t.has("location")&&(e=await Jr(t.get("location"),Zt.google))}e||(e=await $m(Zt.google),e.lat!==0&&Wm(e)),e||(e=await qc(),e.lat!==0&&Kr(e)),(e==null?void 0:e.lat)!==0?e.name=await Yc(e.lat,e.lon,Zt.google):document.getElementById("weather-info-ip").innerHTML="cannot automatically determine location",Oo(e)}function Kr(e){O("updateGPSInfo",{loc:e}),document.getElementById("weather-info-gps").innerHTML=Ae(`GPS ${Math.round(1e3*e.lat)/1e3}, ${Math.round(1e3*e.lon)/1e3} \xB1${Math.round(e.accuracy)}m`)}function Wm(e){O("updateIPInfo",{loc:e}),document.getElementById("weather-info-ip").innerHTML=Ae(`IP ${e.ip||""} at ${Math.round(1e3*e.lat)/1e3}, ${Math.round(1e3*e.lon)/1e3} \xB1${Math.round(e.accuracy)}m`)}function Zm(e){O("updateStationInfo",{flags:e});let t=(e==null?void 0:e["nearest-station"])||"Number.POSITIVE_INFINITY";document.getElementById("weather-info-station").innerHTML=Ae(`nearest station ${t} mi`)}function Ym(e){O("updateSearchInfo",{loc:e}),document.getElementById("weather-info-gps").innerHTML=Ae(`location ${Math.round(1e3*e.lat)/1e3}, ${Math.round(1e3*e.lon)/1e3}`),document.getElementById("weather-info-ip").innerHTML=""}var jm;function Vm(e){O("updateForecastAge",{time:e});let t=()=>Math.max(0,Math.round((new Date().getSeconds()-new Date(1e3*e).getSeconds())/60));e&&(document.getElementById("weather-info-age").innerHTML=Ae(`forecast data age ${t()} min`)),!jm&&(jm=setInterval(()=>{e&&(document.getElementById("weather-info-age").innerHTML=Ae(`forecast data age ${t()} min`))},5e3))}function wx(){setInterval(()=>{let e=document.getElementById("weather-info-time");e&&(e.innerHTML=Ae(`${C.now().toLocaleString(C.DATETIME_HUGE)}`))},1e3)}var Gc=class extends HTMLElement{connectedCallback(){this.innerHTML=`
      <div id="weather-info" title="click to reinitialize weather" style="margin: 20px 0 0 0; color: beige; font-size: 1.2rem">
        <div id="weather-info-time"></div>
        <br>
        <div id="weather-info-gps"></div>
        <div id="weather-info-ip"></div>
        <div style="display: flex; justify-content: center">
          <div id="weather-info-station"></div>&nbsp
          <div id="weather-info-age"></div>
        </div>
      </div>`,wx();let t=document.getElementById("weather-info");t&&(t.onclick=async()=>Co())}};customElements.define("component-info",Gc);async function Jr(e,t){let i={name:"",lat:0,lon:0,accuracy:0},n=await Ni(`https://maps.googleapis.com/maps/api/geocode/json?key=${t}&address=${e}`,!1);return O("findByAddress",n),n.results&&n.results[0]?i={name:n.results[0].formatted_address,lat:n.results[0].geometry.location.lat,lon:n.results[0].geometry.location.lng,accuracy:0}:O("findByAddress failed"),i}async function Yc(e,t,i){let n=await Ni(`https://maps.googleapis.com/maps/api/geocode/json?latlng=${e},${t}&key=${i}`,!1),s="";if(n.results){let o=n.results?n.results.filter(r=>r.types.includes("locality")||r.types.includes("neighborhood")):[];if(o.length>0){let r=o[0].address_components.map(l=>l.short_name);s=[...new Set(r)].join(", ")}O("findByLocation",n,s)}else O("findByLocation failed");return s}async function qc(){let e={lat:0,lon:0,accuracy:0,name:""};return navigator.geolocation?new Promise(t=>{setTimeout(()=>{O("getGPSLocation timeout"),t(e)},1e4);try{navigator.geolocation.getCurrentPosition(i=>{O("getGPSLocation",i),t({lat:i.coords.latitude,lon:i.coords.longitude,name:"",accuracy:i.coords.accuracy})},i=>{O("getGPSLocation error",i),t(e)})}catch(i){O("getGPSLocation exception",i),t(e)}}):(O("getGPSLocation denied"),e)}async function $m(e){var s,o;let i=(await Ni("https://api.ipify.org?format=json",!1)).ip,n={ip:i,accuracy:0,lat:25.76,lon:-80.19,name:""};if(e&&e!==""){let a=await(await fetch(`https://www.googleapis.com/geolocation/v1/geolocate?key=${e}`,{method:"POST",body:JSON.stringify({considerIp:!0}),headers:{"Content-Type":"application/json"}})).json();n={ip:i,accuracy:(a==null?void 0:a.accuracy)||n.accuracy,lat:((s=a==null?void 0:a.location)==null?void 0:s.lat)||n.lat,lon:((o=a==null?void 0:a.location)==null?void 0:o.lng)||n.lon,name:""}}return O("getIPLocation",n),n}function Um(e){O("updateAddress",{address:e});let t=document.getElementsByTagName("component-address");for(let i=0;i<t.length;i++)t[i].setAttribute("address",e)}var Xc=class extends HTMLElement{static get observedAttributes(){return["address"]}connectedCallback(){this.innerHTML=""}attributeChangedCallback(t,i,n){if(t!=="address")return;this.innerHTML=`
      <div id="weather-info-text" title="click to detect gps location" style="margin: 20px 0 0 0; font-size: 2rem; color: beige">${n}</div>
    `;let s=document.getElementById("weather-info-text");s.onclick=async()=>{s.innerHTML="detecting gps location";let o=await qc();o.lat!==0?(o.name=await Yc(o.lat,o.lon,Zt.google),Kr(o),Oo(o)):s.innerHTML="gps location failed"}}};customElements.define("component-address",Xc);async function qm(e){e.preventDefault();let t=e,i=document.getElementById("install");if(!i)return;let n=matchMedia("(display-mode: standalone)").matches;O("installable",{installed:n}),n?i.style.display="none":i.style.display="block",i.addEventListener("click",()=>{i.style.display="none",t.prompt(),t.userChoice.then(s=>O("install: ",s.outcome)).catch(s=>O("install error: ",s))})}var Tx="weather";async function Gm(e){if("serviceWorker"in navigator){try{let t,i=await navigator.serviceWorker.getRegistrations();for(let n of i)n.scope.startsWith(window.location.origin)&&(t=n);if(t)O("pwa found:",{scope:t==null?void 0:t.scope});else{let n=await navigator.serviceWorker.register(e);t=n,O("pwa registered:",{scope:n==null?void 0:n.scope})}}catch(t){O("pwa error:",t)}if(navigator.serviceWorker.controller){navigator.serviceWorker.controller.postMessage({}),O("pwa active:",{script:navigator.serviceWorker.controller.scriptURL});let t=await caches.open(Tx);if(t){let i=await t.matchAll();O("pwa cache:",{length:i.length})}}}else O("pwa inactive")}var Mx=`
      uniform mat4 uProjection;
      uniform mat4 uModelview;
      uniform vec3 uResolution;
      uniform vec3 uOffset;
      uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius
      uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start
      attribute vec3 aPosition;
      attribute vec3 aEuler;
      attribute vec2 aMisc; //x:size, y:fade
      varying vec3 pposition;
      varying float psize;
      varying float palpha;
      varying float pdist;
      varying vec3 normX;
      varying vec3 normY;
      varying vec3 normZ;
      varying vec3 normal;
      varying float diffuse;
      varying float specular;
      varying float rstop;
      varying float distancefade;
      void main(void) {
        // Projection is based on vertical angle
        vec4 pos = uModelview * vec4(aPosition + uOffset, 1.0);
        gl_Position = uProjection * pos;
        gl_PointSize = aMisc.x * uProjection[1][1] / -pos.z * uResolution.y * 0.5;
        pposition = pos.xyz;
        psize = aMisc.x;
        pdist = length(pos.xyz);
        palpha = smoothstep(0.0, 1.0, (pdist - 0.1) / uFade.z);
        vec3 elrsn = sin(aEuler);
        vec3 elrcs = cos(aEuler);
        mat3 rotx = mat3(
            1.0, 0.0, 0.0,
            0.0, elrcs.x, elrsn.x,
            0.0, -elrsn.x, elrcs.x
        );
        mat3 roty = mat3(
            elrcs.y, 0.0, -elrsn.y,
            0.0, 1.0, 0.0,
            elrsn.y, 0.0, elrcs.y
        );
        mat3 rotz = mat3(
            elrcs.z, elrsn.z, 0.0, 
            -elrsn.z, elrcs.z, 0.0,
            0.0, 0.0, 1.0
        );
        mat3 rotmat = rotx * roty * rotz;
        normal = rotmat[2];      
        mat3 trrotm = mat3(
            rotmat[0][0], rotmat[1][0], rotmat[2][0],
            rotmat[0][1], rotmat[1][1], rotmat[2][1],
            rotmat[0][2], rotmat[1][2], rotmat[2][2]
        );
        normX = trrotm[0];
        normY = trrotm[1];
        normZ = trrotm[2];
        const vec3 lit = vec3(0.6917144638660746, 0.6917144638660746, -0.20751433915982237);
        float tmpdfs = dot(lit, normal);
        if(tmpdfs < 0.0) {
          normal = -normal;
          tmpdfs = dot(lit, normal);
        }
        diffuse = 0.4 + tmpdfs;      
        vec3 eyev = normalize(-pos.xyz);
        if(dot(eyev, normal) > 0.0) {
          vec3 hv = normalize(eyev + lit);
          specular = pow(max(dot(hv, normal), 0.0), 20.0);
        }
        else {
          specular = 0.0;
        }      
        rstop = clamp((abs(pdist - uDOF.x) - uDOF.y) / uDOF.z, 0.0, 1.0);
        rstop = pow(rstop, 0.5);
        //-0.69315 = ln(0.5)
        distancefade = min(1.0, exp((uFade.x - pdist) * 0.69315 / uFade.y));
      }
`,Sx=`
      #ifdef GL_ES
        // precision mediump float;
        precision highp float;
      #endif    
      uniform vec3 uDOF;  //x:focus distance, y:focus radius, z:max radius
      uniform vec3 uFade; //x:start distance, y:half distance, z:near fade start  
      const vec3 fadeCol = vec3(0.08, 0.03, 0.06);
      varying vec3 pposition;
      varying float psize;
      varying float palpha;
      varying float pdist;
      //varying mat3 rotMat;
      varying vec3 normX;
      varying vec3 normY;
      varying vec3 normZ;
      varying vec3 normal;
      varying float diffuse;
      varying float specular;
      varying float rstop;
      varying float distancefade;
      float ellipse(vec2 p, vec2 o, vec2 r) {
        vec2 lp = (p - o) / r;
        return length(lp) - 1.0;
      }        
      void main(void) {
        vec3 p = vec3(gl_PointCoord - vec2(0.5, 0.5), 0.0) * 2.0;
        vec3 d = vec3(0.0, 0.0, -1.0);
        float nd = normZ.z; //dot(-normZ, d);
        if(abs(nd) < 0.0001) discard;      
        float np = dot(normZ, p);
        vec3 tp = p + d * np / nd;
        vec2 coord = vec2(dot(normX, tp), dot(normY, tp));      
        //angle = 15 degree
        const float flwrsn = 0.258819045102521;
        const float flwrcs = 0.965925826289068;
        mat2 flwrm = mat2(flwrcs, -flwrsn, flwrsn, flwrcs);
        vec2 flwrp = vec2(abs(coord.x), coord.y) * flwrm;      
        float r;
        if(flwrp.x < 0.0) {
          r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.36, 0.96) * 0.5);
        }
        else {
          r = ellipse(flwrp, vec2(0.065, 0.024) * 0.5, vec2(0.58, 0.96) * 0.5);
        }    
        if(r > rstop) discard;
        vec3 col = mix(vec3(1.0, 0.8, 0.75), vec3(1.0, 0.9, 0.87), r);
        float grady = mix(0.0, 1.0, pow(coord.y * 0.5 + 0.5, 0.35));
        col *= vec3(1.0, grady, grady);
        col *= mix(0.8, 1.0, pow(abs(coord.x), 0.3));
        col = col * diffuse + specular;
        col = mix(fadeCol, col, distancefade);
        float alpha = (rstop > 0.001)? (0.5 - r / (rstop * 2.0)) : 1.0;
        alpha = smoothstep(0.0, 1.0, alpha) * palpha;
        gl_FragColor = vec4(col * 0.5, alpha);
      }
`,Ex=`
      uniform vec3 uResolution;
      attribute vec2 aPosition;    
      varying vec2 texCoord;
      varying vec2 screenCoord;
      void main(void) {
        gl_Position = vec4(aPosition, 0.0, 1.0);
        texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);
        screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);
      }
`,Lx=`
      #ifdef GL_ES
        //precision mediump float;
        precision highp float;
      #endif
      uniform vec2 uTimes;
      varying vec2 texCoord;
      varying vec2 screenCoord;    
      void main(void) {
        vec3 col;
        float c;
        vec2 tmpv = texCoord * vec2(0.8, 1.0) - vec2(0.95, 1.0);
        c = exp(-pow(length(tmpv) * 1.8, 2.0));
        col = mix(vec3(0.02, 0.0, 0.03), vec3(0.96, 0.98, 1.0) * 1.5, c);
        gl_FragColor = vec4(col * 0.5, 1.0);
      }
`,Px=`
      #ifdef GL_ES
        //precision mediump float;
        precision highp float;
      #endif
      uniform sampler2D uSrc;
      uniform vec2 uDelta;
      varying vec2 texCoord;
      varying vec2 screenCoord;
      void main(void) {
        vec4 col = texture2D(uSrc, texCoord);
        gl_FragColor = vec4(col.rgb * 2.0 - vec3(0.5), 1.0);
      }
`,kx=`
      #ifdef GL_ES
        //precision mediump float;
        precision highp float;
      #endif
      uniform sampler2D uSrc;
      uniform vec2 uDelta;
      uniform vec4 uBlurDir; //dir(x, y), stride(z, w)    
      varying vec2 texCoord;
      varying vec2 screenCoord;
      void main(void) {
        vec4 col = texture2D(uSrc, texCoord);
        col = col + texture2D(uSrc, texCoord + uBlurDir.xy * uDelta);
        col = col + texture2D(uSrc, texCoord - uBlurDir.xy * uDelta);
        col = col + texture2D(uSrc, texCoord + (uBlurDir.xy + uBlurDir.zw) * uDelta);
        col = col + texture2D(uSrc, texCoord - (uBlurDir.xy + uBlurDir.zw) * uDelta);
        gl_FragColor = col / 5.0;
      }
`,Ox=`
      uniform vec3 uResolution;
      attribute vec2 aPosition;
      varying vec2 texCoord;
      varying vec2 screenCoord;
      void main(void) {
        gl_Position = vec4(aPosition, 0.0, 1.0);
        texCoord = aPosition.xy * 0.5 + vec2(0.5, 0.5);
        screenCoord = aPosition.xy * vec2(uResolution.z, 1.0);
      }
`,Cx=`
      #ifdef GL_ES
        //precision mediump float;
        precision highp float;
      #endif
      uniform sampler2D uSrc;
      uniform sampler2D uBloom;
      uniform vec2 uDelta;
      varying vec2 texCoord;
      varying vec2 screenCoord;
      void main(void) {
        vec4 srccol = texture2D(uSrc, texCoord) * 2.0;
        vec4 bloomcol = texture2D(uBloom, texCoord);
        vec4 col;
        col = srccol + bloomcol * (vec4(1.0) + srccol);
        col *= smoothstep(1.0, 0.0, pow(length((texCoord - vec2(0.5)) * 2.0), 1.2) * 0.5);
        col = pow(col, vec4(0.45454545454545)); //(1.0 / 2.2)
        
        gl_FragColor = vec4(col.rgb, 1.0);
        gl_FragColor.a = 1.0;
      }
`,Ro,Pt={},dn={};Pt.create=(e,t,i)=>({x:e,y:t,z:i});Pt.dot=(e,t)=>e.x*t.x+e.y*t.y+e.z*t.z;Pt.cross=(e,t,i)=>{e.x=t.y*i.z-t.z*i.y,e.y=t.z*i.x-t.x*i.z,e.z=t.x*i.y-t.y*i.x};Pt.normalize=e=>{let t=e.x*e.x+e.y*e.y+e.z*e.z;t>1e-5&&(t=1/Math.sqrt(t),e.x*=t,e.y*=t,e.z*=t)};Pt.arrayForm=e=>(e.array?(e.array[0]=e.x,e.array[1]=e.y,e.array[2]=e.z):e.array=new Float32Array([e.x,e.y,e.z]),e.array);dn.createIdentity=()=>new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);dn.loadProjection=(e,t,i,n,s)=>{let o=n*Math.tan(i*Math.PI/180*.5)*2,r=o*t;e[0]=2*n/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=2*n/o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=-(s+n)/(s-n),e[11]=-1,e[12]=0,e[13]=0,e[14]=-2*s*n/(s-n),e[15]=0};dn.loadLookAt=(e,t,i,n)=>{let s=Pt.create(t.x-i.x,t.y-i.y,t.z-i.z);Pt.normalize(s);let o=Pt.create(1,0,0);Pt.cross(o,n,s),Pt.normalize(o);let r=Pt.create(1,0,0);Pt.cross(r,s,o),Pt.normalize(r),e[0]=o.x,e[1]=r.x,e[2]=s.x,e[3]=0,e[4]=o.y,e[5]=r.y,e[6]=s.y,e[7]=0,e[8]=o.z,e[9]=r.z,e[10]=s.z,e[11]=0,e[12]=-(t.x*e[0]+t.y*e[4]+t.z*e[8]),e[13]=-(t.x*e[1]+t.y*e[5]+t.z*e[9]),e[14]=-(t.x*e[2]+t.y*e[6]+t.z*e[10]),e[15]=1};var xe={start:0,prev:0,delta:0,elapsed:0},_,I={width:0,height:0,aspect:1,array:new Float32Array(3),halfWidth:0,halfHeight:0,halfArray:new Float32Array(3)};I.setSize=(e,t)=>{I.width=e,I.height=t,I.aspect=I.width/I.height,I.array[0]=I.width,I.array[1]=I.height,I.array[2]=I.aspect,I.halfWidth=Math.floor(e/2),I.halfHeight=Math.floor(t/2),I.halfArray[0]=I.halfWidth,I.halfArray[1]=I.halfHeight,I.halfArray[2]=I.halfWidth/I.halfHeight};function Dx(e){_.deleteFramebuffer(e.frameBuffer),_.deleteRenderbuffer(e.renderBuffer),_.deleteTexture(e.texture)}function Ax(e,t){let i={width:e,height:t,sizeArray:new Float32Array([e,t,e/t]),dtxArray:new Float32Array([1/e,1/t])};return i.frameBuffer=_.createFramebuffer(),i.renderBuffer=_.createRenderbuffer(),i.texture=_.createTexture(),_.bindTexture(_.TEXTURE_2D,i.texture),_.texImage2D(_.TEXTURE_2D,0,_.RGBA,e,t,0,_.RGBA,_.UNSIGNED_BYTE,null),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,_.LINEAR),_.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,_.LINEAR),_.bindFramebuffer(_.FRAMEBUFFER,i.frameBuffer),_.framebufferTexture2D(_.FRAMEBUFFER,_.COLOR_ATTACHMENT0,_.TEXTURE_2D,i.texture,0),_.bindRenderbuffer(_.RENDERBUFFER,i.renderBuffer),_.renderbufferStorage(_.RENDERBUFFER,_.DEPTH_COMPONENT16,e,t),_.framebufferRenderbuffer(_.FRAMEBUFFER,_.DEPTH_ATTACHMENT,_.RENDERBUFFER,i.renderBuffer),_.bindTexture(_.TEXTURE_2D,null),_.bindRenderbuffer(_.RENDERBUFFER,null),_.bindFramebuffer(_.FRAMEBUFFER,null),i}function Xm(e,t){let i=_.createShader(e);if(_.shaderSource(i,t),_.compileShader(i),!_.getShaderParameter(i,_.COMPILE_STATUS)){let n=_.getShaderInfoLog(i);return _.deleteShader(i),console.error(n),null}return i}function Km(e,t,i,n){let s=Xm(_.VERTEX_SHADER,e),o=Xm(_.FRAGMENT_SHADER,t);if(s==null||o==null)return null;let r=_.createProgram();if(_.attachShader(r,s),_.attachShader(r,o),_.deleteShader(s),_.deleteShader(o),_.linkProgram(r),!_.getProgramParameter(r,_.LINK_STATUS)){let a=_.getProgramInfoLog(r);return console.error(a),null}if(i){r.uniforms={};for(let a=0;a<i.length;a++)r.uniforms[i[a]]=_.getUniformLocation(r,i[a])}if(n){r.attributes={};for(let a=0;a<n.length;a++){let l=n[a];r.attributes[l]=_.getAttribLocation(r,l)}}return r}function ta(e){_.useProgram(e);for(let t in e.attributes)_.enableVertexAttribArray(e.attributes[t])}function ea(e){for(let t in e.attributes)_.disableVertexAttribArray(e.attributes[t]);_.useProgram(null)}var hn={angle:60,nearfar:new Float32Array([.1,100]),matrix:dn.createIdentity()},be={position:Pt.create(0,0,100),lookat:Pt.create(0,0,0),up:Pt.create(0,1,0),dof:Pt.create(10,4,8),matrix:dn.createIdentity()},T={},Jm=!1,fn=function(){this.velocity=new Array(3),this.rotation=new Array(3),this.position=new Array(3),this.euler=new Array(3),this.size=1,this.alpha=1,this.zkey=0};fn.prototype.setVelocity=function(e,t,i){this.velocity[0]=e,this.velocity[1]=t,this.velocity[2]=i};fn.prototype.setRotation=function(e,t,i){this.rotation[0]=e,this.rotation[1]=t,this.rotation[2]=i};fn.prototype.setPosition=function(e,t,i){this.position[0]=e,this.position[1]=t,this.position[2]=i};fn.prototype.setEulerAngles=function(e,t,i){this.euler[0]=e,this.euler[1]=t,this.euler[2]=i};fn.prototype.setSize=function(e){this.size=e};fn.prototype.update=function(e){this.position[0]+=this.velocity[0]*e,this.position[1]+=this.velocity[1]*e,this.position[2]+=this.velocity[2]*e,this.euler[0]+=this.rotation[0]*e,this.euler[1]+=this.rotation[1]*e,this.euler[2]+=this.rotation[2]*e};function Ix(){let e=_.getParameter(_.ALIASED_POINT_SIZE_RANGE);I.pointSize={min:e[0],max:e[1]};let t=Mx,i=Sx;T.program=Km(t,i,["uProjection","uModelview","uResolution","uOffset","uDOF","uFade"],["aPosition","aEuler","aMisc"]),ta(T.program),T.offset=new Float32Array([0,0,0]),T.fader=Pt.create(0,10,0),T.numFlowers=1600,T.particles=new Array(T.numFlowers),T.dataArray=new Float32Array(T.numFlowers*(3+3+2)),T.positionArrayOffset=0,T.eulerArrayOffset=T.numFlowers*3,T.miscArrayOffset=T.numFlowers*6,T.buffer=_.createBuffer(),_.bindBuffer(_.ARRAY_BUFFER,T.buffer),_.bufferData(_.ARRAY_BUFFER,T.dataArray,_.DYNAMIC_DRAW),_.bindBuffer(_.ARRAY_BUFFER,null),ea(T.program);for(let n=0;n<T.numFlowers;n++)T.particles[n]=new fn}function Rx(){T.area=Pt.create(20,20,20),T.area.x=T.area.y*I.aspect,T.fader.x=10,T.fader.y=T.area.z,T.fader.z=.1;let e=Math.PI*2,t=Pt.create(0,0,0),i=0,n=()=>Math.random()*2-1;for(let s=0;s<T.numFlowers;s++){let o=T.particles[s];t.x=n()*.3+.8,t.y=n()*.2-1,t.z=n()*.3+.5,Pt.normalize(t),i=2+Math.random()*1,o.setVelocity(t.x*i,t.y*i,t.z*i),o.setRotation(n()*e*.5,n()*e*.5,n()*e*.5),o.setPosition(n()*T.area.x,n()*T.area.y,n()*T.area.z),o.setEulerAngles(Math.random()*Math.PI*2,Math.random()*Math.PI*2,Math.random()*Math.PI*2),o.setSize(.9+Math.random()*.1)}}function Fx(){let e=Math.PI*2,t=(a,l,c)=>{Math.abs(a.position[l])-a.size*.5>c&&(a.position[l]>0?a.position[l]-=c*2:a.position[l]+=c*2)},i=(a,l)=>{a.euler[l]=a.euler[l]%e,a.euler[l]<0&&(a.euler[l]+=e)};for(let a=0;a<T.numFlowers;a++){let l=T.particles[a];l.update(xe.delta,xe.elapsed),t(l,0,T.area.x),t(l,1,T.area.y),t(l,2,T.area.z),i(l,0),i(l,1),i(l,2),l.alpha=1,l.zkey=be.matrix[2]*l.position[0]+be.matrix[6]*l.position[1]+be.matrix[10]*l.position[2]+be.matrix[14]}T.particles.sort((a,l)=>a.zkey-l.zkey);let n=T.positionArrayOffset,s=T.eulerArrayOffset,o=T.miscArrayOffset;for(let a=0;a<T.numFlowers;a++){let l=T.particles[a];T.dataArray[n]=l.position[0],T.dataArray[n+1]=l.position[1],T.dataArray[n+2]=l.position[2],n+=3,T.dataArray[s]=l.euler[0],T.dataArray[s+1]=l.euler[1],T.dataArray[s+2]=l.euler[2],s+=3,T.dataArray[o]=l.size,T.dataArray[o+1]=l.alpha,o+=2}_.enable(_.BLEND),_.blendFunc(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA);let r=T.program;ta(r),_.uniformMatrix4fv(r.uniforms.uProjection,!1,hn.matrix),_.uniformMatrix4fv(r.uniforms.uModelview,!1,be.matrix),_.uniform3fv(r.uniforms.uResolution,I.array),_.uniform3fv(r.uniforms.uDOF,Pt.arrayForm(be.dof)),_.uniform3fv(r.uniforms.uFade,Pt.arrayForm(T.fader)),_.bindBuffer(_.ARRAY_BUFFER,T.buffer),_.bufferData(_.ARRAY_BUFFER,T.dataArray,_.DYNAMIC_DRAW),_.vertexAttribPointer(r.attributes.aPosition,3,_.FLOAT,!1,0,T.positionArrayOffset*Float32Array.BYTES_PER_ELEMENT),_.vertexAttribPointer(r.attributes.aEuler,3,_.FLOAT,!1,0,T.eulerArrayOffset*Float32Array.BYTES_PER_ELEMENT),_.vertexAttribPointer(r.attributes.aMisc,2,_.FLOAT,!1,0,T.miscArrayOffset*Float32Array.BYTES_PER_ELEMENT);for(let a=1;a<2;a++){let l=a*-2;T.offset[0]=T.area.x*-1,T.offset[1]=T.area.y*-1,T.offset[2]=T.area.z*l,_.uniform3fv(r.uniforms.uOffset,T.offset),_.drawArrays(_.POINT,0,T.numFlowers),T.offset[0]=T.area.x*-1,T.offset[1]=T.area.y*1,T.offset[2]=T.area.z*l,_.uniform3fv(r.uniforms.uOffset,T.offset),_.drawArrays(_.POINT,0,T.numFlowers),T.offset[0]=T.area.x*1,T.offset[1]=T.area.y*-1,T.offset[2]=T.area.z*l,_.uniform3fv(r.uniforms.uOffset,T.offset),_.drawArrays(_.POINT,0,T.numFlowers),T.offset[0]=T.area.x*1,T.offset[1]=T.area.y*1,T.offset[2]=T.area.z*l,_.uniform3fv(r.uniforms.uOffset,T.offset),_.drawArrays(_.POINT,0,T.numFlowers)}T.offset[0]=0,T.offset[1]=0,T.offset[2]=0,_.uniform3fv(r.uniforms.uOffset,T.offset),_.drawArrays(_.POINT,0,T.numFlowers),_.bindBuffer(_.ARRAY_BUFFER,null),ea(r),_.enable(_.DEPTH_TEST),_.disable(_.BLEND)}function Qr(e,t,i,n){let s={},o=["uResolution","uSrc","uDelta"];i&&(o=o.concat(i));let r=["aPosition"];return n&&(r=r.concat(n)),s.program=Km(e,t,o,r),ta(s.program),s.dataArray=new Float32Array([-1,-1,1,-1,-1,1,1,1]),s.buffer=_.createBuffer(),_.bindBuffer(_.ARRAY_BUFFER,s.buffer),_.bufferData(_.ARRAY_BUFFER,s.dataArray,_.STATIC_DRAW),_.bindBuffer(_.ARRAY_BUFFER,null),ea(s.program),s}function Do(e,t){let i=e.program;ta(i),_.uniform3fv(i.uniforms.uResolution,I.array),t!=null&&(_.uniform2fv(i.uniforms.uDelta,t.dtxArray),_.uniform1i(i.uniforms.uSrc,0),_.activeTexture(_.TEXTURE0),_.bindTexture(_.TEXTURE_2D,t.texture))}function Ao(e){_.bindBuffer(_.ARRAY_BUFFER,e.buffer),_.vertexAttribPointer(e.program.attributes.aPosition,2,_.FLOAT,!1,0,0),_.drawArrays(_.TRIANGLE_STRIP,0,4)}function Io(e){ea(e.program)}var Lt={};function zx(){let e,t=Ex;e=Lx,Lt.sceneBg=Qr(t,e,["uTimes"],null),e=Px,Lt.mkBrightBuf=Qr(t,e,null,null),e=kx,Lt.dirBlur=Qr(t,e,["uBlurDir"],null);let i=Ox;e=Cx,Lt.finalComp=Qr(i,e,["uBloom"],null)}function Bx(){_.disable(_.DEPTH_TEST),Do(Lt.sceneBg,null),_.uniform2f(Lt.sceneBg.program.uniforms.uTimes,xe.elapsed,xe.delta),Ao(Lt.sceneBg),Io(Lt.sceneBg),_.enable(_.DEPTH_TEST)}function Nx(){_.disable(_.DEPTH_TEST);let e=(t,i)=>{_.bindFramebuffer(_.FRAMEBUFFER,t.frameBuffer),_.viewport(0,0,t.width,t.height),i&&(_.clearColor(0,0,0,0),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT))};e(I.wHalfRT0,!0),Do(Lt.mkBrightBuf,I.mainRT),Ao(Lt.mkBrightBuf),Io(Lt.mkBrightBuf);for(let t=0;t<2;t++){let i=1.5+1*t,n=2+1*t;e(I.wHalfRT1,!0),Do(Lt.dirBlur,I.wHalfRT0),_.uniform4f(Lt.dirBlur.program.uniforms.uBlurDir,i,0,n,0),Ao(Lt.dirBlur),Io(Lt.dirBlur),e(I.wHalfRT0,!0),Do(Lt.dirBlur,I.wHalfRT1),_.uniform4f(Lt.dirBlur.program.uniforms.uBlurDir,0,i,0,n),Ao(Lt.dirBlur),Io(Lt.dirBlur)}_.bindFramebuffer(_.FRAMEBUFFER,null),_.viewport(0,0,I.width,I.height),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT),Do(Lt.finalComp,I.mainRT),_.uniform1i(Lt.finalComp.program.uniforms.uBloom,1),_.activeTexture(_.TEXTURE1),_.bindTexture(_.TEXTURE_2D,I.wHalfRT0.texture),Ao(Lt.finalComp),Io(Lt.finalComp),_.enable(_.DEPTH_TEST)}function Hx(){zx(),Ix(),Jm=!0}function Qm(){Rx(),be.position.z=T.area.z+hn.nearfar[0],hn.angle=Math.atan2(T.area.y,be.position.z+T.area.z)*180/Math.PI*2,dn.loadProjection(hn.matrix,I.aspect,hn.angle,hn.nearfar[0],hn.nearfar[1])}function Wx(){dn.loadLookAt(be.matrix,be.position,be.lookat,be.up),_.enable(_.DEPTH_TEST),_.bindFramebuffer(_.FRAMEBUFFER,I.mainRT.frameBuffer),_.viewport(0,0,I.mainRT.width,I.mainRT.height),_.clearColor(.005,0,.05,0),_.clear(_.COLOR_BUFFER_BIT|_.DEPTH_BUFFER_BIT),Bx(),Fx(),Nx()}function tp(){let e=document.body,t=document.documentElement,i=Math.max(e.clientWidth,e.scrollWidth,t.scrollWidth,t.clientWidth),n=Math.max(e.clientHeight,e.scrollHeight,t.scrollHeight,t.clientHeight);Ro.width=i,Ro.height=n}function ep(){I.setSize(_.canvas.width,_.canvas.height),_.clearColor(.2,.2,.5,1),_.viewport(0,0,I.width,I.height);let e=(t,i,n)=>{let s=I[t];s&&Dx(s),I[t]=Ax(i,n)};e("mainRT",I.width,I.height),e("wFullRT0",I.width,I.height),e("wFullRT1",I.width,I.height),e("wHalfRT0",I.halfWidth,I.halfHeight),e("wHalfRT1",I.halfWidth,I.halfHeight)}function Zx(){tp(),ep(),Jm&&Qm()}var un=!0;function ip(){let e=new Date;xe.elapsed=(e-xe.start)/1e3,xe.delta=(e-xe.prev)/1e3,xe.prev=e,requestAnimationFrame(ip),un&&Wx()}function np(){O("createSakura"),Ro=document.getElementById("sakura");try{_=Ro.getContext("webgl")}catch(e){O("createSakura",e);return}tp(),ep(),Hx(),Qm(),xe.start=new Date,xe.prev=xe.start,ip(),Ro.onclick=()=>{un=!un,O("sakura",{run:un})},document.body.addEventListener("click",()=>{un=!un,O("sakura",{run:un})})}window.onresize=()=>Zx();var fs;function sp(e,t){let i=e.lastElementChild.cloneNode(!0);i.textContent=t,e.classList.add("component-clock-move"),e.appendChild(i),setTimeout(()=>{e.classList.remove("component-clock-move"),e.removeChild(e.firstElementChild)},750)}function Kc(e,t){let i=t.toString().padStart(2,"0").split(""),n=e.firstElementChild;n.lastElementChild.textContent!==i[0]&&sp(n,i[0]);let s=e.lastElementChild;s.lastElementChild.textContent!==i[1]&&sp(s,i[1])}function Qc(e){let t=new Date;fs||(e=!0,fs=t),document.getElementById("component-clock")&&((e||fs.getHours()!==t.getHours())&&Kc(document.getElementById("component-clock-hours"),t.getHours()),(e||fs.getMinutes()!==t.getMinutes())&&Kc(document.getElementById("component-clock-minutes"),t.getMinutes()),(e||fs.getSeconds()!==t.getSeconds())&&Kc(document.getElementById("component-clock-seconds"),t.getSeconds()),fs=t)}var Jc=class extends HTMLElement{connectedCallback(){this.innerHTML=`
      <div id="component-clock" class="component-clock">
        <div id="component-clock-hours"><div><div>0</div></div><div><div>0</div></div></div>
        <span>:</span>
        <div id="component-clock-minutes"><div><div>0</div></div><div><div>0</div></div></div>
        <span>:</span>
        <div id="component-clock-seconds"><div><div>0</div></div><div><div>0</div></div></div>   
      </div>`,setInterval(()=>Qc(!1),1e3)}};customElements.define("component-clock",Jc);async function Vx(){op.default.init({mainElement:"body",onRefresh(){O("pullRefresh"),Co()}});let e=document.getElementById("input-address");e.onchange=async()=>{O("inputAddress",e.value);let t=e.value.trim();if(t.length>2){let i=await Jr(t,Zt.google);Ym(i),Oo(i)}}}async function $x(){O("weather app"),np(),Qc(!0),window.addEventListener("beforeinstallprompt",e=>qm(e)),await Gm("../dist/pwa-serviceworker.js"),await Zt.init(),Co(),Vx()}window.onload=$x;
//# sourceMappingURL=index.js.map
